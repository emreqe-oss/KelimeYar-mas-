(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const PR="modulepreload",DR=function(n){return"/"+n},gu={},Q=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=l(t.map(u=>{if(u=DR(u),u in gu)return;gu[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const T=document.createElement("link");if(T.rel=h?"stylesheet":PR,h||(T.as="script"),T.crossOrigin="",T.href=u,c&&T.setAttribute("nonce",c),document.head.appendChild(T),h)return new Promise((g,K)=>{T.addEventListener("load",g),T.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};let rh=null,sh=null,ih=null,oh=null,ah=null,ch=null,lh=null,Ah=null,Kc={},Sc=!1,uh=null,Eh=null,hh=null,dh=null,fh=null;function Ha(n){rh=n}function F(){return rh}function jt(n){sh=n}function Xe(){return sh}function Ur(n){ih=n}function Et(){return ih}function He(n){oh=n}function Ee(){return oh}function Jn(n){ah=n}function lt(){return ah}function CR(n){ch=n}function wR(){return ch}function BR(n){lh=n}function vR(){return lh}function Th(n){Ah=n}function Rh(){return Ah}function Ss(){return Kc}function Fs(n){Kc=n}function Ht(){Kc={},Kh()}function mh(n){Sc=n}function Mc(){return Sc}function mt(){Sc=!1}function Nc(n){uh=n}function yc(){return uh}function Oo(n){Eh=n}function ph(){return Eh}function Fi(n){hh=n}function Yi(){return hh}function Lh(n){dh=n}function gh(){return dh}function Ga(n){fh=n}function xa(){return fh}let _c=new Set;function bR(n){_c.add(n)}function Ih(){return Array.from(_c)}function Kh(){_c.clear()}const Sh=Object.freeze(Object.defineProperty({__proto__:null,addPresentJokerLetter:bR,getChallengedFriendId:Rh,getCurrentGameId:Et,getCurrentUserProfile:Xe,getFriendsUnsubscribe:Yi,getGameIdFromUrl:vR,getGameMode:lt,getGameUnsubscribe:yc,getHasUserStartedTyping:Mc,getInvitesUnsubscribe:gh,getKnownCorrectPositions:Ss,getLocalGameData:Ee,getMyGamesUnsubscribe:xa,getPresentJokerLetters:Ih,getSinglePlayerMode:wR,getTurnTimerInterval:ph,getUserId:F,resetHasUserStartedTyping:mt,resetKnownCorrectPositions:Ht,resetPresentJokerLetters:Kh,setChallengedFriendId:Th,setCurrentGameId:Ur,setCurrentUserProfile:jt,setFriendsUnsubscribe:Fi,setGameIdFromUrl:BR,setGameMode:Jn,setGameUnsubscribe:Nc,setHasUserStartedTyping:mh,setInvitesUnsubscribe:Lh,setKnownCorrectPositions:Fs,setLocalGameData:He,setMyGamesUnsubscribe:Ga,setSinglePlayerMode:CR,setTurnTimerInterval:Oo,setUserId:Ha},Symbol.toStringTag,{value:"Module"})),VR=()=>{};var Iu={};const Mh=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},kR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],c=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Nh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,c=o?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,h=i>>2,d=(i&3)<<4|c>>4;let T=(c&15)<<2|u>>6,g=u&63;l||(g=64,o||(T=64)),r.push(t[h],t[d],t[T],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Mh(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const d=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||c==null||u==null||d==null)throw new FR;const T=i<<2|c>>4;if(r.push(T),u!==64){const g=c<<4&240|u>>2;if(r.push(g),d!==64){const K=u<<6&192|d;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YR=function(n){const e=Mh(n);return Nh.encodeByteArray(e,!0)},Zi=function(n){return YR(n).replace(/\./g,"")},yh=function(n){try{return Nh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HR=()=>ZR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof Iu>"u")return;const n=Iu.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yh(n[1]);return e&&JSON.parse(e)},Po=()=>{try{return VR()||HR()||GR()||xR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_h=n=>Po()?.emulatorHosts?.[n],jR=n=>{const e=_h(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Uh=()=>Po()?.config,Oh=n=>Po()?.[`_${n}`];class $R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Or(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ph(n){return(await fetch(n,{credentials:"include"})).ok}function qR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zi(JSON.stringify(t)),Zi(JSON.stringify(o)),""].join(".")}const hs={};function WR(){const n={prod:[],emulator:[]};for(const e of Object.keys(hs))hs[e]?n.emulator.push(e):n.prod.push(e);return n}function zR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ku=!1;function Dh(n,e){if(typeof window>"u"||typeof document>"u"||!Or(window.location.host)||hs[n]===e||hs[n]||Ku)return;hs[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",i=WR().prod.length>0;function o(){const T=document.getElementById(r);T&&T.remove()}function c(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function l(T,g){T.setAttribute("width","24"),T.setAttribute("id",g),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function u(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ku=!0,o()},T}function h(T,g){T.setAttribute("id",g),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function d(){const T=zR(r),g=t("text"),K=document.getElementById(g)||document.createElement("span"),M=t("learnmore"),_=document.getElementById(M)||document.createElement("a"),C=t("preprendIcon"),v=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const w=T.element;c(w),h(_,M);const k=u();l(v,C),w.append(v,K,_,k),document.body.appendChild(w)}i?(K.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function QR(){const n=Po()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function em(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nm(){const n=Ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rm(){return!QR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sm(){try{return typeof indexedDB=="object"}catch{return!1}}function im(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function mN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const om="FirebaseError";class en extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=om,Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ys.prototype.create)}}class Ys{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?am(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new en(s,c,r)}}function am(n,e){return n.replace(cm,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cm=/\{\$([^}]+)}/g;function lm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wt(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(Su(i)&&Su(o)){if(!Wt(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Su(n){return n!==null&&typeof n=="object"}function Zs(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function is(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function os(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Am(n,e){const t=new um(n,e);return t.subscribe.bind(t)}class um{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Em(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Na),s.error===void 0&&(s.error=Na),s.complete===void 0&&(s.complete=Na);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Em(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Na(){}function Te(n){return n&&n._delegate?n._delegate:n}class Gn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fn="[DEFAULT]";class hm{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $R;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fm(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fn){return this.instances.has(e)}getOptions(e=Fn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dm(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fn){return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dm(n){return n===Fn?void 0:n}function fm(n){return n.instantiationMode==="EAGER"}class Tm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var X;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(X||(X={}));const Rm={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},mm=X.INFO,pm={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Lm=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=pm[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uc{constructor(e){this.name=e,this._logLevel=mm,this._logHandler=Lm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const gm=(n,e)=>e.some(t=>n instanceof t);let Mu,Nu;function Im(){return Mu||(Mu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Km(){return Nu||(Nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ch=new WeakMap,ja=new WeakMap,wh=new WeakMap,ya=new WeakMap,Oc=new WeakMap;function Sm(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t($t(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Ch.set(t,n)}).catch(()=>{}),Oc.set(e,n),e}function Mm(n){if(ja.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});ja.set(n,e)}let $a={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ja.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wh.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $t(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Nm(n){$a=n($a)}function ym(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(_a(this),e,...t);return wh.set(r,e.sort?e.sort():[e]),$t(r)}:Km().includes(n)?function(...e){return n.apply(_a(this),e),$t(Ch.get(this))}:function(...e){return $t(n.apply(_a(this),e))}}function _m(n){return typeof n=="function"?ym(n):(n instanceof IDBTransaction&&Mm(n),gm(n,Im())?new Proxy(n,$a):n)}function $t(n){if(n instanceof IDBRequest)return Sm(n);if(ya.has(n))return ya.get(n);const e=_m(n);return e!==n&&(ya.set(n,e),Oc.set(e,n)),e}const _a=n=>Oc.get(n);function Um(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),c=$t(o);return r&&o.addEventListener("upgradeneeded",l=>{r($t(o.result),l.oldVersion,l.newVersion,$t(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}function pN(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),$t(t).then(()=>{})}const Om=["get","getKey","getAll","getAllKeys","count"],Pm=["put","add","delete","clear"],Ua=new Map;function yu(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ua.get(e))return Ua.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Pm.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Om.includes(t)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[t](...c),s&&l.done]))[0]};return Ua.set(e,i),i}Nm(n=>({...n,get:(e,t,r)=>yu(e,t)||n.get(e,t,r),has:(e,t)=>!!yu(e,t)||n.has(e,t)}));class Dm{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Cm(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Cm(n){return n.getComponent()?.type==="VERSION"}const qa="@firebase/app",_u="0.14.6";const zt=new Uc("@firebase/app"),wm="@firebase/app-compat",Bm="@firebase/analytics-compat",vm="@firebase/analytics",bm="@firebase/app-check-compat",Vm="@firebase/app-check",km="@firebase/auth",Fm="@firebase/auth-compat",Ym="@firebase/database",Zm="@firebase/data-connect",Hm="@firebase/database-compat",Gm="@firebase/functions",xm="@firebase/functions-compat",jm="@firebase/installations",$m="@firebase/installations-compat",qm="@firebase/messaging",Wm="@firebase/messaging-compat",zm="@firebase/performance",Jm="@firebase/performance-compat",Qm="@firebase/remote-config",Xm="@firebase/remote-config-compat",ep="@firebase/storage",tp="@firebase/storage-compat",np="@firebase/firestore",rp="@firebase/ai",sp="@firebase/firestore-compat",ip="firebase",op="12.6.0";const Wa="[DEFAULT]",ap={[qa]:"fire-core",[wm]:"fire-core-compat",[vm]:"fire-analytics",[Bm]:"fire-analytics-compat",[Vm]:"fire-app-check",[bm]:"fire-app-check-compat",[km]:"fire-auth",[Fm]:"fire-auth-compat",[Ym]:"fire-rtdb",[Zm]:"fire-data-connect",[Hm]:"fire-rtdb-compat",[Gm]:"fire-fn",[xm]:"fire-fn-compat",[jm]:"fire-iid",[$m]:"fire-iid-compat",[qm]:"fire-fcm",[Wm]:"fire-fcm-compat",[zm]:"fire-perf",[Jm]:"fire-perf-compat",[Qm]:"fire-rc",[Xm]:"fire-rc-compat",[ep]:"fire-gcs",[tp]:"fire-gcs-compat",[np]:"fire-fst",[sp]:"fire-fst-compat",[rp]:"fire-vertex","fire-js":"fire-js",[ip]:"fire-js-all"};const Hi=new Map,cp=new Map,za=new Map;function Uu(n,e){try{n.container.addComponent(e)}catch(t){zt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lr(n){const e=n.name;if(za.has(e))return zt.debug(`There were multiple attempts to register component ${e}.`),!1;za.set(e,n);for(const t of Hi.values())Uu(t,n);for(const t of cp.values())Uu(t,n);return!0}function Pc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tt(n){return n==null?!1:n.settings!==void 0}const lp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new Ys("app","Firebase",lp);class Ap{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Pr=op;function Bh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Wa,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Rn.create("bad-app-name",{appName:String(s)});if(t||(t=Uh()),!t)throw Rn.create("no-options");const i=Hi.get(s);if(i){if(Wt(t,i.options)&&Wt(r,i.config))return i;throw Rn.create("duplicate-app",{appName:s})}const o=new Tm(s);for(const l of za.values())o.addComponent(l);const c=new Ap(t,r,o);return Hi.set(s,c),c}function vh(n=Wa){const e=Hi.get(n);if(!e&&n===Wa&&Uh())return Bh();if(!e)throw Rn.create("no-app",{appName:n});return e}function mn(n,e,t){let r=ap[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zt.warn(o.join(" "));return}Lr(new Gn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const up="firebase-heartbeat-database",Ep=1,Ms="firebase-heartbeat-store";let Oa=null;function bh(){return Oa||(Oa=Um(up,Ep,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ms)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rn.create("idb-open",{originalErrorMessage:n.message})})),Oa}async function hp(n){try{const t=(await bh()).transaction(Ms),r=await t.objectStore(Ms).get(Vh(n));return await t.done,r}catch(e){if(e instanceof en)zt.warn(e.message);else{const t=Rn.create("idb-get",{originalErrorMessage:e?.message});zt.warn(t.message)}}}async function Ou(n,e){try{const r=(await bh()).transaction(Ms,"readwrite");await r.objectStore(Ms).put(e,Vh(n)),await r.done}catch(t){if(t instanceof en)zt.warn(t.message);else{const r=Rn.create("idb-set",{originalErrorMessage:t?.message});zt.warn(r.message)}}}function Vh(n){return`${n.name}!${n.options.appId}`}const dp=1024,fp=30;class Tp{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mp(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pu();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>fp){const s=pp(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zt.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pu(),{heartbeatsToSend:t,unsentEntries:r}=Rp(this._heartbeatsCache.heartbeats),s=Zi(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return zt.warn(e),""}}}function Pu(){return new Date().toISOString().substring(0,10)}function Rp(n,e=dp){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Du(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Du(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mp{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sm()?im().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hp(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ou(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ou(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Du(n){return Zi(JSON.stringify({version:2,heartbeats:n})).length}function pp(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Lp(n){Lr(new Gn("platform-logger",e=>new Dm(e),"PRIVATE")),Lr(new Gn("heartbeat",e=>new Tp(e),"PRIVATE")),mn(qa,_u,n),mn(qa,_u,"esm2020"),mn("fire-js","")}Lp("");var gp="firebase",Ip="12.6.0";mn(gp,Ip,"app");var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pn,kh;(function(){var n;function e(I,m){function L(){}L.prototype=m.prototype,I.F=m.prototype,I.prototype=new L,I.prototype.constructor=I,I.D=function(S,R,N){for(var p=Array(arguments.length-2),be=2;be<arguments.length;be++)p[be-2]=arguments[be];return m.prototype[R].apply(S,p)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,m,L){L||(L=0);const S=Array(16);if(typeof m=="string")for(var R=0;R<16;++R)S[R]=m.charCodeAt(L++)|m.charCodeAt(L++)<<8|m.charCodeAt(L++)<<16|m.charCodeAt(L++)<<24;else for(R=0;R<16;++R)S[R]=m[L++]|m[L++]<<8|m[L++]<<16|m[L++]<<24;m=I.g[0],L=I.g[1],R=I.g[2];let N=I.g[3],p;p=m+(N^L&(R^N))+S[0]+3614090360&4294967295,m=L+(p<<7&4294967295|p>>>25),p=N+(R^m&(L^R))+S[1]+3905402710&4294967295,N=m+(p<<12&4294967295|p>>>20),p=R+(L^N&(m^L))+S[2]+606105819&4294967295,R=N+(p<<17&4294967295|p>>>15),p=L+(m^R&(N^m))+S[3]+3250441966&4294967295,L=R+(p<<22&4294967295|p>>>10),p=m+(N^L&(R^N))+S[4]+4118548399&4294967295,m=L+(p<<7&4294967295|p>>>25),p=N+(R^m&(L^R))+S[5]+1200080426&4294967295,N=m+(p<<12&4294967295|p>>>20),p=R+(L^N&(m^L))+S[6]+2821735955&4294967295,R=N+(p<<17&4294967295|p>>>15),p=L+(m^R&(N^m))+S[7]+4249261313&4294967295,L=R+(p<<22&4294967295|p>>>10),p=m+(N^L&(R^N))+S[8]+1770035416&4294967295,m=L+(p<<7&4294967295|p>>>25),p=N+(R^m&(L^R))+S[9]+2336552879&4294967295,N=m+(p<<12&4294967295|p>>>20),p=R+(L^N&(m^L))+S[10]+4294925233&4294967295,R=N+(p<<17&4294967295|p>>>15),p=L+(m^R&(N^m))+S[11]+2304563134&4294967295,L=R+(p<<22&4294967295|p>>>10),p=m+(N^L&(R^N))+S[12]+1804603682&4294967295,m=L+(p<<7&4294967295|p>>>25),p=N+(R^m&(L^R))+S[13]+4254626195&4294967295,N=m+(p<<12&4294967295|p>>>20),p=R+(L^N&(m^L))+S[14]+2792965006&4294967295,R=N+(p<<17&4294967295|p>>>15),p=L+(m^R&(N^m))+S[15]+1236535329&4294967295,L=R+(p<<22&4294967295|p>>>10),p=m+(R^N&(L^R))+S[1]+4129170786&4294967295,m=L+(p<<5&4294967295|p>>>27),p=N+(L^R&(m^L))+S[6]+3225465664&4294967295,N=m+(p<<9&4294967295|p>>>23),p=R+(m^L&(N^m))+S[11]+643717713&4294967295,R=N+(p<<14&4294967295|p>>>18),p=L+(N^m&(R^N))+S[0]+3921069994&4294967295,L=R+(p<<20&4294967295|p>>>12),p=m+(R^N&(L^R))+S[5]+3593408605&4294967295,m=L+(p<<5&4294967295|p>>>27),p=N+(L^R&(m^L))+S[10]+38016083&4294967295,N=m+(p<<9&4294967295|p>>>23),p=R+(m^L&(N^m))+S[15]+3634488961&4294967295,R=N+(p<<14&4294967295|p>>>18),p=L+(N^m&(R^N))+S[4]+3889429448&4294967295,L=R+(p<<20&4294967295|p>>>12),p=m+(R^N&(L^R))+S[9]+568446438&4294967295,m=L+(p<<5&4294967295|p>>>27),p=N+(L^R&(m^L))+S[14]+3275163606&4294967295,N=m+(p<<9&4294967295|p>>>23),p=R+(m^L&(N^m))+S[3]+4107603335&4294967295,R=N+(p<<14&4294967295|p>>>18),p=L+(N^m&(R^N))+S[8]+1163531501&4294967295,L=R+(p<<20&4294967295|p>>>12),p=m+(R^N&(L^R))+S[13]+2850285829&4294967295,m=L+(p<<5&4294967295|p>>>27),p=N+(L^R&(m^L))+S[2]+4243563512&4294967295,N=m+(p<<9&4294967295|p>>>23),p=R+(m^L&(N^m))+S[7]+1735328473&4294967295,R=N+(p<<14&4294967295|p>>>18),p=L+(N^m&(R^N))+S[12]+2368359562&4294967295,L=R+(p<<20&4294967295|p>>>12),p=m+(L^R^N)+S[5]+4294588738&4294967295,m=L+(p<<4&4294967295|p>>>28),p=N+(m^L^R)+S[8]+2272392833&4294967295,N=m+(p<<11&4294967295|p>>>21),p=R+(N^m^L)+S[11]+1839030562&4294967295,R=N+(p<<16&4294967295|p>>>16),p=L+(R^N^m)+S[14]+4259657740&4294967295,L=R+(p<<23&4294967295|p>>>9),p=m+(L^R^N)+S[1]+2763975236&4294967295,m=L+(p<<4&4294967295|p>>>28),p=N+(m^L^R)+S[4]+1272893353&4294967295,N=m+(p<<11&4294967295|p>>>21),p=R+(N^m^L)+S[7]+4139469664&4294967295,R=N+(p<<16&4294967295|p>>>16),p=L+(R^N^m)+S[10]+3200236656&4294967295,L=R+(p<<23&4294967295|p>>>9),p=m+(L^R^N)+S[13]+681279174&4294967295,m=L+(p<<4&4294967295|p>>>28),p=N+(m^L^R)+S[0]+3936430074&4294967295,N=m+(p<<11&4294967295|p>>>21),p=R+(N^m^L)+S[3]+3572445317&4294967295,R=N+(p<<16&4294967295|p>>>16),p=L+(R^N^m)+S[6]+76029189&4294967295,L=R+(p<<23&4294967295|p>>>9),p=m+(L^R^N)+S[9]+3654602809&4294967295,m=L+(p<<4&4294967295|p>>>28),p=N+(m^L^R)+S[12]+3873151461&4294967295,N=m+(p<<11&4294967295|p>>>21),p=R+(N^m^L)+S[15]+530742520&4294967295,R=N+(p<<16&4294967295|p>>>16),p=L+(R^N^m)+S[2]+3299628645&4294967295,L=R+(p<<23&4294967295|p>>>9),p=m+(R^(L|~N))+S[0]+4096336452&4294967295,m=L+(p<<6&4294967295|p>>>26),p=N+(L^(m|~R))+S[7]+1126891415&4294967295,N=m+(p<<10&4294967295|p>>>22),p=R+(m^(N|~L))+S[14]+2878612391&4294967295,R=N+(p<<15&4294967295|p>>>17),p=L+(N^(R|~m))+S[5]+4237533241&4294967295,L=R+(p<<21&4294967295|p>>>11),p=m+(R^(L|~N))+S[12]+1700485571&4294967295,m=L+(p<<6&4294967295|p>>>26),p=N+(L^(m|~R))+S[3]+2399980690&4294967295,N=m+(p<<10&4294967295|p>>>22),p=R+(m^(N|~L))+S[10]+4293915773&4294967295,R=N+(p<<15&4294967295|p>>>17),p=L+(N^(R|~m))+S[1]+2240044497&4294967295,L=R+(p<<21&4294967295|p>>>11),p=m+(R^(L|~N))+S[8]+1873313359&4294967295,m=L+(p<<6&4294967295|p>>>26),p=N+(L^(m|~R))+S[15]+4264355552&4294967295,N=m+(p<<10&4294967295|p>>>22),p=R+(m^(N|~L))+S[6]+2734768916&4294967295,R=N+(p<<15&4294967295|p>>>17),p=L+(N^(R|~m))+S[13]+1309151649&4294967295,L=R+(p<<21&4294967295|p>>>11),p=m+(R^(L|~N))+S[4]+4149444226&4294967295,m=L+(p<<6&4294967295|p>>>26),p=N+(L^(m|~R))+S[11]+3174756917&4294967295,N=m+(p<<10&4294967295|p>>>22),p=R+(m^(N|~L))+S[2]+718787259&4294967295,R=N+(p<<15&4294967295|p>>>17),p=L+(N^(R|~m))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+m&4294967295,I.g[1]=I.g[1]+(R+(p<<21&4294967295|p>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.v=function(I,m){m===void 0&&(m=I.length);const L=m-this.blockSize,S=this.C;let R=this.h,N=0;for(;N<m;){if(R==0)for(;N<=L;)s(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<m;)if(S[R++]=I.charCodeAt(N++),R==this.blockSize){s(this,S),R=0;break}}else for(;N<m;)if(S[R++]=I[N++],R==this.blockSize){s(this,S),R=0;break}}this.h=R,this.o+=m},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var m=1;m<I.length-8;++m)I[m]=0;m=this.o*8;for(var L=I.length-8;L<I.length;++L)I[L]=m&255,m/=256;for(this.v(I),I=Array(16),m=0,L=0;L<4;++L)for(let S=0;S<32;S+=8)I[m++]=this.g[L]>>>S&255;return I};function i(I,m){var L=c;return Object.prototype.hasOwnProperty.call(L,I)?L[I]:L[I]=m(I)}function o(I,m){this.h=m;const L=[];let S=!0;for(let R=I.length-1;R>=0;R--){const N=I[R]|0;S&&N==m||(L[R]=N,S=!1)}this.g=L}var c={};function l(I){return-128<=I&&I<128?i(I,function(m){return new o([m|0],m<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(I<0)return _(u(-I));const m=[];let L=1;for(let S=0;I>=L;S++)m[S]=I/L|0,L*=4294967296;return new o(m,0)}function h(I,m){if(I.length==0)throw Error("number format error: empty string");if(m=m||10,m<2||36<m)throw Error("radix out of range: "+m);if(I.charAt(0)=="-")return _(h(I.substring(1),m));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=u(Math.pow(m,8));let S=d;for(let N=0;N<I.length;N+=8){var R=Math.min(8,I.length-N);const p=parseInt(I.substring(N,N+R),m);R<8?(R=u(Math.pow(m,R)),S=S.j(R).add(u(p))):(S=S.j(L),S=S.add(u(p)))}return S}var d=l(0),T=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(M(this))return-_(this).m();let I=0,m=1;for(let L=0;L<this.g.length;L++){const S=this.i(L);I+=(S>=0?S:4294967296+S)*m,m*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(M(this))return"-"+_(this).toString(I);const m=u(Math.pow(I,6));var L=this;let S="";for(;;){const R=k(L,m).g;L=C(L,R.j(m));let N=((L.g.length>0?L.g[0]:L.h)>>>0).toString(I);if(L=R,K(L))return N+S;for(;N.length<6;)N="0"+N;S=N+S}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let m=0;m<I.g.length;m++)if(I.g[m]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=C(this,I),M(I)?-1:K(I)?0:1};function _(I){const m=I.g.length,L=[];for(let S=0;S<m;S++)L[S]=~I.g[S];return new o(L,~I.h).add(T)}n.abs=function(){return M(this)?_(this):this},n.add=function(I){const m=Math.max(this.g.length,I.g.length),L=[];let S=0;for(let R=0;R<=m;R++){let N=S+(this.i(R)&65535)+(I.i(R)&65535),p=(N>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);S=p>>>16,N&=65535,p&=65535,L[R]=p<<16|N}return new o(L,L[L.length-1]&-2147483648?-1:0)};function C(I,m){return I.add(_(m))}n.j=function(I){if(K(this)||K(I))return d;if(M(this))return M(I)?_(this).j(_(I)):_(_(this).j(I));if(M(I))return _(this.j(_(I)));if(this.l(g)<0&&I.l(g)<0)return u(this.m()*I.m());const m=this.g.length+I.g.length,L=[];for(var S=0;S<2*m;S++)L[S]=0;for(S=0;S<this.g.length;S++)for(let R=0;R<I.g.length;R++){const N=this.i(S)>>>16,p=this.i(S)&65535,be=I.i(R)>>>16,Re=I.i(R)&65535;L[2*S+2*R]+=p*Re,v(L,2*S+2*R),L[2*S+2*R+1]+=N*Re,v(L,2*S+2*R+1),L[2*S+2*R+1]+=p*be,v(L,2*S+2*R+1),L[2*S+2*R+2]+=N*be,v(L,2*S+2*R+2)}for(I=0;I<m;I++)L[I]=L[2*I+1]<<16|L[2*I];for(I=m;I<2*m;I++)L[I]=0;return new o(L,0)};function v(I,m){for(;(I[m]&65535)!=I[m];)I[m+1]+=I[m]>>>16,I[m]&=65535,m++}function w(I,m){this.g=I,this.h=m}function k(I,m){if(K(m))throw Error("division by zero");if(K(I))return new w(d,d);if(M(I))return m=k(_(I),m),new w(_(m.g),_(m.h));if(M(m))return m=k(I,_(m)),new w(_(m.g),m.h);if(I.g.length>30){if(M(I)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var L=T,S=m;S.l(I)<=0;)L=$(L),S=$(S);var R=G(L,1),N=G(S,1);for(S=G(S,2),L=G(L,2);!K(S);){var p=N.add(S);p.l(I)<=0&&(R=R.add(L),N=p),S=G(S,1),L=G(L,1)}return m=C(I,R.j(m)),new w(R,m)}for(R=d;I.l(m)>=0;){for(L=Math.max(1,Math.floor(I.m()/m.m())),S=Math.ceil(Math.log(L)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),N=u(L),p=N.j(m);M(p)||p.l(I)>0;)L-=S,N=u(L),p=N.j(m);K(N)&&(N=T),R=R.add(N),I=C(I,p)}return new w(R,I)}n.B=function(I){return k(this,I).h},n.and=function(I){const m=Math.max(this.g.length,I.g.length),L=[];for(let S=0;S<m;S++)L[S]=this.i(S)&I.i(S);return new o(L,this.h&I.h)},n.or=function(I){const m=Math.max(this.g.length,I.g.length),L=[];for(let S=0;S<m;S++)L[S]=this.i(S)|I.i(S);return new o(L,this.h|I.h)},n.xor=function(I){const m=Math.max(this.g.length,I.g.length),L=[];for(let S=0;S<m;S++)L[S]=this.i(S)^I.i(S);return new o(L,this.h^I.h)};function $(I){const m=I.g.length+1,L=[];for(let S=0;S<m;S++)L[S]=I.i(S)<<1|I.i(S-1)>>>31;return new o(L,I.h)}function G(I,m){const L=m>>5;m%=32;const S=I.g.length-L,R=[];for(let N=0;N<S;N++)R[N]=m>0?I.i(N+L)>>>m|I.i(N+L+1)<<32-m:I.i(N+L);return new o(R,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kh=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,pn=o}).apply(typeof Cu<"u"?Cu:typeof self<"u"?self:typeof window<"u"?window:{});var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fh,as,Yh,_i,Ja,Zh,Hh,Gh;(function(){var n,e=Object.defineProperty;function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Li=="object"&&Li];for(var A=0;A<a.length;++A){var E=a[A];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function s(a,A){if(A)e:{var E=r;a=a.split(".");for(var f=0;f<a.length-1;f++){var y=a[f];if(!(y in E))break e;E=E[y]}a=a[a.length-1],f=E[a],A=A(f),A!=f&&A!=null&&e(E,a,{configurable:!0,writable:!0,value:A})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(A){var E=[],f;for(f in A)Object.prototype.hasOwnProperty.call(A,f)&&E.push([f,A[f]]);return E}});var i=i||{},o=this||self;function c(a){var A=typeof a;return A=="object"&&a!=null||A=="function"}function l(a,A,E){return a.call.apply(a.bind,arguments)}function u(a,A,E){return u=l,u.apply(null,arguments)}function h(a,A){var E=Array.prototype.slice.call(arguments,1);return function(){var f=E.slice();return f.push.apply(f,arguments),a.apply(this,f)}}function d(a,A){function E(){}E.prototype=A.prototype,a.Z=A.prototype,a.prototype=new E,a.prototype.constructor=a,a.Ob=function(f,y,U){for(var B=Array(arguments.length-2),z=2;z<arguments.length;z++)B[z-2]=arguments[z];return A.prototype[y].apply(f,B)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function g(a){const A=a.length;if(A>0){const E=Array(A);for(let f=0;f<A;f++)E[f]=a[f];return E}return[]}function K(a,A){for(let f=1;f<arguments.length;f++){const y=arguments[f];var E=typeof y;if(E=E!="object"?E:y?Array.isArray(y)?"array":E:"null",E=="array"||E=="object"&&typeof y.length=="number"){E=a.length||0;const U=y.length||0;a.length=E+U;for(let B=0;B<U;B++)a[E+B]=y[B]}else a.push(y)}}class M{constructor(A,E){this.i=A,this.j=E,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(a){o.setTimeout(()=>{throw a},0)}function C(){var a=I;let A=null;return a.g&&(A=a.g,a.g=a.g.next,a.g||(a.h=null),A.next=null),A}class v{constructor(){this.h=this.g=null}add(A,E){const f=w.get();f.set(A,E),this.h?this.h.next=f:this.g=f,this.h=f}}var w=new M(()=>new k,a=>a.reset());class k{constructor(){this.next=this.g=this.h=null}set(A,E){this.h=A,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let $,G=!1,I=new v,m=()=>{const a=Promise.resolve(void 0);$=()=>{a.then(L)}};function L(){for(var a;a=C();){try{a.h.call(a.g)}catch(E){_(E)}var A=w;A.j(a),A.h<100&&(A.h++,a.next=A.g,A.g=a)}G=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(a,A){this.type=a,this.g=this.target=A,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,A=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const E=()=>{};o.addEventListener("test",E,A),o.removeEventListener("test",E,A)}catch{}return a})();function p(a){return/^[\s\xa0]*$/.test(a)}function be(a,A){R.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,A)}d(be,R),be.prototype.init=function(a,A){const E=this.type=a.type,f=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=A,A=a.relatedTarget,A||(E=="mouseover"?A=a.fromElement:E=="mouseout"&&(A=a.toElement)),this.relatedTarget=A,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),Oe=0;function et(a,A,E,f,y){this.listener=a,this.proxy=null,this.src=A,this.type=E,this.capture=!!f,this.ha=y,this.key=++Oe,this.da=this.fa=!1}function gt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function xe(a,A,E){for(const f in a)A.call(E,a[f],f,a)}function nr(a,A){for(const E in a)A.call(void 0,a[E],E,a)}function ft(a){const A={};for(const E in a)A[E]=a[E];return A}const It="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IA(a,A){let E,f;for(let y=1;y<arguments.length;y++){f=arguments[y];for(E in f)a[E]=f[E];for(let U=0;U<It.length;U++)E=It[U],Object.prototype.hasOwnProperty.call(f,E)&&(a[E]=f[E])}}function ai(a){this.src=a,this.g={},this.h=0}ai.prototype.add=function(a,A,E,f,y){const U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);const B=ra(a,A,f,y);return B>-1?(A=a[B],E||(A.fa=!1)):(A=new et(A,this.src,U,!!f,y),A.fa=E,a.push(A)),A};function na(a,A){const E=A.type;if(E in a.g){var f=a.g[E],y=Array.prototype.indexOf.call(f,A,void 0),U;(U=y>=0)&&Array.prototype.splice.call(f,y,1),U&&(gt(A),a.g[E].length==0&&(delete a.g[E],a.h--))}}function ra(a,A,E,f){for(let y=0;y<a.length;++y){const U=a[y];if(!U.da&&U.listener==A&&U.capture==!!E&&U.ha==f)return y}return-1}var sa="closure_lm_"+(Math.random()*1e6|0),ia={};function KA(a,A,E,f,y){if(Array.isArray(A)){for(let U=0;U<A.length;U++)KA(a,A[U],E,f,y);return null}return E=NA(E),a&&a[Re]?a.J(A,E,c(f)?!!f.capture:!1,y):nR(a,A,E,!1,f,y)}function nR(a,A,E,f,y,U){if(!A)throw Error("Invalid event type");const B=c(y)?!!y.capture:!!y;let z=aa(a);if(z||(a[sa]=z=new ai(a)),E=z.add(A,E,f,B,U),E.proxy)return E;if(f=rR(),E.proxy=f,f.src=a,f.listener=E,a.addEventListener)N||(y=B),y===void 0&&(y=!1),a.addEventListener(A.toString(),f,y);else if(a.attachEvent)a.attachEvent(MA(A.toString()),f);else if(a.addListener&&a.removeListener)a.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return E}function rR(){function a(E){return A.call(a.src,a.listener,E)}const A=sR;return a}function SA(a,A,E,f,y){if(Array.isArray(A))for(var U=0;U<A.length;U++)SA(a,A[U],E,f,y);else f=c(f)?!!f.capture:!!f,E=NA(E),a&&a[Re]?(a=a.i,U=String(A).toString(),U in a.g&&(A=a.g[U],E=ra(A,E,f,y),E>-1&&(gt(A[E]),Array.prototype.splice.call(A,E,1),A.length==0&&(delete a.g[U],a.h--)))):a&&(a=aa(a))&&(A=a.g[A.toString()],a=-1,A&&(a=ra(A,E,f,y)),(E=a>-1?A[a]:null)&&oa(E))}function oa(a){if(typeof a!="number"&&a&&!a.da){var A=a.src;if(A&&A[Re])na(A.i,a);else{var E=a.type,f=a.proxy;A.removeEventListener?A.removeEventListener(E,f,a.capture):A.detachEvent?A.detachEvent(MA(E),f):A.addListener&&A.removeListener&&A.removeListener(f),(E=aa(A))?(na(E,a),E.h==0&&(E.src=null,A[sa]=null)):gt(a)}}}function MA(a){return a in ia?ia[a]:ia[a]="on"+a}function sR(a,A){if(a.da)a=!0;else{A=new be(A,this);const E=a.listener,f=a.ha||a.src;a.fa&&oa(a),a=E.call(f,A)}return a}function aa(a){return a=a[sa],a instanceof ai?a:null}var ca="__closure_events_fn_"+(Math.random()*1e9>>>0);function NA(a){return typeof a=="function"?a:(a[ca]||(a[ca]=function(A){return a.handleEvent(A)}),a[ca])}function Ve(){S.call(this),this.i=new ai(this),this.M=this,this.G=null}d(Ve,S),Ve.prototype[Re]=!0,Ve.prototype.removeEventListener=function(a,A,E,f){SA(this,a,A,E,f)};function je(a,A){var E,f=a.G;if(f)for(E=[];f;f=f.G)E.push(f);if(a=a.M,f=A.type||A,typeof A=="string")A=new R(A,a);else if(A instanceof R)A.target=A.target||a;else{var y=A;A=new R(f,a),IA(A,y)}y=!0;let U,B;if(E)for(B=E.length-1;B>=0;B--)U=A.g=E[B],y=ci(U,f,!0,A)&&y;if(U=A.g=a,y=ci(U,f,!0,A)&&y,y=ci(U,f,!1,A)&&y,E)for(B=0;B<E.length;B++)U=A.g=E[B],y=ci(U,f,!1,A)&&y}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var a=this.i;for(const A in a.g){const E=a.g[A];for(let f=0;f<E.length;f++)gt(E[f]);delete a.g[A],a.h--}}this.G=null},Ve.prototype.J=function(a,A,E,f){return this.i.add(String(a),A,!1,E,f)},Ve.prototype.K=function(a,A,E,f){return this.i.add(String(a),A,!0,E,f)};function ci(a,A,E,f){if(A=a.i.g[String(A)],!A)return!0;A=A.concat();let y=!0;for(let U=0;U<A.length;++U){const B=A[U];if(B&&!B.da&&B.capture==E){const z=B.listener,Ke=B.ha||B.src;B.fa&&na(a.i,B),y=z.call(Ke,f)!==!1&&y}}return y&&!f.defaultPrevented}function iR(a,A){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:o.setTimeout(a,A||0)}function yA(a){a.g=iR(()=>{a.g=null,a.i&&(a.i=!1,yA(a))},a.l);const A=a.h;a.h=null,a.m.apply(null,A)}class oR extends S{constructor(A,E){super(),this.m=A,this.l=E,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:yA(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(a){S.call(this),this.h=a,this.g={}}d(Yr,S);var _A=[];function UA(a){xe(a.g,function(A,E){this.g.hasOwnProperty(E)&&oa(A)},a),a.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),UA(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var la=o.JSON.stringify,aR=o.JSON.parse,cR=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function OA(){}function PA(){}var Zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Aa(){R.call(this,"d")}d(Aa,R);function ua(){R.call(this,"c")}d(ua,R);var wn={},DA=null;function li(){return DA=DA||new Ve}wn.Ia="serverreachability";function CA(a){R.call(this,wn.Ia,a)}d(CA,R);function Hr(a){const A=li();je(A,new CA(A))}wn.STAT_EVENT="statevent";function wA(a,A){R.call(this,wn.STAT_EVENT,a),this.stat=A}d(wA,R);function $e(a){const A=li();je(A,new wA(A,a))}wn.Ja="timingevent";function BA(a,A){R.call(this,wn.Ja,a),this.size=A}d(BA,R);function Gr(a,A){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},A)}function xr(){this.g=!0}xr.prototype.ua=function(){this.g=!1};function lR(a,A,E,f,y,U){a.info(function(){if(a.g)if(U){var B="",z=U.split("&");for(let oe=0;oe<z.length;oe++){var Ke=z[oe].split("=");if(Ke.length>1){const Ne=Ke[0];Ke=Ke[1];const Ut=Ne.split("_");B=Ut.length>=2&&Ut[1]=="type"?B+(Ne+"="+Ke+"&"):B+(Ne+"=redacted&")}}}else B=null;else B=U;return"XMLHTTP REQ ("+f+") [attempt "+y+"]: "+A+`
`+E+`
`+B})}function AR(a,A,E,f,y,U,B){a.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+y+"]: "+A+`
`+E+`
`+U+" "+B})}function rr(a,A,E,f){a.info(function(){return"XMLHTTP TEXT ("+A+"): "+ER(a,E)+(f?" "+f:"")})}function uR(a,A){a.info(function(){return"TIMEOUT: "+A})}xr.prototype.info=function(){};function ER(a,A){if(!a.g)return A;if(!A)return null;try{const U=JSON.parse(A);if(U){for(a=0;a<U.length;a++)if(Array.isArray(U[a])){var E=U[a];if(!(E.length<2)){var f=E[1];if(Array.isArray(f)&&!(f.length<1)){var y=f[0];if(y!="noop"&&y!="stop"&&y!="close")for(let B=1;B<f.length;B++)f[B]=""}}}}return la(U)}catch{return A}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vA={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bA;function Ea(){}d(Ea,OA),Ea.prototype.g=function(){return new XMLHttpRequest},bA=new Ea;function jr(a){return encodeURIComponent(String(a))}function hR(a){var A=1;a=a.split(":");const E=[];for(;A>0&&a.length;)E.push(a.shift()),A--;return a.length&&E.push(a.join(":")),E}function nn(a,A,E,f){this.j=a,this.i=A,this.l=E,this.S=f||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new VA}function VA(){this.i=null,this.g="",this.h=!1}var kA={},ha={};function da(a,A,E){a.M=1,a.A=Ei(_t(A)),a.u=E,a.R=!0,FA(a,null)}function FA(a,A){a.F=Date.now(),ui(a),a.B=_t(a.A);var E=a.B,f=a.S;Array.isArray(f)||(f=[String(f)]),XA(E.i,"t",f),a.C=0,E=a.j.L,a.h=new VA,a.g=Ru(a.j,E?A:null,!a.u),a.P>0&&(a.O=new oR(u(a.Y,a,a.g),a.P)),A=a.V,E=a.g,f=a.ba;var y="readystatechange";Array.isArray(y)||(y&&(_A[0]=y.toString()),y=_A);for(let U=0;U<y.length;U++){const B=KA(E,y[U],f||A.handleEvent,!1,A.h||A);if(!B)break;A.g[B.key]=B}A=a.J?ft(a.J):{},a.u?(a.v||(a.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,A)):(a.v="GET",a.g.ea(a.B,a.v,null,A)),Hr(),lR(a.i,a.v,a.B,a.l,a.S,a.u)}nn.prototype.ba=function(a){a=a.target;const A=this.O;A&&on(a)==3?A.j():this.Y(a)},nn.prototype.Y=function(a){try{if(a==this.g)e:{const z=on(this.g),Ke=this.g.ya(),oe=this.g.ca();if(!(z<3)&&(z!=3||this.g&&(this.h.h||this.g.la()||ou(this.g)))){this.K||z!=4||Ke==7||(Ke==8||oe<=0?Hr(3):Hr(2)),fa(this);var A=this.g.ca();this.X=A;var E=dR(this);if(this.o=A==200,AR(this.i,this.v,this.B,this.l,this.S,z,A),this.o){if(this.U&&!this.L){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(f)){var U=f;break t}}U=null}if(a=U)rr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ta(this,a);else{this.o=!1,this.m=3,$e(12),Bn(this),$r(this);break e}}if(this.R){a=!0;let Ne;for(;!this.K&&this.C<E.length;)if(Ne=fR(this,E),Ne==ha){z==4&&(this.m=4,$e(14),a=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==kA){this.m=4,$e(15),rr(this.i,this.l,E,"[Invalid Chunk]"),a=!1;break}else rr(this.i,this.l,Ne,null),Ta(this,Ne);if(YA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),z!=4||E.length!=0||this.h.h||(this.m=1,$e(16),a=!1),this.o=this.o&&a,!a)rr(this.i,this.l,E,"[Invalid Chunked Response]"),Bn(this),$r(this);else if(E.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Sa(B),B.P=!0,$e(11))}}else rr(this.i,this.l,E,null),Ta(this,E);z==4&&Bn(this),this.o&&!this.K&&(z==4?hu(this.j,this):(this.o=!1,ui(this)))}else UR(this.g),A==400&&E.indexOf("Unknown SID")>0?(this.m=3,$e(12)):(this.m=0,$e(13)),Bn(this),$r(this)}}}catch{}finally{}};function dR(a){if(!YA(a))return a.g.la();const A=ou(a.g);if(A==="")return"";let E="";const f=A.length,y=on(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Bn(a),$r(a),"";a.h.i=new o.TextDecoder}for(let U=0;U<f;U++)a.h.h=!0,E+=a.h.i.decode(A[U],{stream:!(y&&U==f-1)});return A.length=0,a.h.g+=E,a.C=0,a.h.g}function YA(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function fR(a,A){var E=a.C,f=A.indexOf(`
`,E);return f==-1?ha:(E=Number(A.substring(E,f)),isNaN(E)?kA:(f+=1,f+E>A.length?ha:(A=A.slice(f,f+E),a.C=f+E,A)))}nn.prototype.cancel=function(){this.K=!0,Bn(this)};function ui(a){a.T=Date.now()+a.H,ZA(a,a.H)}function ZA(a,A){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Gr(u(a.aa,a),A)}function fa(a){a.D&&(o.clearTimeout(a.D),a.D=null)}nn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(uR(this.i,this.B),this.M!=2&&(Hr(),$e(17)),Bn(this),this.m=2,$r(this)):ZA(this,this.T-a)};function $r(a){a.j.I==0||a.K||hu(a.j,a)}function Bn(a){fa(a);var A=a.O;A&&typeof A.dispose=="function"&&A.dispose(),a.O=null,UA(a.V),a.g&&(A=a.g,a.g=null,A.abort(),A.dispose())}function Ta(a,A){try{var E=a.j;if(E.I!=0&&(E.g==a||Ra(E.h,a))){if(!a.L&&Ra(E.h,a)&&E.I==3){try{var f=E.Ba.g.parse(A)}catch{f=null}if(Array.isArray(f)&&f.length==3){var y=f;if(y[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<a.F)Ri(E),fi(E);else break e;Ka(E),$e(18)}}else E.xa=y[1],0<E.xa-E.K&&y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Gr(u(E.Va,E),6e3));xA(E.h)<=1&&E.ta&&(E.ta=void 0)}else bn(E,11)}else if((a.L||E.g==a)&&Ri(E),!p(A))for(y=E.Ba.g.parse(A),A=0;A<y.length;A++){let oe=y[A];const Ne=oe[0];if(!(Ne<=E.K))if(E.K=Ne,oe=oe[1],E.I==2)if(oe[0]=="c"){E.M=oe[1],E.ba=oe[2];const Ut=oe[3];Ut!=null&&(E.ka=Ut,E.j.info("VER="+E.ka));const Vn=oe[4];Vn!=null&&(E.za=Vn,E.j.info("SVER="+E.za));const an=oe[5];an!=null&&typeof an=="number"&&an>0&&(f=1.5*an,E.O=f,E.j.info("backChannelRequestTimeoutMs_="+f)),f=E;const cn=a.g;if(cn){const pi=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var U=f.h;U.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ma(U,U.h),U.h=null))}if(f.G){const Ma=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(f.wa=Ma,le(f.J,f.G,Ma))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-a.F,E.j.info("Handshake RTT: "+E.T+"ms")),f=E;var B=a;if(f.na=Tu(f,f.L?f.ba:null,f.W),B.L){jA(f.h,B);var z=B,Ke=f.O;Ke&&(z.H=Ke),z.D&&(fa(z),ui(z)),f.g=B}else uu(f);E.i.length>0&&Ti(E)}else oe[0]!="stop"&&oe[0]!="close"||bn(E,7);else E.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?bn(E,7):Ia(E):oe[0]!="noop"&&E.l&&E.l.qa(oe),E.A=0)}}Hr(4)}catch{}}var TR=class{constructor(a,A){this.g=a,this.map=A}};function HA(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function GA(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function xA(a){return a.h?1:a.g?a.g.size:0}function Ra(a,A){return a.h?a.h==A:a.g?a.g.has(A):!1}function ma(a,A){a.g?a.g.add(A):a.h=A}function jA(a,A){a.h&&a.h==A?a.h=null:a.g&&a.g.has(A)&&a.g.delete(A)}HA.prototype.cancel=function(){if(this.i=$A(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function $A(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let A=a.i;for(const E of a.g.values())A=A.concat(E.G);return A}return g(a.i)}var qA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RR(a,A){if(a){a=a.split("&");for(let E=0;E<a.length;E++){const f=a[E].indexOf("=");let y,U=null;f>=0?(y=a[E].substring(0,f),U=a[E].substring(f+1)):y=a[E],A(y,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function rn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;a instanceof rn?(this.l=a.l,qr(this,a.j),this.o=a.o,this.g=a.g,Wr(this,a.u),this.h=a.h,pa(this,eu(a.i)),this.m=a.m):a&&(A=String(a).match(qA))?(this.l=!1,qr(this,A[1]||"",!0),this.o=zr(A[2]||""),this.g=zr(A[3]||"",!0),Wr(this,A[4]),this.h=zr(A[5]||"",!0),pa(this,A[6]||"",!0),this.m=zr(A[7]||"")):(this.l=!1,this.i=new Qr(null,this.l))}rn.prototype.toString=function(){const a=[];var A=this.j;A&&a.push(Jr(A,WA,!0),":");var E=this.g;return(E||A=="file")&&(a.push("//"),(A=this.o)&&a.push(Jr(A,WA,!0),"@"),a.push(jr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&a.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&a.push("/"),a.push(Jr(E,E.charAt(0)=="/"?LR:pR,!0))),(E=this.i.toString())&&a.push("?",E),(E=this.m)&&a.push("#",Jr(E,IR)),a.join("")},rn.prototype.resolve=function(a){const A=_t(this);let E=!!a.j;E?qr(A,a.j):E=!!a.o,E?A.o=a.o:E=!!a.g,E?A.g=a.g:E=a.u!=null;var f=a.h;if(E)Wr(A,a.u);else if(E=!!a.h){if(f.charAt(0)!="/")if(this.g&&!this.h)f="/"+f;else{var y=A.h.lastIndexOf("/");y!=-1&&(f=A.h.slice(0,y+1)+f)}if(y=f,y==".."||y==".")f="";else if(y.indexOf("./")!=-1||y.indexOf("/.")!=-1){f=y.lastIndexOf("/",0)==0,y=y.split("/");const U=[];for(let B=0;B<y.length;){const z=y[B++];z=="."?f&&B==y.length&&U.push(""):z==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),f&&B==y.length&&U.push("")):(U.push(z),f=!0)}f=U.join("/")}else f=y}return E?A.h=f:E=a.i.toString()!=="",E?pa(A,eu(a.i)):E=!!a.m,E&&(A.m=a.m),A};function _t(a){return new rn(a)}function qr(a,A,E){a.j=E?zr(A,!0):A,a.j&&(a.j=a.j.replace(/:$/,""))}function Wr(a,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);a.u=A}else a.u=null}function pa(a,A,E){A instanceof Qr?(a.i=A,KR(a.i,a.l)):(E||(A=Jr(A,gR)),a.i=new Qr(A,a.l))}function le(a,A,E){a.i.set(A,E)}function Ei(a){return le(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function zr(a,A){return a?A?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jr(a,A,E){return typeof a=="string"?(a=encodeURI(a).replace(A,mR),E&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function mR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var WA=/[#\/\?@]/g,pR=/[#\?:]/g,LR=/[#\?]/g,gR=/[#\?@]/g,IR=/#/g;function Qr(a,A){this.h=this.g=null,this.i=a||null,this.j=!!A}function vn(a){a.g||(a.g=new Map,a.h=0,a.i&&RR(a.i,function(A,E){a.add(decodeURIComponent(A.replace(/\+/g," ")),E)}))}n=Qr.prototype,n.add=function(a,A){vn(this),this.i=null,a=sr(this,a);let E=this.g.get(a);return E||this.g.set(a,E=[]),E.push(A),this.h+=1,this};function zA(a,A){vn(a),A=sr(a,A),a.g.has(A)&&(a.i=null,a.h-=a.g.get(A).length,a.g.delete(A))}function JA(a,A){return vn(a),A=sr(a,A),a.g.has(A)}n.forEach=function(a,A){vn(this),this.g.forEach(function(E,f){E.forEach(function(y){a.call(A,y,f,this)},this)},this)};function QA(a,A){vn(a);let E=[];if(typeof A=="string")JA(a,A)&&(E=E.concat(a.g.get(sr(a,A))));else for(a=Array.from(a.g.values()),A=0;A<a.length;A++)E=E.concat(a[A]);return E}n.set=function(a,A){return vn(this),this.i=null,a=sr(this,a),JA(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[A]),this.h+=1,this},n.get=function(a,A){return a?(a=QA(this,a),a.length>0?String(a[0]):A):A};function XA(a,A,E){zA(a,A),E.length>0&&(a.i=null,a.g.set(sr(a,A),g(E)),a.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],A=Array.from(this.g.keys());for(let f=0;f<A.length;f++){var E=A[f];const y=jr(E);E=QA(this,E);for(let U=0;U<E.length;U++){let B=y;E[U]!==""&&(B+="="+jr(E[U])),a.push(B)}}return this.i=a.join("&")};function eu(a){const A=new Qr;return A.i=a.i,a.g&&(A.g=new Map(a.g),A.h=a.h),A}function sr(a,A){return A=String(A),a.j&&(A=A.toLowerCase()),A}function KR(a,A){A&&!a.j&&(vn(a),a.i=null,a.g.forEach(function(E,f){const y=f.toLowerCase();f!=y&&(zA(this,f),XA(this,y,E))},a)),a.j=A}function SR(a,A){const E=new xr;if(o.Image){const f=new Image;f.onload=h(sn,E,"TestLoadImage: loaded",!0,A,f),f.onerror=h(sn,E,"TestLoadImage: error",!1,A,f),f.onabort=h(sn,E,"TestLoadImage: abort",!1,A,f),f.ontimeout=h(sn,E,"TestLoadImage: timeout",!1,A,f),o.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=a}else A(!1)}function MR(a,A){const E=new xr,f=new AbortController,y=setTimeout(()=>{f.abort(),sn(E,"TestPingServer: timeout",!1,A)},1e4);fetch(a,{signal:f.signal}).then(U=>{clearTimeout(y),U.ok?sn(E,"TestPingServer: ok",!0,A):sn(E,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(y),sn(E,"TestPingServer: error",!1,A)})}function sn(a,A,E,f,y){try{y&&(y.onload=null,y.onerror=null,y.onabort=null,y.ontimeout=null),f(E)}catch{}}function NR(){this.g=new cR}function La(a){this.i=a.Sb||null,this.h=a.ab||!1}d(La,OA),La.prototype.g=function(){return new hi(this.i,this.h)};function hi(a,A){Ve.call(this),this.H=a,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(hi,Ve),n=hi.prototype,n.open=function(a,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=A,this.readyState=1,es(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(A.body=a),(this.H||o).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tu(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function tu(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var A=a.value?a.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!a.done}))&&(this.response=this.responseText+=A)}a.done?Xr(this):es(this),this.readyState==3&&tu(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,Xr(this))},n.Na=function(a){this.g&&(this.response=a,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(a){a.readyState=4,a.l=null,a.j=null,a.B=null,es(a)}n.setRequestHeader=function(a,A){this.A.append(a,A)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],A=this.h.entries();for(var E=A.next();!E.done;)E=E.value,a.push(E[0]+": "+E[1]),E=A.next();return a.join(`\r
`)};function es(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function nu(a){let A="";return xe(a,function(E,f){A+=f,A+=":",A+=E,A+=`\r
`}),A}function ga(a,A,E){e:{for(f in E){var f=!1;break e}f=!0}f||(E=nu(E),typeof a=="string"?E!=null&&jr(E):le(a,A,E))}function de(a){Ve.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(de,Ve);var yR=/^https?$/i,_R=["POST","PUT"];n=de.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,A,E,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);A=A?A.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bA.g(),this.g.onreadystatechange=T(u(this.Ca,this));try{this.B=!0,this.g.open(A,String(a),!0),this.B=!1}catch(U){ru(this,U);return}if(a=E||"",E=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var y in f)E.set(y,f[y]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(const U of f.keys())E.set(U,f.get(U));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(E.keys()).find(U=>U.toLowerCase()=="content-type"),y=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(_R,A,void 0)>=0)||f||y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,B]of E)this.g.setRequestHeader(U,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(U){ru(this,U)}};function ru(a,A){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=A,a.o=5,su(a),di(a)}function su(a){a.A||(a.A=!0,je(a,"complete"),je(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,je(this,"complete"),je(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),de.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?iu(this):this.Xa())},n.Xa=function(){iu(this)};function iu(a){if(a.h&&typeof i<"u"){if(a.v&&on(a)==4)setTimeout(a.Ca.bind(a),0);else if(je(a,"readystatechange"),on(a)==4){a.h=!1;try{const U=a.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var E;if(!(E=A)){var f;if(f=U===0){let B=String(a.D).match(qA)[1]||null;!B&&o.self&&o.self.location&&(B=o.self.location.protocol.slice(0,-1)),f=!yR.test(B?B.toLowerCase():"")}E=f}if(E)je(a,"complete"),je(a,"success");else{a.o=6;try{var y=on(a)>2?a.g.statusText:""}catch{y=""}a.l=y+" ["+a.ca()+"]",su(a)}}finally{di(a)}}}}function di(a,A){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const E=a.g;a.g=null,A||je(a,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function on(a){return a.g?a.g.readyState:0}n.ca=function(){try{return on(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var A=this.g.responseText;return a&&A.indexOf(a)==0&&(A=A.substring(a.length)),aR(A)}};function ou(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function UR(a){const A={};a=(a.g&&on(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<a.length;f++){if(p(a[f]))continue;var E=hR(a[f]);const y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const U=A[y]||[];A[y]=U,U.push(E)}nr(A,function(f){return f.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(a,A,E){return E&&E.internalChannelParams&&E.internalChannelParams[a]||A}function au(a){this.za=0,this.i=[],this.j=new xr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,a),this.Za=ts("retryDelaySeedMs",1e4,a),this.Ta=ts("forwardChannelMaxRetries",2,a),this.va=ts("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new HA(a&&a.concurrentRequestLimit),this.Ba=new NR,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=au.prototype,n.ka=8,n.I=1,n.connect=function(a,A,E,f){$e(0),this.W=a,this.H=A||{},E&&f!==void 0&&(this.H.OSID=E,this.H.OAID=f),this.F=this.X,this.J=Tu(this,null,this.W),Ti(this)};function Ia(a){if(cu(a),a.I==3){var A=a.V++,E=_t(a.J);if(le(E,"SID",a.M),le(E,"RID",A),le(E,"TYPE","terminate"),ns(a,E),A=new nn(a,a.j,A),A.M=2,A.A=Ei(_t(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(A.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=A.A,E=!0),E||(A.g=Ru(A.j,null),A.g.ea(A.A)),A.F=Date.now(),ui(A)}fu(a)}function fi(a){a.g&&(Sa(a),a.g.cancel(),a.g=null)}function cu(a){fi(a),a.v&&(o.clearTimeout(a.v),a.v=null),Ri(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Ti(a){if(!GA(a.h)&&!a.m){a.m=!0;var A=a.Ea;$||m(),G||($(),G=!0),I.add(A,a),a.D=0}}function OR(a,A){return xA(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=A.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Gr(u(a.Ea,a,A),du(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const y=new nn(this,this.j,a);let U=this.o;if(this.U&&(U?(U=ft(U),IA(U,this.U)):U=this.U),this.u!==null||this.R||(y.J=U,U=null),this.S)e:{for(var A=0,E=0;E<this.i.length;E++){t:{var f=this.i[E];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(A+=f,A>4096){A=E;break e}if(A===4096||E===this.i.length-1){A=E+1;break e}}A=1e3}else A=1e3;A=Au(this,y,A),E=_t(this.J),le(E,"RID",a),le(E,"CVER",22),this.G&&le(E,"X-HTTP-Session-Id",this.G),ns(this,E),U&&(this.R?A="headers="+jr(nu(U))+"&"+A:this.u&&ga(E,this.u,U)),ma(this.h,y),this.Ra&&le(E,"TYPE","init"),this.S?(le(E,"$req",A),le(E,"SID","null"),y.U=!0,da(y,E,null)):da(y,E,A),this.I=2}}else this.I==3&&(a?lu(this,a):this.i.length==0||GA(this.h)||lu(this))};function lu(a,A){var E;A?E=A.l:E=a.V++;const f=_t(a.J);le(f,"SID",a.M),le(f,"RID",E),le(f,"AID",a.K),ns(a,f),a.u&&a.o&&ga(f,a.u,a.o),E=new nn(a,a.j,E,a.D+1),a.u===null&&(E.J=a.o),A&&(a.i=A.G.concat(a.i)),A=Au(a,E,1e3),E.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),ma(a.h,E),da(E,f,A)}function ns(a,A){a.H&&xe(a.H,function(E,f){le(A,f,E)}),a.l&&xe({},function(E,f){le(A,f,E)})}function Au(a,A,E){E=Math.min(a.i.length,E);const f=a.l?u(a.l.Ka,a.l,a):null;e:{var y=a.i;let z=-1;for(;;){const Ke=["count="+E];z==-1?E>0?(z=y[0].g,Ke.push("ofs="+z)):z=0:Ke.push("ofs="+z);let oe=!0;for(let Ne=0;Ne<E;Ne++){var U=y[Ne].g;const Ut=y[Ne].map;if(U-=z,U<0)z=Math.max(0,y[Ne].g-100),oe=!1;else try{U="req"+U+"_"||"";try{var B=Ut instanceof Map?Ut:Object.entries(Ut);for(const[Vn,an]of B){let cn=an;c(an)&&(cn=la(an)),Ke.push(U+Vn+"="+encodeURIComponent(cn))}}catch(Vn){throw Ke.push(U+"type="+encodeURIComponent("_badmap")),Vn}}catch{f&&f(Ut)}}if(oe){B=Ke.join("&");break e}}B=void 0}return a=a.i.splice(0,E),A.G=a,B}function uu(a){if(!a.g&&!a.v){a.Y=1;var A=a.Da;$||m(),G||($(),G=!0),I.add(A,a),a.A=0}}function Ka(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Gr(u(a.Da,a),du(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Gr(u(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$e(10),fi(this),Eu(this))};function Sa(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Eu(a){a.g=new nn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var A=_t(a.na);le(A,"RID","rpc"),le(A,"SID",a.M),le(A,"AID",a.K),le(A,"CI",a.F?"0":"1"),!a.F&&a.ia&&le(A,"TO",a.ia),le(A,"TYPE","xmlhttp"),ns(a,A),a.u&&a.o&&ga(A,a.u,a.o),a.O&&(a.g.H=a.O);var E=a.g;a=a.ba,E.M=1,E.A=Ei(_t(A)),E.u=null,E.R=!0,FA(E,a)}n.Va=function(){this.C!=null&&(this.C=null,fi(this),Ka(this),$e(19))};function Ri(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function hu(a,A){var E=null;if(a.g==A){Ri(a),Sa(a),a.g=null;var f=2}else if(Ra(a.h,A))E=A.G,jA(a.h,A),f=1;else return;if(a.I!=0){if(A.o)if(f==1){E=A.u?A.u.length:0,A=Date.now()-A.F;var y=a.D;f=li(),je(f,new BA(f,E)),Ti(a)}else uu(a);else if(y=A.m,y==3||y==0&&A.X>0||!(f==1&&OR(a,A)||f==2&&Ka(a)))switch(E&&E.length>0&&(A=a.h,A.i=A.i.concat(E)),y){case 1:bn(a,5);break;case 4:bn(a,10);break;case 3:bn(a,6);break;default:bn(a,2)}}}function du(a,A){let E=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(E*=2),E*A}function bn(a,A){if(a.j.info("Error code "+A),A==2){var E=u(a.bb,a),f=a.Ua;const y=!f;f=new rn(f||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||qr(f,"https"),Ei(f),y?SR(f.toString(),E):MR(f.toString(),E)}else $e(2);a.I=0,a.l&&a.l.pa(A),fu(a),cu(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function fu(a){if(a.I=0,a.ja=[],a.l){const A=$A(a.h);(A.length!=0||a.i.length!=0)&&(K(a.ja,A),K(a.ja,a.i),a.h.i.length=0,g(a.i),a.i.length=0),a.l.oa()}}function Tu(a,A,E){var f=E instanceof rn?_t(E):new rn(E);if(f.g!="")A&&(f.g=A+"."+f.g),Wr(f,f.u);else{var y=o.location;f=y.protocol,A=A?A+"."+y.hostname:y.hostname,y=+y.port;const U=new rn(null);f&&qr(U,f),A&&(U.g=A),y&&Wr(U,y),E&&(U.h=E),f=U}return E=a.G,A=a.wa,E&&A&&le(f,E,A),le(f,"VER",a.ka),ns(a,f),f}function Ru(a,A,E){if(A&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=a.Aa&&!a.ma?new de(new La({ab:E})):new de(a.ma),A.Fa(a.L),A}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}n=mu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function mi(){}mi.prototype.g=function(a,A){return new it(a,A)};function it(a,A){Ve.call(this),this.g=new au(A),this.l=a,this.h=A&&A.messageUrlParams||null,a=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(a?a["X-WebChannel-Content-Type"]=A.messageContentType:a={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(a?a["X-WebChannel-Client-Profile"]=A.sa:a={"X-WebChannel-Client-Profile":A.sa}),this.g.U=a,(a=A&&A.Qb)&&!p(a)&&(this.g.u=a),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!p(A)&&(this.g.G=A,a=this.h,a!==null&&A in a&&(a=this.h,A in a&&delete a[A])),this.j=new ir(this)}d(it,Ve),it.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},it.prototype.close=function(){Ia(this.g)},it.prototype.o=function(a){var A=this.g;if(typeof a=="string"){var E={};E.__data__=a,a=E}else this.v&&(E={},E.__data__=la(a),a=E);A.i.push(new TR(A.Ya++,a)),A.I==3&&Ti(A)},it.prototype.N=function(){this.g.l=null,delete this.j,Ia(this.g),delete this.g,it.Z.N.call(this)};function pu(a){Aa.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var A=a.__sm__;if(A){e:{for(const E in A){a=E;break e}a=void 0}(this.i=a)&&(a=this.i,A=A!==null&&a in A?A[a]:void 0),this.data=A}else this.data=a}d(pu,Aa);function Lu(){ua.call(this),this.status=1}d(Lu,ua);function ir(a){this.g=a}d(ir,mu),ir.prototype.ra=function(){je(this.g,"a")},ir.prototype.qa=function(a){je(this.g,new pu(a))},ir.prototype.pa=function(a){je(this.g,new Lu)},ir.prototype.oa=function(){je(this.g,"b")},mi.prototype.createWebChannel=mi.prototype.g,it.prototype.send=it.prototype.o,it.prototype.open=it.prototype.m,it.prototype.close=it.prototype.close,Gh=function(){return new mi},Hh=function(){return li()},Zh=wn,Ja={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,_i=Ai,vA.COMPLETE="complete",Yh=vA,PA.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,as=PA,de.prototype.listenOnce=de.prototype.K,de.prototype.getLastError=de.prototype.Ha,de.prototype.getLastErrorCode=de.prototype.ya,de.prototype.getStatus=de.prototype.ca,de.prototype.getResponseJson=de.prototype.La,de.prototype.getResponseText=de.prototype.la,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Fa,Fh=de}).apply(typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{});const wu="@firebase/firestore",Bu="4.9.2";class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let Dr="12.3.0";const xn=new Uc("@firebase/firestore");function ar(){return xn.logLevel}function V(n,...e){if(xn.logLevel<=X.DEBUG){const t=e.map(Dc);xn.debug(`Firestore (${Dr}): ${n}`,...t)}}function Jt(n,...e){if(xn.logLevel<=X.ERROR){const t=e.map(Dc);xn.error(`Firestore (${Dr}): ${n}`,...t)}}function gr(n,...e){if(xn.logLevel<=X.WARN){const t=e.map(Dc);xn.warn(`Firestore (${Dr}): ${n}`,...t)}}function Dc(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function H(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,xh(n,r,t)}function xh(n,e,t){let r=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Jt(r),new Error(r)}function re(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||xh(e,s,r)}function q(n,e){return n}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends en{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pt{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class jh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ye.UNAUTHENTICATED)))}shutdown(){}}class Sp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Mp{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){re(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new Pt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pt,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},c=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pt)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new jh(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class Np{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yp{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Np(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _p{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){re(this.o===void 0,3512);const r=i=>{i.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vu(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(re(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vu(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Up(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Cc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Up(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function ee(n,e){return n<e?-1:n>e?1:0}function Qa(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return Pa(s)===Pa(i)?ee(s,i):Pa(s)?1:-1}return ee(n.length,e.length)}const Op=55296,Pp=57343;function Pa(n){const e=n.charCodeAt(0);return e>=Op&&e<=Pp}function Ir(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const bu="__name__";class Ot{constructor(e,t,r){t===void 0?t=0:t>e.length&&H(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&H(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ot.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ot?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Ot.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return ee(e.length,t.length)}static compareSegments(e,t){const r=Ot.isNumericId(e),s=Ot.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ot.extractNumericId(e).compare(Ot.extractNumericId(t)):Qa(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pn.fromString(e.substring(4,e.length-2))}}class ie extends Ot{construct(e,t,r){return new ie(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new ie(t)}static emptyPath(){return new ie([])}}const Dp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class De extends Ot{construct(e,t,r){return new De(e,t,r)}static isValidIdentifier(e){return Dp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),De.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bu}static keyField(){return new De([bu])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new b(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new b(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new b(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new b(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new De(t)}static emptyPath(){return new De([])}}class Z{constructor(e){this.path=e}static fromPath(e){return new Z(ie.fromString(e))}static fromName(e){return new Z(ie.fromString(e).popFirst(5))}static empty(){return new Z(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new ie(e.slice()))}}function $h(n,e,t){if(!t)throw new b(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Cp(n,e,t,r){if(e===!0&&r===!0)throw new b(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vu(n){if(!Z.isDocumentKey(n))throw new b(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ku(n){if(Z.isDocumentKey(n))throw new b(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qh(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Do(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":H(12329,{type:typeof n})}function Je(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new b(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Do(n);throw new b(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wp(n,e){if(e<=0)throw new b(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Ie(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hs(n,e){if(!qh(n))throw new b(O.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(s&&typeof o!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new b(O.INVALID_ARGUMENT,t);return!0}const Fu=-62135596800,Yu=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Yu);return new Ae(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new b(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new b(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fu)throw new b(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yu}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hs(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fu;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Ie("string",Ae._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class x{static fromTimestamp(e){return new x(e)}static min(){return new x(new Ae(0,0))}static max(){return new x(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ns=-1;function Bp(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=x.fromTimestamp(r===1e9?new Ae(t+1,0):new Ae(t,r));return new Kn(s,Z.empty(),e)}function vp(n){return new Kn(n.readTime,n.key,Ns)}class Kn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Kn(x.min(),Z.empty(),Ns)}static max(){return new Kn(x.max(),Z.empty(),Ns)}}function bp(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(n.documentKey,e.documentKey),t!==0?t:ee(n.largestBatchId,e.largestBatchId))}const Vp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cr(n){if(n.code!==O.FAILED_PRECONDITION||n.message!==Vp)throw n;V("LocalStore","Unexpectedly lost primary lease")}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new P(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof P?t:P.resolve(t)}catch(t){return P.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):P.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):P.reject(t)}static resolve(e){return new P(((t,r)=>{t(e)}))}static reject(e){return new P(((t,r)=>{r(e)}))}static waitFor(e){return new P(((t,r)=>{let s=0,i=0,o=!1;e.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&t()}),(l=>r(l)))})),o=!0,i===s&&t()}))}static or(e){let t=P.resolve(!1);for(const r of e)t=t.next((s=>s?P.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new P(((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next((h=>{o[u]=h,++c,c===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,t){return new P(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}function Fp(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wr(n){return n.name==="IndexedDbTransactionError"}class Co{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Co.ce=-1;const wc=-1;function Gs(n){return n==null}function Gi(n){return n===0&&1/n==-1/0}function Yp(n){return typeof n=="number"&&Number.isInteger(n)&&!Gi(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Wh="";function Zp(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zu(e)),e=Hp(n.get(t),e);return Zu(e)}function Hp(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Wh:t+="";break;default:t+=i}}return t}function Zu(n){return n+Wh+""}function Hu(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function On(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class he{constructor(e,t){this.comparator=e,this.root=t||Pe.EMPTY}insert(e,t){return new he(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new he(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gi(this.root,e,this.comparator,!1)}getReverseIterator(){return new gi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gi(this.root,e,this.comparator,!0)}}class gi{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Pe.RED,this.left=s??Pe.EMPTY,this.right=i??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Pe(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Pe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Pe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new he(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gu(this.data.getIterator())}getIteratorFrom(e){return new Gu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Me(this.comparator);return t.data=e,t}}class Gu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ct{constructor(e){this.fields=e,e.sort(De.comparator)}static empty(){return new ct([])}unionWith(e){let t=new Me(De.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ct(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ir(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Jh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ve{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Jh("Invalid base64 string: "+i):i}})(e);return new ve(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new ve(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ve.EMPTY_BYTE_STRING=new ve("");const Gp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sn(n){if(re(!!n,39018),typeof n=="string"){let e=0;const t=Gp.exec(n);if(re(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fe(n.seconds),nanos:fe(n.nanos)}}function fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Mn(n){return typeof n=="string"?ve.fromBase64String(n):ve.fromUint8Array(n)}const Qh="server_timestamp",Xh="__type__",ed="__previous_value__",td="__local_write_time__";function Bc(n){return(n?.mapValue?.fields||{})[Xh]?.stringValue===Qh}function wo(n){const e=n.mapValue.fields[ed];return Bc(e)?wo(e):e}function ys(n){const e=Sn(n.mapValue.fields[td].timestampValue);return new Ae(e.seconds,e.nanos)}class xp{constructor(e,t,r,s,i,o,c,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const xi="(default)";class _s{constructor(e,t){this.projectId=e,this.database=t||xi}static empty(){return new _s("","")}get isDefaultDatabase(){return this.database===xi}isEqual(e){return e instanceof _s&&e.projectId===this.projectId&&e.database===this.database}}const nd="__type__",jp="__max__",Ii={mapValue:{}},rd="__vector__",ji="value";function Nn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bc(n)?4:qp(n)?9007199254740991:$p(n)?10:11:H(28295,{value:n})}function bt(n,e){if(n===e)return!0;const t=Nn(n);if(t!==Nn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ys(n).isEqual(ys(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Sn(s.timestampValue),c=Sn(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return Mn(s.bytesValue).isEqual(Mn(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return fe(s.geoPointValue.latitude)===fe(i.geoPointValue.latitude)&&fe(s.geoPointValue.longitude)===fe(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return fe(s.integerValue)===fe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=fe(s.doubleValue),c=fe(i.doubleValue);return o===c?Gi(o)===Gi(c):isNaN(o)&&isNaN(c)}return!1})(n,e);case 9:return Ir(n.arrayValue.values||[],e.arrayValue.values||[],bt);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Hu(o)!==Hu(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!bt(o[l],c[l])))return!1;return!0})(n,e);default:return H(52216,{left:n})}}function Us(n,e){return(n.values||[]).find((t=>bt(t,e)))!==void 0}function Kr(n,e){if(n===e)return 0;const t=Nn(n),r=Nn(e);if(t!==r)return ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ee(n.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=fe(i.integerValue||i.doubleValue),l=fe(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(n,e);case 3:return xu(n.timestampValue,e.timestampValue);case 4:return xu(ys(n),ys(e));case 5:return Qa(n.stringValue,e.stringValue);case 6:return(function(i,o){const c=Mn(i),l=Mn(o);return c.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){const h=ee(c[u],l[u]);if(h!==0)return h}return ee(c.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=ee(fe(i.latitude),fe(o.latitude));return c!==0?c:ee(fe(i.longitude),fe(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ju(n.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},l=o.fields||{},u=c[ji]?.arrayValue,h=l[ji]?.arrayValue,d=ee(u?.values?.length||0,h?.values?.length||0);return d!==0?d:ju(u,h)})(n.mapValue,e.mapValue);case 11:return(function(i,o){if(i===Ii.mapValue&&o===Ii.mapValue)return 0;if(i===Ii.mapValue)return 1;if(o===Ii.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const T=Qa(l[d],h[d]);if(T!==0)return T;const g=Kr(c[l[d]],u[h[d]]);if(g!==0)return g}return ee(l.length,h.length)})(n.mapValue,e.mapValue);default:throw H(23264,{he:t})}}function xu(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ee(n,e);const t=Sn(n),r=Sn(e),s=ee(t.seconds,r.seconds);return s!==0?s:ee(t.nanos,r.nanos)}function ju(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Kr(t[s],r[s]);if(i)return i}return ee(t.length,r.length)}function Sr(n){return Xa(n)}function Xa(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Sn(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Mn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=Xa(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Xa(t.fields[o])}`;return s+"}"})(n.mapValue):H(61005,{value:n})}function Ui(n){switch(Nn(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wo(n);return e?16+Ui(e):16;case 5:return 2*n.stringValue.length;case 6:return Mn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Ui(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return On(r.fields,((i,o)=>{s+=i.length+Ui(o)})),s})(n.mapValue);default:throw H(13486,{value:n})}}function $u(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ec(n){return!!n&&"integerValue"in n}function vc(n){return!!n&&"arrayValue"in n}function qu(n){return!!n&&"nullValue"in n}function Wu(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oi(n){return!!n&&"mapValue"in n}function $p(n){return(n?.mapValue?.fields||{})[nd]?.stringValue===rd}function ds(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return On(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ds(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ds(n.arrayValue.values[t]);return e}return{...n}}function qp(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jp}class ze{constructor(e){this.value=e}static empty(){return new ze({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Oi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(t)}setAll(e){let t=De.emptyPath(),r={},s=[];e.forEach(((o,c)=>{if(!t.isImmediateParentOf(c)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=c.popLast()}o?r[c.lastSegment()]=ds(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Oi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Oi(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){On(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new ze(ds(this.value))}}function sd(n){const e=[];return On(n.fields,((t,r)=>{const s=new De([t]);if(Oi(r)){const i=sd(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new ct(e)}class _e{constructor(e,t,r,s,i,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new _e(e,0,x.min(),x.min(),x.min(),ze.empty(),0)}static newFoundDocument(e,t,r,s){return new _e(e,1,t,x.min(),r,s,0)}static newNoDocument(e,t){return new _e(e,2,t,x.min(),x.min(),ze.empty(),0)}static newUnknownDocument(e,t){return new _e(e,3,t,x.min(),x.min(),ze.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(x.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ze.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ze.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=x.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $i{constructor(e,t){this.position=e,this.inclusive=t}}function zu(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),t.key):r=Kr(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ju(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bt(n.position[t],e.position[t]))return!1;return!0}class Os{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wp(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class id{}class ge extends id{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Jp(e,t,r):t==="array-contains"?new eL(e,r):t==="in"?new tL(e,r):t==="not-in"?new nL(e,r):t==="array-contains-any"?new rL(e,r):new ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Qp(e,r):new Xp(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Kr(t,this.value)):t!==null&&Nn(this.value)===Nn(t)&&this.matchesComparison(Kr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mt extends id{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mt(e,t)}matches(e){return od(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function od(n){return n.op==="and"}function ad(n){return zp(n)&&od(n)}function zp(n){for(const e of n.filters)if(e instanceof Mt)return!1;return!0}function tc(n){if(n instanceof ge)return n.field.canonicalString()+n.op.toString()+Sr(n.value);if(ad(n))return n.filters.map((e=>tc(e))).join(",");{const e=n.filters.map((t=>tc(t))).join(",");return`${n.op}(${e})`}}function cd(n,e){return n instanceof ge?(function(r,s){return s instanceof ge&&r.op===s.op&&r.field.isEqual(s.field)&&bt(r.value,s.value)})(n,e):n instanceof Mt?(function(r,s){return s instanceof Mt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&cd(o,s.filters[c])),!0):!1})(n,e):void H(19439)}function ld(n){return n instanceof ge?(function(t){return`${t.field.canonicalString()} ${t.op} ${Sr(t.value)}`})(n):n instanceof Mt?(function(t){return t.op.toString()+" {"+t.getFilters().map(ld).join(" ,")+"}"})(n):"Filter"}class Jp extends ge{constructor(e,t,r){super(e,t,r),this.key=Z.fromName(r.referenceValue)}matches(e){const t=Z.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qp extends ge{constructor(e,t){super(e,"in",t),this.keys=Ad("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Xp extends ge{constructor(e,t){super(e,"not-in",t),this.keys=Ad("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ad(n,e){return(e.arrayValue?.values||[]).map((t=>Z.fromName(t.referenceValue)))}class eL extends ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vc(t)&&Us(t.arrayValue,this.value)}}class tL extends ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Us(this.value.arrayValue,t)}}class nL extends ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(Us(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Us(this.value.arrayValue,t)}}class rL extends ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Us(this.value.arrayValue,r)))}}class sL{constructor(e,t=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function Qu(n,e=null,t=[],r=[],s=null,i=null,o=null){return new sL(n,e,t,r,s,i,o)}function bc(n){const e=q(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>tc(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Gs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Sr(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Sr(r))).join(",")),e.Te=t}return e.Te}function Vc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Wp(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cd(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ju(n.startAt,e.startAt)&&Ju(n.endAt,e.endAt)}function nc(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Br{constructor(e,t=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iL(n,e,t,r,s,i,o,c){return new Br(n,e,t,r,s,i,o,c)}function Bo(n){return new Br(n)}function Xu(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ud(n){return n.collectionGroup!==null}function fs(n){const e=q(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Me(De.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(c=c.add(u.field))}))})),c})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Os(i,r))})),t.has(De.keyField().canonicalString())||e.Ie.push(new Os(De.keyField(),r))}return e.Ie}function Dt(n){const e=q(n);return e.Ee||(e.Ee=oL(e,fs(n))),e.Ee}function oL(n,e){if(n.limitType==="F")return Qu(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Os(s.field,i)}));const t=n.endAt?new $i(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $i(n.startAt.position,n.startAt.inclusive):null;return Qu(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rc(n,e){const t=n.filters.concat([e]);return new Br(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qi(n,e,t){return new Br(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vo(n,e){return Vc(Dt(n),Dt(e))&&n.limitType===e.limitType}function Ed(n){return`${bc(Dt(n))}|lt:${n.limitType}`}function cr(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>ld(s))).join(", ")}]`),Gs(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Sr(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Sr(s))).join(",")),`Target(${r})`})(Dt(n))}; limitType=${n.limitType})`}function bo(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of fs(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(o,c,l){const u=zu(o,c,l);return o.inclusive?u<=0:u<0})(r.startAt,fs(r),s)||r.endAt&&!(function(o,c,l){const u=zu(o,c,l);return o.inclusive?u>=0:u>0})(r.endAt,fs(r),s))})(n,e)}function aL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hd(n){return(e,t)=>{let r=!1;for(const s of fs(n)){const i=cL(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function cL(n,e,t){const r=n.field.isKeyField()?Z.comparator(e.key,t.key):(function(i,o,c){const l=o.data.field(i),u=c.data.field(i);return l!==null&&u!==null?Kr(l,u):H(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:n.dir})}}class Qn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){On(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return zh(this.inner)}size(){return this.innerSize}}const lL=new he(Z.comparator);function Qt(){return lL}const dd=new he(Z.comparator);function cs(...n){let e=dd;for(const t of n)e=e.insert(t.key,t);return e}function fd(n){let e=dd;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Yn(){return Ts()}function Td(){return Ts()}function Ts(){return new Qn((n=>n.toString()),((n,e)=>n.isEqual(e)))}const AL=new he(Z.comparator),uL=new Me(Z.comparator);function te(...n){let e=uL;for(const t of n)e=e.add(t);return e}const EL=new Me(ee);function hL(){return EL}function kc(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gi(e)?"-0":e}}function Rd(n){return{integerValue:""+n}}function dL(n,e){return Yp(e)?Rd(e):kc(n,e)}class Vo{constructor(){this._=void 0}}function fL(n,e,t){return n instanceof Ps?(function(s,i){const o={fields:{[Xh]:{stringValue:Qh},[td]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bc(i)&&(i=wo(i)),i&&(o.fields[ed]=i),{mapValue:o}})(t,e):n instanceof Mr?pd(n,e):n instanceof Nr?Ld(n,e):(function(s,i){const o=md(s,i),c=eE(o)+eE(s.Ae);return ec(o)&&ec(s.Ae)?Rd(c):kc(s.serializer,c)})(n,e)}function TL(n,e,t){return n instanceof Mr?pd(n,e):n instanceof Nr?Ld(n,e):t}function md(n,e){return n instanceof Wi?(function(r){return ec(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Ps extends Vo{}class Mr extends Vo{constructor(e){super(),this.elements=e}}function pd(n,e){const t=gd(e);for(const r of n.elements)t.some((s=>bt(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Nr extends Vo{constructor(e){super(),this.elements=e}}function Ld(n,e){let t=gd(e);for(const r of n.elements)t=t.filter((s=>!bt(s,r)));return{arrayValue:{values:t}}}class Wi extends Vo{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function eE(n){return fe(n.integerValue||n.doubleValue)}function gd(n){return vc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fc{constructor(e,t){this.field=e,this.transform=t}}function RL(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Mr&&s instanceof Mr||r instanceof Nr&&s instanceof Nr?Ir(r.elements,s.elements,bt):r instanceof Wi&&s instanceof Wi?bt(r.Ae,s.Ae):r instanceof Ps&&s instanceof Ps})(n.transform,e.transform)}class mL{constructor(e,t){this.version=e,this.transformResults=t}}class Ce{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ce}static exists(e){return new Ce(void 0,e)}static updateTime(e){return new Ce(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pi(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ko{}function Id(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Fo(n.key,Ce.none()):new xs(n.key,n.data,Ce.none());{const t=n.data,r=ze.empty();let s=new Me(De.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Pn(n.key,r,new ct(s.toArray()),Ce.none())}}function pL(n,e,t){n instanceof xs?(function(s,i,o){const c=s.value.clone(),l=nE(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Pn?(function(s,i,o){if(!Pi(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=nE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Kd(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,e,t):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Rs(n,e,t,r){return n instanceof xs?(function(i,o,c,l){if(!Pi(i.precondition,o))return c;const u=i.value.clone(),h=rE(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof Pn?(function(i,o,c,l){if(!Pi(i.precondition,o))return c;const u=rE(i.fieldTransforms,l,o),h=o.data;return h.setAll(Kd(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(n,e,t,r):(function(i,o,c){return Pi(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,e,t)}function LL(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=md(r.transform,s||null);i!=null&&(t===null&&(t=ze.empty()),t.set(r.field,i))}return t||null}function tE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ir(r,s,((i,o)=>RL(i,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xs extends ko{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pn extends ko{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Kd(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function nE(n,e,t){const r=new Map;re(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,TL(o,c,t[s]))}return r}function rE(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,fL(i,o,e))}return r}class Fo extends ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sd extends ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gL{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&pL(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rs(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rs(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Td();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=t.has(s.key)?null:c;const l=Id(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(x.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),te())}isEqual(e){return this.batchId===e.batchId&&Ir(this.mutations,e.mutations,((t,r)=>tE(t,r)))&&Ir(this.baseMutations,e.baseMutations,((t,r)=>tE(t,r)))}}class Yc{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return AL})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Yc(e,t,r,s)}}class IL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KL{constructor(e,t){this.count=e,this.unchangedNames=t}}var pe,ne;function Md(n){switch(n){case O.OK:return H(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return H(15467,{code:n})}}function Nd(n){if(n===void 0)return Jt("GRPC error has no .code"),O.UNKNOWN;switch(n){case pe.OK:return O.OK;case pe.CANCELLED:return O.CANCELLED;case pe.UNKNOWN:return O.UNKNOWN;case pe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case pe.INTERNAL:return O.INTERNAL;case pe.UNAVAILABLE:return O.UNAVAILABLE;case pe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case pe.NOT_FOUND:return O.NOT_FOUND;case pe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case pe.ABORTED:return O.ABORTED;case pe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case pe.DATA_LOSS:return O.DATA_LOSS;default:return H(39323,{code:n})}}(ne=pe||(pe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";function SL(){return new TextEncoder}const ML=new pn([4294967295,4294967295],0);function sE(n){const e=SL().encode(n),t=new kh;return t.update(e),new Uint8Array(t.digest())}function iE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new pn([t,r],0),new pn([s,i],0)]}class Zc{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ls(`Invalid padding: ${t}`);if(r<0)throw new ls(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ls(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ls(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=pn.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(pn.fromNumber(r)));return s.compare(ML)===1&&(s=new pn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=sE(e),[r,s]=iE(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Zc(i,s,t);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const t=sE(e),[r,s]=iE(t);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ls extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yo{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,js.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Yo(x.min(),s,new he(ee),Qt(),te())}}class js{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new js(r,t,te(),te(),te())}}class Di{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class yd{constructor(e,t){this.targetId=e,this.Ce=t}}class _d{constructor(e,t,r=ve.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class oE{constructor(){this.ve=0,this.Fe=aE(),this.Me=ve.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=te(),t=te(),r=te();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:H(38017,{changeType:i})}})),new js(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=aE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qt(),this.Je=Ki(),this.He=Ki(),this.Ye=new he(ee)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:H(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(nc(i))if(r===0){const o=new Z(i.path);this.et(t,o,_e.newNoDocument(o,x.min()))}else re(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const c=this.ut(e),l=c?this.ct(c,e,o):1;if(l!==0){this.it(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,u)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,c;try{o=Mn(r).toUint8Array()}catch(l){if(l instanceof Jh)return gr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Zc(o,s,i)}catch(l){return gr(l instanceof ls?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&nc(c.target)){const l=new Z(c.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,_e.newNoDocument(l,e))}i.Be&&(t.set(o,i.ke()),i.qe())}}));let r=te();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Yo(e,t,this.Ye,this.je,r);return this.je=Qt(),this.Je=Ki(),this.He=Ki(),this.Ye=new he(ee),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new oE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Me(ee),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Me(ee),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ki(){return new he(Z.comparator)}function aE(){return new he(Z.comparator)}const yL={asc:"ASCENDING",desc:"DESCENDING"},_L={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UL={and:"AND",or:"OR"};class OL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sc(n,e){return n.useProto3Json||Gs(e)?e:{value:e}}function zi(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ud(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PL(n,e){return zi(n,e.toTimestamp())}function At(n){return re(!!n,49232),x.fromTimestamp((function(t){const r=Sn(t);return new Ae(r.seconds,r.nanos)})(n))}function Hc(n,e){return ic(n,e).canonicalString()}function ic(n,e){const t=(function(s){return new ie(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Od(n){const e=ie.fromString(n);return re(vd(e),10190,{key:e.toString()}),e}function Ji(n,e){return Hc(n.databaseId,e.path)}function ms(n,e){const t=Od(e);if(t.get(1)!==n.databaseId.projectId)throw new b(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new b(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Z(Dd(t))}function Pd(n,e){return Hc(n.databaseId,e)}function DL(n){const e=Od(n);return e.length===4?ie.emptyPath():Dd(e)}function oc(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dd(n){return re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cE(n,e,t){return{name:Ji(n,e),fields:t.value.mapValue.fields}}function CL(n,e){return"found"in e?(function(r,s){re(!!s.found,43571),s.found.name,s.found.updateTime;const i=ms(r,s.found.name),o=At(s.found.updateTime),c=s.found.createTime?At(s.found.createTime):x.min(),l=new ze({mapValue:{fields:s.found.fields}});return _e.newFoundDocument(i,o,c,l)})(n,e):"missing"in e?(function(r,s){re(!!s.missing,3894),re(!!s.readTime,22933);const i=ms(r,s.missing),o=At(s.readTime);return _e.newNoDocument(i,o)})(n,e):H(7234,{result:e})}function wL(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:H(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(re(h===void 0||typeof h=="string",58123),ve.fromBase64String(h||"")):(re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ve.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(u){const h=u.code===void 0?O.UNKNOWN:Nd(u.code);return new b(h,u.message||"")})(o);t=new _d(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ms(n,r.document.name),i=At(r.document.updateTime),o=r.document.createTime?At(r.document.createTime):x.min(),c=new ze({mapValue:{fields:r.document.fields}}),l=_e.newFoundDocument(s,i,o,c),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Di(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ms(n,r.document),i=r.readTime?At(r.readTime):x.min(),o=_e.newNoDocument(s,i),c=r.removedTargetIds||[];t=new Di([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ms(n,r.document),i=r.removedTargetIds||[];t=new Di([],i,s,null)}else{if(!("filter"in e))return H(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new KL(s,i),c=r.targetId;t=new yd(c,o)}}return t}function Cd(n,e){let t;if(e instanceof xs)t={update:cE(n,e.key,e.value)};else if(e instanceof Fo)t={delete:Ji(n,e.key)};else if(e instanceof Pn)t={update:cE(n,e.key,e.data),updateMask:HL(e.fieldMask)};else{if(!(e instanceof Sd))return H(16599,{Vt:e.type});t={verify:Ji(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof Ps)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Wi)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw H(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:PL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H(27497)})(n,e.precondition)),t}function BL(n,e){return n&&n.length>0?(re(e!==void 0,14353),n.map((t=>(function(s,i){let o=s.updateTime?At(s.updateTime):At(i);return o.isEqual(x.min())&&(o=At(i)),new mL(o,s.transformResults||[])})(t,e)))):[]}function vL(n,e){return{documents:[Pd(n,e.path)]}}function bL(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Pd(n,s);const i=(function(u){if(u.length!==0)return Bd(Mt.create(u,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(T){return{field:lr(T.field),direction:FL(T.dir)}})(h)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=sc(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:t,parent:s}}function VL(n){let e=DL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){re(r===1,65062);const h=t.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=(function(d){const T=wd(d);return T instanceof Mt&&ad(T)?T.getFilters():[T]})(t.where));let o=[];t.orderBy&&(o=(function(d){return d.map((T=>(function(K){return new Os(Ar(K.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(T)))})(t.orderBy));let c=null;t.limit&&(c=(function(d){let T;return T=typeof d=="object"?d.value:d,Gs(T)?null:T})(t.limit));let l=null;t.startAt&&(l=(function(d){const T=!!d.before,g=d.values||[];return new $i(g,T)})(t.startAt));let u=null;return t.endAt&&(u=(function(d){const T=!d.before,g=d.values||[];return new $i(g,T)})(t.endAt)),iL(e,s,o,i,c,"F",l,u)}function kL(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wd(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ar(t.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ar(t.unaryFilter.field);return ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ar(t.unaryFilter.field);return ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ar(t.unaryFilter.field);return ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ge.create(Ar(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Mt.create(t.compositeFilter.filters.map((r=>wd(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return H(1026)}})(t.compositeFilter.op))})(n):H(30097,{filter:n})}function FL(n){return yL[n]}function YL(n){return _L[n]}function ZL(n){return UL[n]}function lr(n){return{fieldPath:n.canonicalString()}}function Ar(n){return De.fromServerFormat(n.fieldPath)}function Bd(n){return n instanceof ge?(function(t){if(t.op==="=="){if(Wu(t.value))return{unaryFilter:{field:lr(t.field),op:"IS_NAN"}};if(qu(t.value))return{unaryFilter:{field:lr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wu(t.value))return{unaryFilter:{field:lr(t.field),op:"IS_NOT_NAN"}};if(qu(t.value))return{unaryFilter:{field:lr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lr(t.field),op:YL(t.op),value:t.value}}})(n):n instanceof Mt?(function(t){const r=t.getFilters().map((s=>Bd(s)));return r.length===1?r[0]:{compositeFilter:{op:ZL(t.op),filters:r}}})(n):H(54877,{filter:n})}function HL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function vd(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class fn{constructor(e,t,r,s,i=x.min(),o=x.min(),c=ve.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GL{constructor(e){this.yt=e}}function xL(n){const e=VL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qi(e,e.limit,"L"):e}class jL{constructor(){this.Cn=new $L}addToCollectionParentIndex(e,t){return this.Cn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Kn.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}}class $L{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Me(ie.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Me(ie.comparator)).toArray()}}const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bd=41943040;class nt{static withCacheSize(e){return new nt(e,nt.DEFAULT_COLLECTION_PERCENTILE,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}nt.DEFAULT_COLLECTION_PERCENTILE=10,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nt.DEFAULT=new nt(bd,nt.DEFAULT_COLLECTION_PERCENTILE,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nt.DISABLED=new nt(-1,0,0);class yr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yr(0)}static cr(){return new yr(-1)}}const AE="LruGarbageCollector",qL=1048576;function uE([n,e],[t,r]){const s=ee(n,t);return s===0?ee(e,r):s}class WL{constructor(e){this.Ir=e,this.buffer=new Me(uE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){V(AE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wr(t)?V(AE,"Ignoring IndexedDB error during garbage collection: ",t):await Cr(t)}await this.Vr(3e5)}))}}class JL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return P.resolve(Co.ce);const r=new WL(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(lE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,o,c,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s)))).next((d=>(r=d,c=Date.now(),this.removeTargets(e,r,t)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((d=>(u=Date.now(),ar()<=X.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function QL(n,e){return new JL(n,e)}class XL{constructor(){this.changes=new Qn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_e.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tg{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Rs(r.mutation,s,ct.empty(),Ae.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,te()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=te()){const s=Yn();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let o=cs();return i.forEach(((c,l)=>{o=o.insert(c,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=Yn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,te())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,c)=>{t.set(o,c)}))}))}computeViews(e,t,r,s){let i=Qt();const o=Ts(),c=(function(){return Ts()})();return t.forEach(((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Pn)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Rs(h.mutation,u,h.mutation.getFieldMask(),Ae.now())):o.set(u.key,ct.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,h)=>o.set(u,h))),t.forEach(((u,h)=>c.set(u,new eg(h,o.get(u)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Ts();let s=new he(((o,c)=>o-c)),i=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const c of o)c.keys().forEach((l=>{const u=t.get(l);if(u===null)return;let h=r.get(l)||ct.empty();h=c.applyToLocalView(u,h),r.set(l,h);const d=(s.get(c.batchId)||te()).add(l);s=s.insert(c.batchId,d)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,h=l.value,d=Td();h.forEach((T=>{if(!i.has(T)){const g=Id(t.get(T),r.get(T));g!==null&&d.set(T,g),i=i.add(T)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return P.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ud(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):P.resolve(Yn());let c=Ns,l=i;return o.next((u=>P.forEach(u,((h,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),i.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next((T=>{l=l.insert(h,T)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,te()))).next((h=>({batchId:c,changes:fd(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next((r=>{let s=cs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=cs();return this.indexManager.getCollectionParents(e,i).next((c=>P.forEach(c,(l=>{const u=(function(d,T){return new Br(T,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((h=>{h.forEach(((d,T)=>{o=o.insert(d,T)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,_e.newInvalidDocument(h)))}));let c=cs();return o.forEach(((l,u)=>{const h=i.get(l);h!==void 0&&Rs(h.mutation,u,ct.empty(),Ae.now()),bo(t,u)&&(c=c.insert(l,u))})),c}))}}class ng{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return P.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:At(s.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:xL(s.bundledQuery),readTime:At(s.readTime)}})(t)),P.resolve()}}class rg{constructor(){this.overlays=new he(Z.comparator),this.qr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yn();return P.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),P.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){const s=Yn(),i=t.length+1,o=new Z(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return P.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new he(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Yn(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const c=Yn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>c.set(u,h))),!(c.size()>=s)););return P.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IL(t,r));let i=this.qr.get(t);i===void 0&&(i=te(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}class sg{constructor(){this.sessionToken=ve.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}}class Gc{constructor(){this.Qr=new Me(ye.$r),this.Ur=new Me(ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new ye(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new ye(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Z(new ie([])),r=new ye(t,e),s=new ye(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Z(new ie([])),r=new ye(t,e),s=new ye(t,e+1);let i=te();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const t=new ye(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ye{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Z.comparator(e.key,t.key)||ee(e.Yr,t.Yr)}static Kr(e,t){return ee(e.Yr,t.Yr)||Z.comparator(e.key,t.key)}}class ig{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Me(ye.$r)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gL(i,t,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new ye(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,t){return P.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return P.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?wc:this.tr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ye(t,0),s=new ye(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const c=this.Xr(o.Yr);i.push(c)})),P.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Me(ee);return t.forEach((s=>{const i=new ye(s,0),o=new ye(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{r=r.add(c.Yr)}))})),P.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new ye(new Z(i),0);let c=new Me(ee);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(c=c.add(l.Yr)),!0)}),o),P.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){re(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return P.forEach(t.mutations,(s=>{const i=new ye(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new ye(t,0),s=this.Zr.firstAfterOrEqual(r);return P.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class og{constructor(e){this.ri=e,this.docs=(function(){return new he(Z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():_e.newInvalidDocument(t))}getEntries(e,t){let r=Qt();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_e.newInvalidDocument(s))})),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Qt();const o=t.path,c=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bp(vp(h),r)<=0||(s.has(h.key)||bo(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return P.resolve(i)}getAllFromCollectionGroup(e,t,r,s){H(9500)}ii(e,t){return P.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new ag(this)}getSize(e){return P.resolve(this.size)}}class ag extends XL{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),P.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class cg{constructor(e){this.persistence=e,this.si=new Qn((t=>bc(t)),Vc),this.lastRemoteSnapshotVersion=x.min(),this.highestTargetId=0,this.oi=0,this._i=new Gc,this.targetCount=0,this.ai=yr.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),P.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new yr(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Pr(t),P.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),P.waitFor(i).next((()=>s))}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),P.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),P.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this._i.containsKey(t))}}class Vd{constructor(e,t){this.ui={},this.overlays={},this.ci=new Co(0),this.li=!1,this.li=!0,this.hi=new sg,this.referenceDelegate=e(this),this.Pi=new cg(this),this.indexManager=new jL,this.remoteDocumentCache=(function(s){return new og(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new GL(t),this.Ii=new ng(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ig(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);const s=new lg(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return P.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class lg extends kp{constructor(e){super(),this.currentSequenceNumber=e}}class xc{constructor(e){this.persistence=e,this.Ri=new Gc,this.Vi=null}static mi(e){return new xc(e)}get fi(){if(this.Vi)return this.Vi;throw H(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.fi,(r=>{const s=Z.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,x.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return P.or([()=>P.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Qi{constructor(e,t){this.persistence=e,this.pi=new Qn((r=>Zp(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=QL(this,t)}static mi(e,t){return new Qi(e,t)}Ei(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return P.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?P.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,t).next((c=>{c||(r++,i.removeEntry(o,x.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),P.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ui(e.data.value)),t}br(e,t,r){return P.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return P.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jc{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=te(),s=te();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jc(e,t.fromCache,r,s)}}class Ag{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ug{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rm()?8:Fp(Ge())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new Ag;return this.Ss(e,t,o).next((c=>{if(i.result=c,this.Vs)return this.bs(e,t,o,c.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(ar()<=X.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",cr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),P.resolve()):(ar()<=X.DEBUG&&V("QueryEngine","Query:",cr(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ar()<=X.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",cr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dt(t))):P.resolve())}ys(e,t){if(Xu(t))return P.resolve(null);let r=Dt(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=qi(t,null,"F"),r=Dt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=te(...i);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(t,c);return this.Cs(t,u,o,l.readTime)?this.ys(e,qi(t,null,"F")):this.vs(e,u,t,l)}))))})))))}ws(e,t,r,s){return Xu(t)||s.isEqual(x.min())?P.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(t,i);return this.Cs(t,o,r,s)?P.resolve(null):(ar()<=X.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cr(t)),this.vs(e,o,t,Bp(s,Ns)).next((c=>c)))}))}Ds(e,t){let r=new Me(hd(e));return t.forEach(((s,i)=>{bo(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return ar()<=X.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",cr(t)),this.ps.getDocumentsMatchingQuery(e,t,Kn.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const $c="LocalStore",Eg=3e8;class hg{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new he(ee),this.xs=new Qn((i=>bc(i)),Vc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tg(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function dg(n,e,t,r){return new hg(n,e,t,r)}async function kd(n,e){const t=q(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let l=te();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){c.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:c})))}))}))}function fg(n,e){const t=q(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,l,u,h){const d=u.batch,T=d.keys();let g=P.resolve();return T.forEach((K=>{g=g.next((()=>h.getEntry(l,K))).next((M=>{const _=u.docVersions.get(K);re(_!==null,48541),M.version.compareTo(_)<0&&(d.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),h.addEntry(M)))}))})),g.next((()=>c.mutationQueue.removeMutationBatch(l,d)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=te();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function Fd(n){const e=q(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Tg(n,e){const t=q(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((h,d)=>{const T=s.get(d);if(!T)return;c.push(t.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>t.Pi.addMatchingKeys(i,h.addedDocuments,d))));let g=T.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(ve.EMPTY_BYTE_STRING,x.min()).withLastLimboFreeSnapshotVersion(x.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),(function(M,_,C){return M.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Eg?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(T,g,h)&&c.push(t.Pi.updateTargetData(i,g))}));let l=Qt(),u=te();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))})),c.push(Rg(i,o,e.documentUpdates).next((h=>{l=h.ks,u=h.qs}))),!r.isEqual(x.min())){const h=t.Pi.getLastRemoteSnapshotVersion(i).next((d=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(h)}return P.waitFor(c).next((()=>o.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(t.Ms=s,i)))}function Rg(n,e,t){let r=te(),s=te();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let o=Qt();return t.forEach(((c,l)=>{const u=i.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(x.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):V($c,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function mg(n,e){const t=q(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wc),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pg(n,e){const t=q(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,P.resolve(s)):t.Pi.allocateTargetId(r).next((o=>(s=new fn(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function ac(n,e,t){const r=q(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!wr(o))throw o;V($c,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function EE(n,e,t){const r=q(n);let s=x.min(),i=te();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,h){const d=q(l),T=d.xs.get(h);return T!==void 0?P.resolve(d.Ms.get(T)):d.Pi.getTargetData(u,h)})(r,o,Dt(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?s:x.min(),t?i:te()))).next((c=>(Lg(r,aL(e),c),{documents:c,Qs:i})))))}function Lg(n,e,t){let r=n.Os.get(e)||x.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}class hE{constructor(){this.activeTargetIds=hL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gg{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ig{Oo(e){}shutdown(){}}const dE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){V(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){V(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Si=null;function cc(){return Si===null?Si=(function(){return 268435456+Math.round(2147483648*Math.random())})():Si++,"0x"+Si.toString(16)}const Da="RestConnection",Kg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sg{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===xi?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const o=cc(),c=this.zo(e,t.toUriEncodedString());V(Da,`Sending RPC '${e}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(c),h=Or(u);return this.Jo(e,c,l,r,h).then((d=>(V(Da,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw gr(Da,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",r),d}))}Ho(e,t,r,s,i,o){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=Kg[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Mg{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ke="WebChannelConnection";class Ng extends Sg{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const o=cc();return new Promise(((c,l)=>{const u=new Fh;u.setWithCredentials(!0),u.listenOnce(Yh.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case _i.NO_ERROR:const d=u.getResponseJson();V(ke,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),c(d);break;case _i.TIMEOUT:V(ke,`RPC '${e}' ${o} timed out`),l(new b(O.DEADLINE_EXCEEDED,"Request time out"));break;case _i.HTTP_ERROR:const T=u.getStatus();if(V(ke,`RPC '${e}' ${o} failed with status:`,T,"response text:",u.getResponseText()),T>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const K=g?.error;if(K&&K.status&&K.message){const M=(function(C){const v=C.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(v)>=0?v:O.UNKNOWN})(K.status);l(new b(M,K.message))}else l(new b(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new b(O.UNAVAILABLE,"Connection failed."));break;default:H(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{V(ke,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);V(ke,`RPC '${e}' ${o} sending request:`,s),u.send(t,"POST",h,r,15)}))}T_(e,t,r){const s=cc(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gh(),c=Hh(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=i.join("");V(ke,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let T=!1,g=!1;const K=new Mg({Yo:_=>{g?V(ke,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(T||(V(ke,`Opening RPC '${e}' stream ${s} transport.`),d.open(),T=!0),V(ke,`RPC '${e}' stream ${s} sending:`,_),d.send(_))},Zo:()=>d.close()}),M=(_,C,v)=>{_.listen(C,(w=>{try{v(w)}catch(k){setTimeout((()=>{throw k}),0)}}))};return M(d,as.EventType.OPEN,(()=>{g||(V(ke,`RPC '${e}' stream ${s} transport opened.`),K.o_())})),M(d,as.EventType.CLOSE,(()=>{g||(g=!0,V(ke,`RPC '${e}' stream ${s} transport closed`),K.a_(),this.E_(d))})),M(d,as.EventType.ERROR,(_=>{g||(g=!0,gr(ke,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),K.a_(new b(O.UNAVAILABLE,"The operation could not be completed")))})),M(d,as.EventType.MESSAGE,(_=>{if(!g){const C=_.data[0];re(!!C,16349);const v=C,w=v?.error||v[0]?.error;if(w){V(ke,`RPC '${e}' stream ${s} received error:`,w);const k=w.status;let $=(function(m){const L=pe[m];if(L!==void 0)return Nd(L)})(k),G=w.message;$===void 0&&($=O.INTERNAL,G="Unknown error status: "+k+" with message "+w.message),g=!0,K.a_(new b($,G)),d.close()}else V(ke,`RPC '${e}' stream ${s} received:`,C),K.u_(C)}})),M(c,Zh.STAT_EVENT,(_=>{_.stat===Ja.PROXY?V(ke,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Ja.NOPROXY&&V(ke,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ca(){return typeof document<"u"?document:null}function Zo(n){return new OL(n,!0)}class qc{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&V("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TE="PersistentStream";class Yd{constructor(e,t,r,s,i,o,c,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qc(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Jt(t.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new b(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return V(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(V(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yg extends Yd{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wL(this.serializer,e),r=(function(i){if(!("targetChange"in i))return x.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?x.min():o.readTime?At(o.readTime):x.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=oc(this.serializer),t.addTarget=(function(i,o){let c;const l=o.target;if(c=nc(l)?{documents:vL(i,l)}:{query:bL(i,l).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Ud(i,o.resumeToken);const u=sc(i,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(x.min())>0){c.readTime=zi(i,o.snapshotVersion.toTimestamp());const u=sc(i,o.expectedCount);u!==null&&(c.expectedCount=u)}return c})(this.serializer,e);const r=kL(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=oc(this.serializer),t.removeTarget=e,this.q_(t)}}class _g extends Yd{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=BL(e.writeResults,e.commitTime),r=At(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=oc(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Cd(this.serializer,r)))};this.q_(t)}}class Ug{}class Og extends Ug{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new b(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,ic(t,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(O.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,ic(t,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(O.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Pg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jt(t),this.aa=!1):V("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jn="RemoteStore";class Dg{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Xn(this)&&(V(jn,"Restarting streams for network reachability change."),await(async function(l){const u=q(l);u.Ea.add(4),await $s(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ho(u)})(this))}))})),this.Ra=new Pg(r,s)}}async function Ho(n){if(Xn(n))for(const e of n.da)await e(!0)}async function $s(n){for(const e of n.da)await e(!1)}function Zd(n,e){const t=q(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qc(t)?Jc(t):vr(t).O_()&&zc(t,e))}function Wc(n,e){const t=q(n),r=vr(t);t.Ia.delete(e),r.O_()&&Hd(t,e),t.Ia.size===0&&(r.O_()?r.L_():Xn(t)&&t.Ra.set("Unknown"))}function zc(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(x.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vr(n).Y_(e)}function Hd(n,e){n.Va.Ue(e),vr(n).Z_(e)}function Jc(n){n.Va=new NL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),vr(n).start(),n.Ra.ua()}function Qc(n){return Xn(n)&&!vr(n).x_()&&n.Ia.size>0}function Xn(n){return q(n).Ea.size===0}function Gd(n){n.Va=void 0}async function Cg(n){n.Ra.set("Online")}async function wg(n){n.Ia.forEach(((e,t)=>{zc(n,e)}))}async function Bg(n,e){Gd(n),Qc(n)?(n.Ra.ha(e),Jc(n)):n.Ra.set("Unknown")}async function vg(n,e,t){if(n.Ra.set("Online"),e instanceof _d&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){V(jn,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xi(n,r)}else if(e instanceof Di?n.Va.Ze(e):e instanceof yd?n.Va.st(e):n.Va.tt(e),!t.isEqual(x.min()))try{const r=await Fd(n.localStore);t.compareTo(r)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}})),c.targetMismatches.forEach(((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(ve.EMPTY_BYTE_STRING,h.snapshotVersion)),Hd(i,l);const d=new fn(h.target,l,u,h.sequenceNumber);zc(i,d)})),i.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){V(jn,"Failed to raise snapshot:",r),await Xi(n,r)}}async function Xi(n,e,t){if(!wr(e))throw e;n.Ea.add(1),await $s(n),n.Ra.set("Offline"),t||(t=()=>Fd(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{V(jn,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ho(n)}))}function xd(n,e){return e().catch((t=>Xi(n,t,e)))}async function Go(n){const e=q(n),t=yn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wc;for(;bg(e);)try{const s=await mg(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,Vg(e,s)}catch(s){await Xi(e,s)}jd(e)&&$d(e)}function bg(n){return Xn(n)&&n.Ta.length<10}function Vg(n,e){n.Ta.push(e);const t=yn(n);t.O_()&&t.X_&&t.ea(e.mutations)}function jd(n){return Xn(n)&&!yn(n).x_()&&n.Ta.length>0}function $d(n){yn(n).start()}async function kg(n){yn(n).ra()}async function Fg(n){const e=yn(n);for(const t of n.Ta)e.ea(t.mutations)}async function Yg(n,e,t){const r=n.Ta.shift(),s=Yc.from(r,e,t);await xd(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Go(n)}async function Zg(n,e){e&&yn(n).X_&&await(async function(r,s){if((function(o){return Md(o)&&o!==O.ABORTED})(s.code)){const i=r.Ta.shift();yn(r).B_(),await xd(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Go(r)}})(n,e),jd(n)&&$d(n)}async function RE(n,e){const t=q(n);t.asyncQueue.verifyOperationInProgress(),V(jn,"RemoteStore received new credentials");const r=Xn(t);t.Ea.add(3),await $s(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ho(t)}async function Hg(n,e){const t=q(n);e?(t.Ea.delete(2),await Ho(t)):e||(t.Ea.add(2),await $s(t),t.Ra.set("Unknown"))}function vr(n){return n.ma||(n.ma=(function(t,r,s){const i=q(t);return i.sa(),new yg(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:Cg.bind(null,n),t_:wg.bind(null,n),r_:Bg.bind(null,n),H_:vg.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Qc(n)?Jc(n):n.Ra.set("Unknown")):(await n.ma.stop(),Gd(n))}))),n.ma}function yn(n){return n.fa||(n.fa=(function(t,r,s){const i=q(t);return i.sa(),new _g(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:kg.bind(null,n),r_:Zg.bind(null,n),ta:Fg.bind(null,n),na:Yg.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Go(n)):(await n.fa.stop(),n.Ta.length>0&&(V(jn,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Xc{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,c=new Xc(e,t,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new b(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function el(n,e){if(Jt("AsyncQueue",`${e}: ${n}`),wr(n))return new b(O.UNAVAILABLE,`${e}: ${n}`);throw n}class fr{static emptySet(e){return new fr(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Z.comparator(t.key,r.key):(t,r)=>Z.comparator(t.key,r.key),this.keyedMap=cs(),this.sortedSet=new he(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mE{constructor(){this.ga=new he(Z.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):H(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class _r{constructor(e,t,r,s,i,o,c,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach((c=>{o.push({type:0,doc:c})})),new _r(e,t,fr.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class Gg{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xg{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=q(t),i=s.queries;s.queries=pE(),i.forEach(((o,c)=>{for(const l of c.Sa)l.onError(r)}))})(this,new b(O.ABORTED,"Firestore shutting down"))}}function pE(){return new Qn((n=>Ed(n)),vo)}async function tl(n,e){const t=q(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Gg,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const c=el(o,`Initialization of query '${cr(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&rl(t)}async function nl(n,e){const t=q(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function jg(n,e){const t=q(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&rl(t)}function $g(n,e,t){const r=q(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function rl(n){n.Ca.forEach((e=>{e.next()}))}var lc,LE;(LE=lc||(lc={})).Ma="default",LE.Cache="cache";class sl{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _r(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_r.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lc.Cache}}class qd{constructor(e){this.key=e}}class Wd{constructor(e){this.key=e}}class qg{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=te(),this.mutatedKeys=te(),this.eu=hd(e),this.tu=new fr(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new mE,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,d)=>{const T=s.get(h),g=bo(this.query,d)?d:null,K=!!T&&this.mutatedKeys.has(T.key),M=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;T&&g?T.data.isEqual(g.data)?K!==M&&(r.track({type:3,doc:g}),_=!0):this.su(T,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(c=!0)):!T&&g?(r.track({type:0,doc:g}),_=!0):T&&!g&&(r.track({type:1,doc:T}),_=!0,(l||u)&&(c=!0)),_&&(g?(o=o.add(g),i=M?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,d)=>(function(g,K){const M=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{Rt:_})}};return M(g)-M(K)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new _r(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=te(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Wd(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new qd(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=te();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _r.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const il="SyncEngine";class Wg{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class zg{constructor(e){this.key=e,this.hu=!1}}class Jg{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qn((c=>Ed(c)),vo),this.Iu=new Map,this.Eu=new Set,this.du=new he(Z.comparator),this.Au=new Map,this.Ru=new Gc,this.Vu={},this.mu=new Map,this.fu=yr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qg(n,e,t=!0){const r=tf(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await zd(r,e,t,!0),s}async function Xg(n,e){const t=tf(n);await zd(t,e,!0,!1)}async function zd(n,e,t,r){const s=await pg(n.localStore,Dt(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let c;return r&&(c=await eI(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&Zd(n.remoteStore,s),c}async function eI(n,e,t,r,s){n.pu=(d,T,g)=>(async function(M,_,C,v){let w=_.view.ru(C);w.Cs&&(w=await EE(M.localStore,_.query,!1).then((({documents:I})=>_.view.ru(I,w))));const k=v&&v.targetChanges.get(_.targetId),$=v&&v.targetMismatches.get(_.targetId)!=null,G=_.view.applyChanges(w,M.isPrimaryClient,k,$);return IE(M,_.targetId,G.au),G.snapshot})(n,d,T,g);const i=await EE(n.localStore,e,!0),o=new qg(e,i.Qs),c=o.ru(i.documents),l=js.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=o.applyChanges(c,n.isPrimaryClient,l);IE(n,t,u.au);const h=new Wg(e,t,o);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),u.snapshot}async function tI(n,e,t){const r=q(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!vo(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ac(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Wc(r.remoteStore,s.targetId),Ac(r,s.targetId)})).catch(Cr)):(Ac(r,s.targetId),await ac(r.localStore,s.targetId,!0))}async function nI(n,e){const t=q(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wc(t.remoteStore,r.targetId))}async function rI(n,e,t){const r=AI(n);try{const s=await(function(o,c){const l=q(o),u=Ae.now(),h=c.reduce(((g,K)=>g.add(K.key)),te());let d,T;return l.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let K=Qt(),M=te();return l.Ns.getEntries(g,h).next((_=>{K=_,K.forEach(((C,v)=>{v.isValidDocument()||(M=M.add(C))}))})).next((()=>l.localDocuments.getOverlayedDocuments(g,K))).next((_=>{d=_;const C=[];for(const v of c){const w=LL(v,d.get(v.key).overlayedDocument);w!=null&&C.push(new Pn(v.key,w,sd(w.value.mapValue),Ce.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,C,c)})).next((_=>{T=_;const C=_.applyToLocalDocumentSet(d,M);return l.documentOverlayCache.saveOverlays(g,_.batchId,C)}))})).then((()=>({batchId:T.batchId,changes:fd(d)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new he(ee)),u=u.insert(c,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,t),await qs(r,s.changes),await Go(r.remoteStore)}catch(s){const i=el(s,"Failed to persist write");t.reject(i)}}async function Jd(n,e){const t=q(n);try{const r=await Tg(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=t.Au.get(i);o&&(re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?re(o.hu,14607):s.removedDocuments.size>0&&(re(o.hu,42227),o.hu=!1))})),await qs(t,r,e)}catch(r){await Cr(r)}}function gE(n,e,t){const r=q(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const l=q(o);l.onlineState=c;let u=!1;l.queries.forEach(((h,d)=>{for(const T of d.Sa)T.va(c)&&(u=!0)})),u&&rl(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sI(n,e,t){const r=q(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new he(Z.comparator);o=o.insert(i,_e.newNoDocument(i,x.min()));const c=te().add(i),l=new Yo(x.min(),new Map,new he(ee),o,c);await Jd(r,l),r.du=r.du.remove(i),r.Au.delete(e),ol(r)}else await ac(r.localStore,e,!1).then((()=>Ac(r,e,t))).catch(Cr)}async function iI(n,e){const t=q(n),r=e.batch.batchId;try{const s=await fg(t.localStore,e);Xd(t,r,null),Qd(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await qs(t,s)}catch(s){await Cr(s)}}async function oI(n,e,t){const r=q(n);try{const s=await(function(o,c){const l=q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return l.mutationQueue.lookupMutationBatch(u,c).next((d=>(re(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>l.localDocuments.getDocuments(u,h)))}))})(r.localStore,e);Xd(r,e,t),Qd(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await qs(r,s)}catch(s){await Cr(s)}}function Qd(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Xd(n,e,t){const r=q(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ac(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||ef(n,r)}))}function ef(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Wc(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ol(n))}function IE(n,e,t){for(const r of t)r instanceof qd?(n.Ru.addReference(r.key,e),aI(n,r)):r instanceof Wd?(V(il,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||ef(n,r.key)):H(19791,{wu:r})}function aI(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(V(il,"New document in limbo: "+t),n.Eu.add(r),ol(n))}function ol(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Z(ie.fromString(e)),r=n.fu.next();n.Au.set(r,new zg(t)),n.du=n.du.insert(t,r),Zd(n.remoteStore,new fn(Dt(Bo(t.path)),r,"TargetPurposeLimboResolution",Co.ce))}}async function qs(n,e,t){const r=q(n),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,l)=>{o.push(r.pu(l,e,t).then((u=>{if((u||t)&&r.isPrimaryClient){const h=u?!u.fromCache:t?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=jc.As(l.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const h=q(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>P.forEach(u,(T=>P.forEach(T.Es,(g=>h.persistence.referenceDelegate.addReference(d,T.targetId,g))).next((()=>P.forEach(T.ds,(g=>h.persistence.referenceDelegate.removeReference(d,T.targetId,g)))))))))}catch(d){if(!wr(d))throw d;V($c,"Failed to update sequence numbers: "+d)}for(const d of u){const T=d.targetId;if(!d.fromCache){const g=h.Ms.get(T),K=g.snapshotVersion,M=g.withLastLimboFreeSnapshotVersion(K);h.Ms=h.Ms.insert(T,M)}}})(r.localStore,i))}async function cI(n,e){const t=q(n);if(!t.currentUser.isEqual(e)){V(il,"User change. New user:",e.toKey());const r=await kd(t.localStore,e);t.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((l=>{l.reject(new b(O.CANCELLED,o))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qs(t,r.Ls)}}function lI(n,e){const t=q(n),r=t.Au.get(e);if(r&&r.hu)return te().add(r.key);{let s=te();const i=t.Iu.get(e);if(!i)return s;for(const o of i){const c=t.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function tf(n){const e=q(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sI.bind(null,e),e.Pu.H_=jg.bind(null,e.eventManager),e.Pu.yu=$g.bind(null,e.eventManager),e}function AI(n){const e=q(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oI.bind(null,e),e}class eo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zo(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dg(this.persistence,new ug,e.initialUser,this.serializer)}Cu(e){return new Vd(xc.mi,this.serializer)}Du(e){return new gg}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eo.provider={build:()=>new eo};class uI extends eo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){re(this.persistence.referenceDelegate instanceof Qi,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zL(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?nt.withCacheSize(this.cacheSizeBytes):nt.DEFAULT;return new Vd((r=>Qi.mi(r,t)),this.serializer)}}class uc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await Hg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xg})()}createDatastore(e){const t=Zo(e.databaseInfo.databaseId),r=(function(i){return new Ng(i)})(e.databaseInfo);return(function(i,o,c,l){return new Og(i,o,c,l)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,o,c){return new Dg(r,s,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>gE(this.syncEngine,t,0)),(function(){return fE.v()?new fE:new Ig})())}createSyncEngine(e,t){return(function(s,i,o,c,l,u,h){const d=new Jg(s,i,o,c,l,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=q(t);V(jn,"RemoteStore shutting down."),r.Ea.add(5),await $s(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}uc.provider={build:()=>new uc};class al{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class EI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new b(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,i){const o=q(s),c={documents:i.map((d=>Ji(o.serializer,d)))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,ie.emptyPath(),c,i.length),u=new Map;l.forEach((d=>{const T=CL(o.serializer,d);u.set(T.key.toString(),T)}));const h=[];return i.forEach((d=>{const T=u.get(d.toString());re(!!T,55234,{key:d}),h.push(T)})),h})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=Z.fromPath(r);this.mutations.push(new Sd(s,this.precondition(s)))})),await(async function(r,s){const i=q(r),o={writes:s.map((c=>Cd(i.serializer,c)))};await i.Go("Commit",i.serializer.databaseId,ie.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw H(50498,{Gu:e.constructor.name});t=x.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new b(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(x.min())?Ce.exists(!1):Ce.updateTime(t):Ce.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(x.min()))throw new b(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ce.updateTime(t)}return Ce.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class hI{constructor(e,t,r,s,i){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=i,this.zu=r.maxAttempts,this.M_=new qc(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new EI(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Gs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Md(t)}return!1}}const _n="FirestoreClient";class dI{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ye.UNAUTHENTICATED,this.clientId=Cc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{V(_n,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(V(_n,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=el(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wa(n,e){n.asyncQueue.verifyOperationInProgress(),V(_n,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await kd(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function KE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await fI(n);V(_n,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>RE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>RE(e.remoteStore,s))),n._onlineComponents=e}async function fI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V(_n,"Using user provided OfflineComponentProvider");try{await wa(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;gr("Error using user provided cache. Falling back to memory cache: "+t),await wa(n,new eo)}}else V(_n,"Using default OfflineComponentProvider"),await wa(n,new uI(void 0));return n._offlineComponents}async function cl(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(V(_n,"Using user provided OnlineComponentProvider"),await KE(n,n._uninitializedComponentsProvider._online)):(V(_n,"Using default OnlineComponentProvider"),await KE(n,new uc))),n._onlineComponents}function TI(n){return cl(n).then((e=>e.syncEngine))}function RI(n){return cl(n).then((e=>e.datastore))}async function to(n){const e=await cl(n),t=e.eventManager;return t.onListen=Qg.bind(null,e.syncEngine),t.onUnlisten=tI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Xg.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nI.bind(null,e.syncEngine),t}function mI(n,e,t={}){const r=new Pt;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,u){const h=new al({next:T=>{h.Nu(),o.enqueueAndForget((()=>nl(i,d)));const g=T.docs.has(c);!g&&T.fromCache?u.reject(new b(O.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&T.fromCache&&l&&l.source==="server"?u.reject(new b(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(T)},error:T=>u.reject(T)}),d=new sl(Bo(c.path),h,{includeMetadataChanges:!0,qa:!0});return tl(i,d)})(await to(n),n.asyncQueue,e,t,r))),r.promise}function pI(n,e,t={}){const r=new Pt;return n.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,u){const h=new al({next:T=>{h.Nu(),o.enqueueAndForget((()=>nl(i,d))),T.fromCache&&l.source==="server"?u.reject(new b(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(T)},error:T=>u.reject(T)}),d=new sl(c,h,{includeMetadataChanges:!0,qa:!0});return tl(i,d)})(await to(n),n.asyncQueue,e,t,r))),r.promise}function nf(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const SE=new Map;const rf="firestore.googleapis.com",ME=!0;class NE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new b(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rf,this.ssl=ME}else this.host=e.host,this.ssl=e.ssl??ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bd;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qL)throw new b(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nf(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new b(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new b(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new b(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xo{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new b(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new b(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Kp;switch(r.type){case"firstParty":return new yp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new b(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=SE.get(t);r&&(V("ComponentProvider","Removing Datastore"),SE.delete(t),r.terminate())})(this),Promise.resolve()}}function LI(n,e,t,r={}){n=Je(n,xo);const s=Or(e),i=n._getSettings(),o={...i,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(Ph(`https://${c}`),Dh("Firestore",!0)),i.host!==rf&&i.host!==c&&gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:c,ssl:s,emulatorOptions:r};if(!Wt(l,o)&&(n._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Ye.MOCK_USER;else{u=qR(r.mockUserToken,n._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new b(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ye(d)}n._authCredentials=new Sp(new jh(u,h))}}class tn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tn(this.firestore,e,this._query)}}class ue{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ln(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ue(this.firestore,e,this._key)}toJSON(){return{type:ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hs(t,ue._jsonSchema))return new ue(e,r||null,new Z(ie.fromString(t.referencePath)))}}ue._jsonSchemaVersion="firestore/documentReference/1.0",ue._jsonSchema={type:Ie("string",ue._jsonSchemaVersion),referencePath:Ie("string")};class Ln extends tn{constructor(e,t,r){super(e,t,Bo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ue(this.firestore,null,new Z(e))}withConverter(e){return new Ln(this.firestore,e,this._path)}}function ht(n,e,...t){if(n=Te(n),$h("collection","path",e),n instanceof xo){const r=ie.fromString(e,...t);return ku(r),new Ln(n,null,r)}{if(!(n instanceof ue||n instanceof Ln))throw new b(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(e,...t));return ku(r),new Ln(n.firestore,null,r)}}function W(n,e,...t){if(n=Te(n),arguments.length===1&&(e=Cc.newId()),$h("doc","path",e),n instanceof xo){const r=ie.fromString(e,...t);return Vu(r),new ue(n,null,new Z(r))}{if(!(n instanceof ue||n instanceof Ln))throw new b(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(e,...t));return Vu(r),new ue(n.firestore,n instanceof Ln?n.converter:null,new Z(r))}}const yE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qc(this,"async_queue_retry"),this._c=()=>{const r=Ca();r&&V(yE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Ca();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ca();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Pt;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wr(e))throw e;V(yE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Jt("INTERNAL UNHANDLED ERROR: ",UE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Xc.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&H(47125,{Pc:UE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function UE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function OE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class Vt extends xo{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new _E,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function gI(n,e){const t=typeof n=="object"?n:vh(),r=typeof n=="string"?n:xi,s=Pc(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jR("firestore");i&&LI(s,...i)}return s}function Ws(n){if(n._terminated)throw new b(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||II(n),n._firestoreClient}function II(n){const e=n._freezeSettings(),t=(function(s,i,o,c){return new xp(s,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,nf(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new dI(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}class at{constructor(e){this._byteString=e}static fromBase64String(e){try{return new at(ve.fromBase64String(e))}catch(t){throw new b(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new at(ve.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:at._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hs(e,at._jsonSchema))return at.fromBase64String(e.bytes)}}at._jsonSchemaVersion="firestore/bytes/1.0",at._jsonSchema={type:Ie("string",at._jsonSchemaVersion),bytes:Ie("string")};class zs{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new b(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new De(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class br{constructor(e){this._methodName=e}}class Ct{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new b(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new b(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ct._jsonSchemaVersion}}static fromJSON(e){if(Hs(e,Ct._jsonSchema))return new Ct(e.latitude,e.longitude)}}Ct._jsonSchemaVersion="firestore/geoPoint/1.0",Ct._jsonSchema={type:Ie("string",Ct._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class wt{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hs(e,wt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wt(e.vectorValues);throw new b(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wt._jsonSchemaVersion="firestore/vectorValue/1.0",wt._jsonSchema={type:Ie("string",wt._jsonSchemaVersion),vectorValues:Ie("object")};const KI=/^__.*__$/;class SI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms):new xs(e,this.data,t,this.fieldTransforms)}}class sf{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function of(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ac:n})}}class jo{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jo({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return no(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(of(this.Ac)&&KI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zo(e)}Cc(e,t,r,s=!1){return new jo({Ac:e,methodName:t,Dc:r,path:De.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Js(n){const e=n._freezeSettings(),t=Zo(n._databaseId);return new MI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ll(n,e,t,r,s,i={}){const o=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);hl("Data must be an object, but it was:",o,r);const c=Af(r,o);let l,u;if(i.merge)l=new ct(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const T=Ec(e,d,t);if(!o.contains(T))throw new b(O.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Ef(h,T)||h.push(T)}l=new ct(h),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new SI(new ze(c),l,u)}class Qs extends br{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qs}}function af(n,e,t){return new jo({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Al extends br{_toFieldTransform(e){return new Fc(e.path,new Ps)}isEqual(e){return e instanceof Al}}class ul extends br{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=af(this,e,!0),r=this.vc.map((i=>er(i,t))),s=new Mr(r);return new Fc(e.path,s)}isEqual(e){return e instanceof ul&&Wt(this.vc,e.vc)}}class El extends br{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=af(this,e,!0),r=this.vc.map((i=>er(i,t))),s=new Nr(r);return new Fc(e.path,s)}isEqual(e){return e instanceof El&&Wt(this.vc,e.vc)}}function cf(n,e,t,r){const s=n.Cc(1,e,t);hl("Data must be an object, but it was:",s,r);const i=[],o=ze.empty();On(r,((l,u)=>{const h=dl(e,l,t);u=Te(u);const d=s.yc(h);if(u instanceof Qs)i.push(h);else{const T=er(u,d);T!=null&&(i.push(h),o.set(h,T))}}));const c=new ct(i);return new sf(o,c,s.fieldTransforms)}function lf(n,e,t,r,s,i){const o=n.Cc(1,e,t),c=[Ec(e,r,t)],l=[s];if(i.length%2!=0)throw new b(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<i.length;T+=2)c.push(Ec(e,i[T])),l.push(i[T+1]);const u=[],h=ze.empty();for(let T=c.length-1;T>=0;--T)if(!Ef(u,c[T])){const g=c[T];let K=l[T];K=Te(K);const M=o.yc(g);if(K instanceof Qs)u.push(g);else{const _=er(K,M);_!=null&&(u.push(g),h.set(g,_))}}const d=new ct(u);return new sf(h,d,o.fieldTransforms)}function NI(n,e,t,r=!1){return er(t,n.Cc(r?4:3,e))}function er(n,e){if(uf(n=Te(n)))return hl("Unsupported field value:",e,n),Af(n,e);if(n instanceof br)return(function(r,s){if(!of(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let l=er(c,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=Te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ae.fromDate(r);return{timestampValue:zi(s.serializer,i)}}if(r instanceof Ae){const i=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zi(s.serializer,i)}}if(r instanceof Ct)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof at)return{bytesValue:Ud(s.serializer,r._byteString)};if(r instanceof ue){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hc(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wt)return(function(o,c){return{mapValue:{fields:{[nd]:{stringValue:rd},[ji]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return kc(c.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Do(r)}`)})(n,e)}function Af(n,e){const t={};return zh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):On(n,((r,s)=>{const i=er(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function uf(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ae||n instanceof Ct||n instanceof at||n instanceof ue||n instanceof br||n instanceof wt)}function hl(n,e,t){if(!uf(t)||!qh(t)){const r=Do(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ec(n,e,t){if((e=Te(e))instanceof zs)return e._internalPath;if(typeof e=="string")return dl(n,e);throw no("Field path arguments must be of type string or ",n,!1,void 0,t)}const yI=new RegExp("[~\\*/\\[\\]]");function dl(n,e,t){if(e.search(yI)>=0)throw no(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zs(...e.split("."))._internalPath}catch{throw no(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function no(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new b(O.INVALID_ARGUMENT,c+n+l)}function Ef(n,e){return n.some((t=>t.isEqual(e)))}class ro{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($o("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _I extends ro{data(){return super.data()}}function $o(n,e){return typeof e=="string"?dl(n,e):e instanceof zs?e._internalPath:e._delegate._internalPath}function hf(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new b(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fl{}class Tl extends fl{}function pt(n,e,...t){let r=[];e instanceof fl&&r.push(e),r=r.concat(t),(function(i){const o=i.filter((l=>l instanceof Rl)).length,c=i.filter((l=>l instanceof qo)).length;if(o>1||o>0&&c>0)throw new b(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class qo extends Tl{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new qo(e,t,r)}_apply(e){const t=this._parse(e);return df(e._query,t),new tn(e.firestore,e.converter,rc(e._query,t))}_parse(e){const t=Js(e.firestore);return(function(i,o,c,l,u,h,d){let T;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new b(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){DE(d,h);const K=[];for(const M of d)K.push(PE(l,i,M));T={arrayValue:{values:K}}}else T=PE(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||DE(d,h),T=NI(c,o,d,h==="in"||h==="not-in");return ge.create(u,h,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function we(n,e,t){const r=e,s=$o("where",n);return qo._create(s,r,t)}class Rl extends fl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rl(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Mt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,i){let o=s;const c=i.getFlattenedFilters();for(const l of c)df(o,l),o=rc(o,l)})(e._query,t),new tn(e.firestore,e.converter,rc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ml extends Tl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ml(e,t)}_apply(e){const t=(function(s,i,o){if(s.startAt!==null)throw new b(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new b(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Os(i,o)})(e._query,this._field,this._direction);return new tn(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Br(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Zn(n,e="asc"){const t=e,r=$o("orderBy",n);return ml._create(r,t)}class pl extends Tl{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new pl(e,t,r)}_apply(e){return new tn(e.firestore,e.converter,qi(e._query,this._limit,this._limitType))}}function Ll(n){return wp("limit",n),pl._create("limit",n,"F")}function PE(n,e,t){if(typeof(t=Te(t))=="string"){if(t==="")throw new b(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ud(e)&&t.indexOf("/")!==-1)throw new b(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ie.fromString(t));if(!Z.isDocumentKey(r))throw new b(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $u(n,new Z(r))}if(t instanceof ue)return $u(n,t._key);throw new b(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Do(t)}.`)}function DE(n,e){if(!Array.isArray(n)||n.length===0)throw new b(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function df(n,e){const t=(function(s,i){for(const o of s)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new b(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new b(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ff{convertValue(e,t="none"){switch(Nn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return On(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[ji].arrayValue?.values?.map((r=>fe(r.doubleValue)));return new wt(t)}convertGeoPoint(e){return new Ct(fe(e.latitude),fe(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wo(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ys(e));default:return null}}convertTimestamp(e){const t=Sn(e);return new Ae(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ie.fromString(e);re(vd(r),9688,{name:e});const s=new _s(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(t)||Jt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function gl(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class UI extends ff{constructor(e){super(),this.firestore=e}convertBytes(e){return new at(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ue(this.firestore,null,t)}}class ur{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gn extends ro{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ci(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($o("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new b(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=gn._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}gn._jsonSchemaVersion="firestore/documentSnapshot/1.0",gn._jsonSchema={type:Ie("string",gn._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Ci extends gn{data(e={}){return super.data(e)}}class Hn{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ur(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Ci(this._firestore,this._userDataWriter,r.key,r,new ur(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new b(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const l=new Ci(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ur(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const l=new Ci(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ur(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:OI(c.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new b(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hn._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:n})}}function st(n){n=Je(n,ue);const e=Je(n.firestore,Vt);return mI(Ws(e),n._key).then((t=>Tf(e,n,t)))}Hn._jsonSchemaVersion="firestore/querySnapshot/1.0",Hn._jsonSchema={type:Ie("string",Hn._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Wo extends ff{constructor(e){super(),this.firestore=e}convertBytes(e){return new at(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ue(this.firestore,null,t)}}function kt(n){n=Je(n,tn);const e=Je(n.firestore,Vt),t=Ws(e),r=new Wo(e);return hf(n._query),pI(t,n._query).then((s=>new Hn(e,r,n,s)))}function Ft(n,e,t){n=Je(n,ue);const r=Je(n.firestore,Vt),s=gl(n.converter,e,t);return zo(r,[ll(Js(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ce.none())])}function Ue(n,e,t,...r){n=Je(n,ue);const s=Je(n.firestore,Vt),i=Js(s);let o;return o=typeof(e=Te(e))=="string"||e instanceof zs?lf(i,"updateDoc",n._key,e,t,r):cf(i,"updateDoc",n._key,e),zo(s,[o.toMutation(n._key,Ce.exists(!0))])}function Xs(n){return zo(Je(n.firestore,Vt),[new Fo(n._key,Ce.none())])}function PI(n,e){const t=Je(n.firestore,Vt),r=W(n),s=gl(n.converter,e);return zo(t,[ll(Js(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Ce.exists(!1))]).then((()=>r))}function Ds(n,...e){n=Te(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||OE(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(OE(e[r])){const l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let i,o,c;if(n instanceof ue)o=Je(n.firestore,Vt),c=Bo(n._key.path),i={next:l=>{e[r]&&e[r](Tf(o,n,l))},error:e[r+1],complete:e[r+2]};else{const l=Je(n,tn);o=Je(l.firestore,Vt),c=l._query;const u=new Wo(o);i={next:h=>{e[r]&&e[r](new Hn(o,u,l,h))},error:e[r+1],complete:e[r+2]},hf(n._query)}return(function(u,h,d,T){const g=new al(T),K=new sl(h,g,d);return u.asyncQueue.enqueueAndForget((async()=>tl(await to(u),K))),()=>{g.Nu(),u.asyncQueue.enqueueAndForget((async()=>nl(await to(u),K)))}})(Ws(o),c,s,i)}function zo(n,e){return(function(r,s){const i=new Pt;return r.asyncQueue.enqueueAndForget((async()=>rI(await TI(r),s,i))),i.promise})(Ws(n),e)}function Tf(n,e,t){const r=t.docs.get(e._key),s=new Wo(n);return new gn(n,s,e._key,r,new ur(t.hasPendingWrites,t.fromCache),e.converter)}const DI={maxAttempts:5};function As(n,e){if((n=Te(n)).firestore!==e)throw new b(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class CI{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Js(e)}get(e){const t=As(e,this._firestore),r=new UI(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return H(24041);const i=s[0];if(i.isFoundDocument())return new ro(this._firestore,r,i.key,i,t.converter);if(i.isNoDocument())return new ro(this._firestore,r,t._key,null,t.converter);throw H(18433,{doc:i})}))}set(e,t,r){const s=As(e,this._firestore),i=gl(s.converter,t,r),o=ll(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(e,t,r,...s){const i=As(e,this._firestore);let o;return o=typeof(t=Te(t))=="string"||t instanceof zs?lf(this._dataReader,"Transaction.update",i._key,t,r,s):cf(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=As(e,this._firestore);return this._transaction.delete(t._key),this}}class wI extends CI{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=As(e,this._firestore),r=new Wo(this._firestore);return super.get(e).then((s=>new gn(this._firestore,r,t._key,s._document,new ur(!1,!1),t.converter)))}}function ei(n,e,t){n=Je(n,Vt);const r={...DI,...t};return(function(i){if(i.maxAttempts<1)throw new b(O.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(i,o,c){const l=new Pt;return i.asyncQueue.enqueueAndForget((async()=>{const u=await RI(i);new hI(i.asyncQueue,u,c,o,l).ju()})),l.promise})(Ws(n),(s=>e(new wI(n,s))),r)}function Il(){return new Qs("deleteField")}function Qe(){return new Al("serverTimestamp")}function Vr(...n){return new ul("arrayUnion",n)}function BI(...n){return new El("arrayRemove",n)}(function(e,t=!0){(function(s){Dr=s})(Pr),Lr(new Gn("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new Vt(new Mp(r.getProvider("auth-internal")),new _p(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new b(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:t,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),mn(wu,Bu,e),mn(wu,Bu,"esm2020")})();function Rf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=Rf,mf=new Ys("auth","Firebase",Rf());const so=new Uc("@firebase/auth");function bI(n,...e){so.logLevel<=X.WARN&&so.warn(`Auth (${Pr}): ${n}`,...e)}function wi(n,...e){so.logLevel<=X.ERROR&&so.error(`Auth (${Pr}): ${n}`,...e)}function Nt(n,...e){throw Kl(n,...e)}function Bt(n,...e){return Kl(n,...e)}function pf(n,e,t){const r={...vI(),[e]:t};return new Ys("auth","Firebase",r).create(e,{appName:n.name})}function qt(n){return pf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kl(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mf.create(n,...e)}function j(n,e,...t){if(!n)throw Kl(e,...t)}function Gt(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wi(e),new Error(e)}function Xt(n,e){n||Gt(e)}function hc(){return typeof self<"u"&&self.location?.href||""}function VI(){return CE()==="http:"||CE()==="https:"}function CE(){return typeof self<"u"&&self.location?.protocol||null}function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VI()||em()||"connection"in navigator)?navigator.onLine:!0}function FI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ti{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xt(t>e,"Short delay should be less than long delay!"),this.isMobile=JR()||tm()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sl(n,e){Xt(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Lf{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new ti(3e4,6e4);function Dn(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Cn(n,e,t,r,s={}){return gf(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Zs({key:n.config.apiKey,...o}).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u={method:e,headers:l,...i};return XR()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&Or(n.emulatorConfig.host)&&(u.credentials="include"),Lf.fetch()(await If(n,n.config.apiHost,t,c),u)})}async function gf(n,e,t){n._canInitEmulator=!1;const r={...YI,...e};try{const s=new xI(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mi(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mi(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mi(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mi(n,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw pf(n,h,u);Nt(n,h)}}catch(s){if(s instanceof en)throw s;Nt(n,"network-request-failed",{message:String(s)})}}async function ni(n,e,t,r,s={}){const i=await Cn(n,e,t,r,s);return"mfaPendingCredential"in i&&Nt(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function If(n,e,t,r){const s=`${e}${t}?${r}`,i=n,o=i.config.emulator?Sl(n.config,s):`${n.config.apiScheme}://${s}`;return ZI.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function GI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bt(this.auth,"network-request-failed")),HI.get())})}}function Mi(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Bt(n,e,r);return s.customData._tokenResponse=t,s}function wE(n){return n!==void 0&&n.enterprise!==void 0}class jI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $I(n,e){return Cn(n,"GET","/v2/recaptchaConfig",Dn(n,e))}async function qI(n,e){return Cn(n,"POST","/v1/accounts:delete",e)}async function io(n,e){return Cn(n,"POST","/v1/accounts:lookup",e)}function ps(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WI(n,e=!1){const t=Te(n),r=await t.getIdToken(e),s=Ml(r);j(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:ps(Ba(s.auth_time)),issuedAtTime:ps(Ba(s.iat)),expirationTime:ps(Ba(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Ba(n){return Number(n)*1e3}function Ml(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wi("JWT malformed, contained fewer than 3 sections"),null;try{const s=yh(t);return s?JSON.parse(s):(wi("Failed to decode base64 JWT payload"),null)}catch(s){return wi("Caught error parsing JWT payload as JSON",s?.toString()),null}}function BE(n){const e=Ml(n);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof en&&zI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class JI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ps(this.lastLoginAt),this.creationTime=ps(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oo(n){const e=n.auth,t=await n.getIdToken(),r=await Cs(n,io(e,{idToken:t}));j(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?Kf(s.providerUserInfo):[],o=XI(n.providerData,i),c=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!o?.length,u=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dc(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function QI(n){const e=Te(n);await oo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XI(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Kf(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function eK(n,e){const t=await gf(n,{},async()=>{const r=Zs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=await If(n,s,"/v1/token",`key=${i}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:r};return n.emulatorConfig&&Or(n.emulatorConfig.host)&&(l.credentials="include"),Lf.fetch()(o,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tK(n,e){return Cn(n,"POST","/v2/accounts:revokeToken",Dn(n,e))}class Tr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){j(e.length!==0,"internal-error");const t=BE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await eK(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Tr;return r&&(j(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(j(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(j(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tr,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function ln(n,e){j(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kt{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new JI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dc(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Cs(this,this.stsTokenManager.getToken(this.auth,e));return j(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WI(this,e)}reload(){return QI(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await oo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(qt(this.auth));const e=await this.getIdToken();return await Cs(this,qI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,l=t._redirectEventId??void 0,u=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:d,emailVerified:T,isAnonymous:g,providerData:K,stsTokenManager:M}=t;j(d&&M,e,"internal-error");const _=Tr.fromJSON(this.name,M);j(typeof d=="string",e,"internal-error"),ln(r,e.name),ln(s,e.name),j(typeof T=="boolean",e,"internal-error"),j(typeof g=="boolean",e,"internal-error"),ln(i,e.name),ln(o,e.name),ln(c,e.name),ln(l,e.name),ln(u,e.name),ln(h,e.name);const C=new Kt({uid:d,auth:e,email:s,emailVerified:T,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:_,createdAt:u,lastLoginAt:h});return K&&Array.isArray(K)&&(C.providerData=K.map(v=>({...v}))),l&&(C._redirectEventId=l),C}static async _fromIdTokenResponse(e,t,r=!1){const s=new Tr;s.updateFromServerResponse(t);const i=new Kt({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await oo(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];j(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Kf(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,c=new Tr;c.updateFromIdToken(r);const l=new Kt({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new dc(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}const vE=new Map;function xt(n){Xt(n instanceof Function,"Expected a class definition");let e=vE.get(n);return e?(Xt(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vE.set(n,e),e)}class Sf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sf.type="NONE";const bE=Sf;function Bi(n,e,t){return`firebase:${n}:${e}:${t}`}class Rr{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bi(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bi("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await io(this.auth,{idToken:e}).catch(()=>{});return t?Kt._fromGetAccountInfoResponse(this.auth,t,e):null}return Kt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Rr(xt(bE),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||xt(bE);const o=Bi(r,e.config.apiKey,e.name);let c=null;for(const u of t)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const T=await io(e,{idToken:h}).catch(()=>{});if(!T)break;d=await Kt._fromGetAccountInfoResponse(e,T,h)}else d=Kt._fromJSON(e,h);u!==i&&(c=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Rr(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Rr(i,e,r))}}function VE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_f(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mf(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Of(e))return"Blackberry";if(Pf(e))return"Webos";if(Nf(e))return"Safari";if((e.includes("chrome/")||yf(e))&&!e.includes("edge/"))return"Chrome";if(Uf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Mf(n=Ge()){return/firefox\//i.test(n)}function Nf(n=Ge()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yf(n=Ge()){return/crios\//i.test(n)}function _f(n=Ge()){return/iemobile/i.test(n)}function Uf(n=Ge()){return/android/i.test(n)}function Of(n=Ge()){return/blackberry/i.test(n)}function Pf(n=Ge()){return/webos/i.test(n)}function Nl(n=Ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nK(n=Ge()){return Nl(n)&&!!window.navigator?.standalone}function rK(){return nm()&&document.documentMode===10}function Df(n=Ge()){return Nl(n)||Uf(n)||Pf(n)||Of(n)||/windows phone/i.test(n)||_f(n)}function Cf(n,e=[]){let t;switch(n){case"Browser":t=VE(Ge());break;case"Worker":t=`${VE(Ge())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pr}/${r}`}class sK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function iK(n,e={}){return Cn(n,"GET","/v2/passwordPolicy",Dn(n,e))}const oK=6;class aK{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??oK,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class cK{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new sK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xt(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await io(this,{idToken:e}),r=await Kt._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oo(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(qt(this));const t=e?Te(e):null;return t&&j(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(qt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(qt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iK(this),t=new aK(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ys("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tK(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xt(e)||this._popupRedirectResolver;j(t,this,"argument-error"),this.redirectPersistenceManager=await Rr.create(this,[xt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tr(n){return Te(n)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Am(t=>this.observer=t)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lK(n){Jo=n}function wf(n){return Jo.loadJS(n)}function AK(){return Jo.recaptchaEnterpriseScript}function uK(){return Jo.gapiScript}function EK(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hK{constructor(){this.enterprise=new dK}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dK{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fK="recaptcha-enterprise",Bf="NO_RECAPTCHA";class TK{constructor(e){this.type=fK,this.auth=tr(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{$I(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new jI(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{c(l)})})}function s(i,o,c){const l=window.grecaptcha;wE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Bf)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hK().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(c=>{if(!t&&wE(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=AK();l.length!==0&&(l+=c),wf(l).then(()=>{s(c,i,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function FE(n,e,t,r=!1,s=!1){const i=new TK(n);let o;if(s)o=Bf;else try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const l=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function fc(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await FE(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await FE(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(i)})}function RK(n,e){const t=Pc(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Wt(i,e??{}))return s;Nt(s,"already-initialized")}return t.initialize({options:e})}function mK(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(xt);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function pK(n,e,t){const r=tr(n);j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=vf(e),{host:o,port:c}=LK(e),l=c===null?"":`:${c}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){j(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),j(Wt(u,r.config.emulator)&&Wt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Or(o)?(Ph(`${i}//${o}${l}`),Dh("Auth",!0)):gK()}function vf(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LK(n){const e=vf(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:YE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:YE(o)}}}function YE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gK(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class yl{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gt("not implemented")}_getIdTokenResponse(e){return Gt("not implemented")}_linkToIdToken(e,t){return Gt("not implemented")}_getReauthenticationResolver(e){return Gt("not implemented")}}async function IK(n,e){return Cn(n,"POST","/v1/accounts:signUp",e)}async function KK(n,e){return ni(n,"POST","/v1/accounts:signInWithPassword",Dn(n,e))}async function SK(n,e){return ni(n,"POST","/v1/accounts:signInWithEmailLink",Dn(n,e))}async function MK(n,e){return ni(n,"POST","/v1/accounts:signInWithEmailLink",Dn(n,e))}class ws extends yl{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ws(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ws(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fc(e,t,"signInWithPassword",KK);case"emailLink":return SK(e,{email:this._email,oobCode:this._password});default:Nt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fc(e,r,"signUpPassword",IK);case"emailLink":return MK(e,{idToken:t,email:this._email,oobCode:this._password});default:Nt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mr(n,e){return ni(n,"POST","/v1/accounts:signInWithIdp",Dn(n,e))}const NK="http://localhost";class $n extends yl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const o=new $n(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return mr(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,mr(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mr(e,t)}buildRequest(){const e={requestUri:NK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zs(t)}return e}}function yK(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _K(n){const e=is(os(n)).link,t=e?is(os(e)).deep_link_id:null,r=is(os(n)).deep_link_id;return(r?is(os(r)).link:null)||r||t||e||n}class _l{constructor(e){const t=is(os(e)),r=t.apiKey??null,s=t.oobCode??null,i=yK(t.mode??null);j(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=_K(e);try{return new _l(t)}catch{return null}}}class kr{constructor(){this.providerId=kr.PROVIDER_ID}static credential(e,t){return ws._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=_l.parseLink(t);return j(r,"argument-error"),ws._fromEmailAndCode(e,r.code,r.tenantId)}}kr.PROVIDER_ID="password";kr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ri extends bf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class An extends ri{constructor(){super("facebook.com")}static credential(e){return $n._fromParams({providerId:An.PROVIDER_ID,signInMethod:An.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return An.credentialFromTaggedObject(e)}static credentialFromError(e){return An.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return An.credential(e.oauthAccessToken)}catch{return null}}}An.FACEBOOK_SIGN_IN_METHOD="facebook.com";An.PROVIDER_ID="facebook.com";class un extends ri{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $n._fromParams({providerId:un.PROVIDER_ID,signInMethod:un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return un.credentialFromTaggedObject(e)}static credentialFromError(e){return un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return un.credential(t,r)}catch{return null}}}un.GOOGLE_SIGN_IN_METHOD="google.com";un.PROVIDER_ID="google.com";class En extends ri{constructor(){super("github.com")}static credential(e){return $n._fromParams({providerId:En.PROVIDER_ID,signInMethod:En.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return En.credentialFromTaggedObject(e)}static credentialFromError(e){return En.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return En.credential(e.oauthAccessToken)}catch{return null}}}En.GITHUB_SIGN_IN_METHOD="github.com";En.PROVIDER_ID="github.com";class hn extends ri{constructor(){super("twitter.com")}static credential(e,t){return $n._fromParams({providerId:hn.PROVIDER_ID,signInMethod:hn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hn.credentialFromTaggedObject(e)}static credentialFromError(e){return hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return hn.credential(t,r)}catch{return null}}}hn.TWITTER_SIGN_IN_METHOD="twitter.com";hn.PROVIDER_ID="twitter.com";async function UK(n,e){return ni(n,"POST","/v1/accounts:signUp",Dn(n,e))}class qn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Kt._fromIdTokenResponse(e,r,s),o=ZE(r);return new qn({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=ZE(r);return new qn({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function ZE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ao extends en{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ao.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ao(e,t,r,s)}}function Vf(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ao._fromErrorAndOperation(n,i,e,r):i})}async function OK(n,e,t=!1){const r=await Cs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qn._forOperation(n,"link",r)}async function PK(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(qt(r));const s="reauthenticate";try{const i=await Cs(n,Vf(r,s,e,n),t);j(i.idToken,r,"internal-error");const o=Ml(i.idToken);j(o,r,"internal-error");const{sub:c}=o;return j(n.uid===c,r,"user-mismatch"),qn._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Nt(r,"user-mismatch"),i}}async function kf(n,e,t=!1){if(Tt(n.app))return Promise.reject(qt(n));const r="signIn",s=await Vf(n,r,e),i=await qn._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function DK(n,e){return kf(tr(n),e)}async function Ff(n){const e=tr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CK(n,e,t){if(Tt(n.app))return Promise.reject(qt(n));const r=tr(n),o=await fc(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UK).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Ff(n),l}),c=await qn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function wK(n,e,t){return Tt(n.app)?Promise.reject(qt(n)):DK(Te(n),kr.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ff(n),r})}function BK(n,e,t,r){return Te(n).onIdTokenChanged(e,t,r)}function vK(n,e,t){return Te(n).beforeAuthStateChanged(e,t)}function bK(n,e,t,r){return Te(n).onAuthStateChanged(e,t,r)}function VK(n){return Te(n).signOut()}const co="__sak";class Yf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(co,"1"),this.storage.removeItem(co),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kK=1e3,FK=10;class Zf extends Yf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Df(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);rK()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FK):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},kK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zf.type="LOCAL";const YK=Zf;class Hf extends Yf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hf.type="SESSION";const Gf=Hf;function ZK(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Qo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Qo(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async u=>u(t.origin,i)),l=await ZK(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qo.receivers=[];function Ul(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class HK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const u=Ul("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const T=d;if(T.data.eventId===u)switch(T.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(T.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function vt(){return window}function GK(n){vt().location.href=n}function xf(){return typeof vt().WorkerGlobalScope<"u"&&typeof vt().importScripts=="function"}async function xK(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jK(){return navigator?.serviceWorker?.controller||null}function $K(){return xf()?self:null}const jf="firebaseLocalStorageDb",qK=1,lo="firebaseLocalStorage",$f="fbase_key";class si{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xo(n,e){return n.transaction([lo],e?"readwrite":"readonly").objectStore(lo)}function WK(){const n=indexedDB.deleteDatabase(jf);return new si(n).toPromise()}function Tc(){const n=indexedDB.open(jf,qK);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lo,{keyPath:$f})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(lo)?e(r):(r.close(),await WK(),e(await Tc()))})})}async function HE(n,e,t){const r=Xo(n,!0).put({[$f]:e,value:t});return new si(r).toPromise()}async function zK(n,e){const t=Xo(n,!1).get(e),r=await new si(t).toPromise();return r===void 0?null:r.value}function GE(n,e){const t=Xo(n,!0).delete(e);return new si(t).toPromise()}const JK=800,QK=3;class qf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tc(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>QK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qo._getInstance($K()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xK(),!this.activeServiceWorker)return;this.sender=new HK(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tc();return await HE(e,co,"1"),await GE(e,co),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>HE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zK(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>GE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Xo(s,!1).getAll();return new si(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qf.type="LOCAL";const XK=qf;new ti(3e4,6e4);function eS(n,e){return e?xt(e):(j(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ol extends yl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tS(n){return kf(n.auth,new Ol(n),n.bypassAuthState)}function nS(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),PK(t,new Ol(n),n.bypassAuthState)}async function rS(n){const{auth:e,user:t}=n;return j(t,e,"internal-error"),OK(t,new Ol(n),n.bypassAuthState)}class Wf{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tS;case"linkViaPopup":case"linkViaRedirect":return rS;case"reauthViaPopup":case"reauthViaRedirect":return nS;default:Nt(this.auth,"internal-error")}}resolve(e){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sS=new ti(2e3,1e4);class Er extends Wf{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Er.currentPopupAction&&Er.currentPopupAction.cancel(),Er.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Xt(this.filter.length===1,"Popup operations only handle one event");const e=Ul();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Er.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sS.get())};e()}}Er.currentPopupAction=null;const iS="pendingRedirect",vi=new Map;class oS extends Wf{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vi.get(this.auth._key());if(!e){try{const r=await aS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vi.set(this.auth._key(),e)}return this.bypassAuthState||vi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aS(n,e){const t=AS(e),r=lS(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function cS(n,e){vi.set(n._key(),e)}function lS(n){return xt(n._redirectPersistence)}function AS(n){return Bi(iS,n.config.apiKey,n.name)}async function uS(n,e,t=!1){if(Tt(n.app))return Promise.reject(qt(n));const r=tr(n),s=eS(r,e),o=await new oS(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const ES=600*1e3;class hS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zf(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Bt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ES&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zf({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function dS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zf(n);default:return!1}}async function fS(n,e={}){return Cn(n,"GET","/v1/projects",e)}const TS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RS=/^https?/;async function mS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fS(n);for(const t of e)try{if(pS(t))return}catch{}Nt(n,"unauthorized-domain")}function pS(n){const e=hc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!RS.test(t))return!1;if(TS.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const LS=new ti(3e4,6e4);function jE(){const n=vt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gS(n){return new Promise((e,t)=>{function r(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),t(Bt(n,"network-request-failed"))},timeout:LS.get()})}if(vt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vt().gapi?.load)r();else{const s=EK("iframefcb");return vt()[s]=()=>{gapi.load?r():t(Bt(n,"network-request-failed"))},wf(`${uK()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw bi=null,e})}let bi=null;function IS(n){return bi=bi||gS(n),bi}const KS=new ti(5e3,15e3),SS="__/auth/iframe",MS="emulator/auth/iframe",NS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _S(n){const e=n.config;j(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sl(e,MS):`https://${n.config.authDomain}/${SS}`,r={apiKey:e.apiKey,appName:n.name,v:Pr},s=yS.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Zs(r).slice(1)}`}async function US(n){const e=await IS(n),t=vt().gapi;return j(t,n,"internal-error"),e.open({where:document.body,url:_S(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NS,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Bt(n,"network-request-failed"),c=vt().setTimeout(()=>{i(o)},KS.get());function l(){vt().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const OS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PS=500,DS=600,CS="_blank",wS="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BS(n,e,t,r=PS,s=DS){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l={...OS,width:r.toString(),height:s.toString(),top:i,left:o},u=Ge().toLowerCase();t&&(c=yf(u)?CS:t),Mf(u)&&(e=e||wS,l.scrollbars="yes");const h=Object.entries(l).reduce((T,[g,K])=>`${T}${g}=${K},`,"");if(nK(u)&&c!=="_self")return vS(e||"",c),new $E(null);const d=window.open(e||"",c,h);j(d,n,"popup-blocked");try{d.focus()}catch{}return new $E(d)}function vS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const bS="__/auth/handler",VS="emulator/auth/handler",kS=encodeURIComponent("fac");async function qE(n,e,t,r,s,i){j(n.config.authDomain,n,"auth-domain-config-required"),j(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pr,eventId:s};if(e instanceof bf){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",lm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof ri){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const l=await n._getAppCheckToken(),u=l?`#${kS}=${encodeURIComponent(l)}`:"";return`${FS(n)}?${Zs(c).slice(1)}${u}`}function FS({config:n}){return n.emulator?Sl(n,VS):`https://${n.authDomain}/${bS}`}const va="webStorageSupport";class YS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gf,this._completeRedirectFn=uS,this._overrideRedirectResult=cS}async _openPopup(e,t,r,s){Xt(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await qE(e,t,r,hc(),s);return BS(e,i,Ul())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await qE(e,t,r,hc(),s);return GK(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Xt(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await US(e),r=new hS(e);return t.register("authEvent",s=>(j(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(va,{type:va},s=>{const i=s?.[0]?.[va];i!==void 0&&t(!!i),Nt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Df()||Nf()||Nl()}}const ZS=YS;var WE="@firebase/auth",zE="1.11.1";class HS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function GS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xS(n){Lr(new Gn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cf(n)},u=new cK(r,s,i,l);return mK(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new Gn("auth-internal",e=>{const t=tr(e.getProvider("auth").getImmediate());return(r=>new HS(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(WE,zE,GS(n)),mn(WE,zE,"esm2020")}const jS=300,$S=Oh("authIdTokenMaxAge")||jS;let JE=null;const qS=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$S)return;const s=t?.token;JE!==s&&(JE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function WS(n=vh()){const e=Pc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=RK(n,{popupRedirectResolver:ZS,persistence:[XK,YK,Gf]}),r=Oh("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=qS(i.toString());vK(t,o,()=>o(t.currentUser)),BK(t,c=>o(c))}}const s=_h("auth");return s&&pK(t,`http://${s}`),t}function zS(){return document.getElementsByTagName("head")?.[0]??document}lK({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Bt("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",zS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xS("Browser");function se(n,e={}){const t=document.createElement(n);if(e.className&&(t.className=e.className),e.id&&(t.id=e.id),e.textContent&&(t.textContent=e.textContent),e.innerHTML&&(t.innerHTML=e.innerHTML),e.onclick&&(t.onclick=e.onclick),e.dataset)for(const r in e.dataset)t.dataset[r]=e.dataset[r];if(e.style)for(const r in e.style)t.style[r]=e.style[r];return t}const or={click:new Tone.Synth({oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:0,release:.1}}).toDestination(),error:new Tone.Synth({oscillator:{type:"sawtooth"},envelope:{attack:.01,decay:.2,sustain:0,release:.1}}).toDestination(),win:new Tone.PolySynth(Tone.Synth).toDestination(),lose:new Tone.PolySynth(Tone.Synth).toDestination(),draw:new Tone.PolySynth(Tone.Synth).toDestination(),turn:new Tone.PolySynth(Tone.Synth).toDestination()};function We(n){switch(Tone.context.state!=="running"&&Tone.context.resume(),n){case"click":or.click.triggerAttackRelease("C5","8n");break;case"error":or.error.triggerAttackRelease("C3","8n");break;case"win":or.win.triggerAttackRelease(["C4","E4","G4","C5"],"8n",Tone.now());break;case"lose":or.lose.triggerAttackRelease(["C4","A3","F3","D3"],"8n",Tone.now());break;case"draw":or.draw.triggerAttackRelease(["C4","G4"],"8n",Tone.now());break;case"turn":or.turn.triggerAttackRelease(["E5","G5","C6"],"16n",Tone.now());break}}const ba=document.getElementById("toast");function D(n,e=!1){e&&We("error"),ba.textContent=n,ba.classList.add("show"),setTimeout(()=>ba.classList.remove("show"),3e3)}function ea(n){switch(n.code){case"auth/user-not-found":return"Bu e-posta adresiyle bir kullanc bulunamad.";case"auth/wrong-password":return"Hatal ifre girdiniz.";case"auth/invalid-email":return"Geersiz e-posta adresi format.";case"auth/email-already-in-use":return"Bu e-posta adresi zaten kaytl.";case"auth/weak-password":return"ifre ok zayf, en az 6 karakter olmal.";default:return"Bir hata olutu: "+n.message}}function Vi(n,e){for(let t=0;t<n;t++){const r=document.getElementById(`tile-${e}-${t}`);r&&(r.classList.add("shake"),r.addEventListener("animationend",()=>{r.classList.remove("shake")},{once:!0}))}}function Pl(n){const e={played:0,wins:0,currentStreak:0,maxStreak:0,guessDistribution:{1:0,2:0,3:0,4:0,5:0,6:0}};if(!n||!n.stats)return e;const t=n.stats;(!t.guessDistribution||typeof t.guessDistribution!="object")&&(t.guessDistribution={});for(let r=1;r<=6;r++){const s=String(r);(t.guessDistribution[s]===void 0||typeof t.guessDistribution[s]!="number")&&(t.guessDistribution[s]=0)}return{...e,...t}}const JS=Object.freeze(Object.defineProperty({__proto__:null,createElement:se,getFirebaseErrorMessage:ea,getStatsFromProfile:Pl,playSound:We,shakeCurrentRow:Vi,showToast:D},Symbol.toStringTag,{value:"Module"})),QS={apiKey:"AIzaSyA5FcmgM9GV79qGwS8MC3_4yCvwvHZO0iQ",authDomain:"kelime-oyunu-flaneur.firebaseapp.com",projectId:"kelime-oyunu-flaneur",storageBucket:"kelime-oyunu-flaneur.appspot.com",messagingSenderId:"888546992121",appId:"1:888546992121:web:3e29748729cca6fbbb2728",measurementId:"G-RVD6YZ8JYV"},Jf=Bh(QS),Y=gI(Jf),ta=WS(Jf),XS=async n=>{try{const t=await fetch("https://checkwordvalidity-wxw6bd452q-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({word:n})});if(!t.ok)throw new Error("Sunucu kelimeyi dorulayamad.");return(await t.json()).isValid}catch(e){return console.error("checkWordValidity hatas:",e),D("Kelime kontrol edilemedi.",!0),!1}},Wn=async n=>{try{const t=await fetch("https://getnewsecretword-wxw6bd452q-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wordLength:n})});if(!t.ok)throw new Error("Sunucudan yeni kelime alnamad.");return(await t.json()).secretWord}catch(e){return console.error("getNewSecretWord hatas:",e),D("Yeni oyun iin kelime alnamad.",!0),null}},eM=async(n,e)=>{try{const r=await fetch("https://failmultiplayerturn-wxw6bd452q-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameId:n,userId:e})});if(!r.ok)throw new Error("Tur sonlandrlamad.");return await r.json()}catch(t){return console.error("failMultiplayerTurn hatas:",t),{success:!1}}},tM=document.getElementById("email-input"),nM=document.getElementById("password-input"),rM=document.getElementById("register-email"),sM=document.getElementById("register-password"),iM=document.getElementById("register-fullname"),oM=document.getElementById("register-username"),aM=document.getElementById("register-age"),cM=document.getElementById("register-city"),lM=document.getElementById("register-phone"),Ao=document.getElementById("auth-loading"),AM=async()=>{const n=tM.value,e=nM.value;if(!n||!e)return D("E-posta ve ifre alanlar bo braklamaz.",!0);Ao.classList.remove("hidden");try{await wK(ta,n,e)}catch(t){D(ea(t),!0)}Ao.classList.add("hidden")},uM=async()=>{const n=rM.value,e=sM.value,t=iM.value,r=oM.value,s=aM.value,i=cM.value,o=lM.value;if(!n||!e||!t||!r||!s||!i||!o)return D("Tm alanlar doldurmalsnz.",!0);if(e.length<6)return D("ifre en az 6 karakter olmaldr.",!0);Ao.classList.remove("hidden");try{const l=(await CK(ta,n,e)).user,u={played:0,wins:0,currentStreak:0,maxStreak:0,guessDistribution:{1:0,2:0,3:0,4:0,5:0,6:0}},h=W(Y,"users",l.uid);await Ft(h,{username:r,fullname:t,age:parseInt(s),city:i,phone:o,email:n,createdAt:Qe(),stats:u})}catch(c){D(ea(c),!0)}Ao.classList.add("hidden")},EM=async()=>{const n=Yi();n&&n();const e=gh();e&&e(),Fi(null),Lh(null);try{await VK(ta)}catch(t){D(ea(t),!0)}};let rt,Se,Fe,qe,Qf,ce,Xf,dn,uo,Eo,St,tt,Bs,vs,bs,Dl,Cl,wl,Bl,vl,bl,Vl,kl,Fl,Yl,Zl,Hl,Gl,xl,jl,ho,fo,eT,tT,nT,rT,$l,ql,Wl,zl,Jl,Ql,Xl,eA,tA,nA,rA,sA,iA,oA,aA,cA,To,sT,Ro,iT,oT,aT,mo,po,cT,lT,AT,uT,ET,hT,lA,AA,uA,Lo,dT,EA,hA,dA,hr,fT,fA,TT,RT,mT,TA,pT,go,Io,LT,Ko,gT,So,Tn,IT,KT;const Rc=[];let hM,QE="";function ST(){rt=document.getElementById("guess-grid"),Se=document.getElementById("keyboard"),Fe=document.getElementById("turn-display"),qe=document.getElementById("timer-display"),Qf=document.getElementById("game-id-display"),ce=document.getElementById("start-game-btn"),Xf=document.getElementById("round-counter"),dn=document.getElementById("share-game-btn"),uo=document.getElementById("multiplayer-score-board"),Eo=document.getElementById("br-round-counter"),St=document.getElementById("br-timer-display"),tt=document.getElementById("br-turn-display"),Rc.length=0;for(let n=0;n<8;n++)Rc.push(document.getElementById(`br-player-slot-${n}`));Bs=document.getElementById("joker-present"),vs=document.getElementById("joker-correct"),bs=document.getElementById("joker-remove"),Dl=document.getElementById("login-btn"),Cl=document.getElementById("register-btn"),wl=document.getElementById("logout-btn"),Bl=document.getElementById("go-to-register-btn"),vl=document.getElementById("back-to-login-btn"),pT=document.getElementById("matchmaking-screen"),go=document.getElementById("matchmaking-my-avatar"),Io=document.getElementById("matchmaking-my-name"),LT=document.getElementById("cancel-matchmaking-btn"),bl=document.getElementById("new-game-btn"),Vl=document.getElementById("my-games-btn"),kl=document.getElementById("friends-btn"),Fl=document.getElementById("stats-btn"),Yl=document.getElementById("stats-btn-main"),Zl=document.getElementById("how-to-play-btn"),Hl=document.getElementById("close-how-to-play-btn"),Gl=document.getElementById("theme-light-btn"),xl=document.getElementById("theme-dark-btn"),jl=document.getElementById("close-profile-btn"),To=document.getElementById("kelimelig-btn"),sT=document.getElementById("join-league-btn"),Ro=document.getElementById("back-to-main-from-league-btn"),iT=document.getElementById("league-intro-section"),oT=document.getElementById("league-dashboard-section"),aT=document.getElementById("league-matches-list"),mo=document.getElementById("btn-show-fixtures"),po=document.getElementById("btn-show-standings"),cT=document.getElementById("tab-league-fixtures"),lT=document.getElementById("tab-league-standings"),AT=document.getElementById("league-standings-body"),$l=document.getElementById("back-to-main-menu-btn"),ql=document.getElementById("back-to-main-menu-from-games-btn"),Wl=document.getElementById("back-to-main-from-friends-btn"),zl=document.getElementById("back-to-mode-multi-btn"),Jl=document.getElementById("back-to-mode-br-btn"),Ql=document.getElementById("leave-game-button"),Xl=document.getElementById("random-game-btn"),eA=document.getElementById("series-game-btn"),tA=document.getElementById("with-friends-btn"),nA=document.getElementById("vs-cpu-btn"),rA=document.getElementById("multiplayer-br-btn"),sA=document.getElementById("daily-word-btn"),iA=document.getElementById("create-game-btn"),oA=document.getElementById("join-game-btn"),aA=document.getElementById("create-br-game-btn"),cA=document.getElementById("join-br-game-btn"),uT=document.getElementById("friends-tab"),ET=document.getElementById("requests-tab"),hT=document.getElementById("add-friend-tab"),lA=document.getElementById("show-friends-tab-btn"),AA=document.getElementById("show-requests-tab-btn"),uA=document.getElementById("show-add-friend-tab-btn"),Lo=document.getElementById("search-friend-btn"),dT=document.getElementById("friend-request-count"),EA=document.getElementById("show-active-games-tab-btn"),hA=document.getElementById("show-finished-games-tab-btn"),dA=document.getElementById("show-invites-tab-btn"),hr=document.getElementById("game-invite-count"),fT=document.getElementById("new-round-btn"),fA=document.getElementById("main-menu-btn"),TT=document.getElementById("share-results-btn"),RT=document.getElementById("user-display"),mT=document.getElementById("invitation-modal"),TA=document.getElementById("copy-game-id-btn"),ho=document.getElementById("market-btn"),fo=document.getElementById("back-to-main-from-market-btn"),eT=document.getElementById("user-gold-display"),tT=document.getElementById("stock-present"),nT=document.getElementById("stock-correct"),rT=document.getElementById("stock-remove"),Ko=document.getElementById("dictionary-menu-btn"),gT=document.getElementById("dictionary-screen"),So=document.getElementById("back-to-main-from-dictionary-btn"),Tn=document.getElementById("dictionary-list-container"),IT=document.getElementById("dictionary-empty-msg"),KT=document.getElementById("btn-add-word-to-dict")}function J(n,e=!1){const t=["login-screen","register-screen","main-menu-screen","new-game-screen","my-games-screen","game-screen","scoreboard-screen","profile-screen","how-to-play-screen","friends-screen","br-setup-screen","multiplayer-setup-screen","edit-profile-screen","kelimelig-screen","kirtasiye-screen","matchmaking-screen","dictionary-screen"];if(QE===n)return;t.forEach(s=>{const i=document.getElementById(s);i&&i.classList.add("hidden")});const r=document.getElementById(n);r&&(r.classList.remove("hidden"),QE=n,e||history.pushState({screen:n},"",`#${n}`))}function MT(n,e){if(!rt)return;rt.innerHTML="",rt.className="grid gap-1 w-full",rt.style.gridTemplateColumns=`repeat(${n}, 1fr)`;const t=document.getElementById("opponent-mini-grid");t&&(t.innerHTML="");for(let r=0;r<e;r++)for(let s=0;s<n;s++){const i=se("div",{id:`tile-${r}-${s}`,className:"tile"}),o=se("div",{className:"tile-inner front"}),c=se("div",{className:"tile-inner back"});i.appendChild(o),i.appendChild(c),rt.appendChild(i)}}function NT(n){if(!Se)return;Se.innerHTML="",[["E","R","T","Y","U","I","O","P","",""],["A","S","D","F","G","H","J","K","L","",""],["Z","C","V","B","N","M","",""],["","ENTER"]].forEach((t,r)=>{const s=se("div",{className:`flex justify-center gap-1 mt-1 w-full ${r===3?"gap-2":""}`});t.forEach(i=>{const o=i===""||i==="ENTER",l=se("button",{className:`keyboard-key rounded font-semibold uppercase bg-gray-500 ${o?"bg-gray-600":""} ${o?"flex-1":"w-10"}`,dataset:{key:i},onclick:()=>n(i)});i===""?l.innerHTML='<svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="#f59e0b" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z" /></svg>':i==="ENTER"?l.innerHTML='<svg class="w-6 h-6 text-green-400" fill="currentColor" viewBox="0 0 20 20"><path d="M5 4l10 6-10 6V4z"/></svg>':l.textContent=i,s.appendChild(l)}),Se.appendChild(s)})}function dM(n){if(!n||!n.players)return;const e=F();if(!e)return;const t={};(n.players[e]?.guesses||[]).forEach(({word:o,colors:c})=>{for(let l=0;l<o.length;l++){const u=o[l],h=c[l];t[u]!=="correct"&&(t[u]==="present"&&h!=="correct"||(t[u]=h))}});const s=Ss();s&&Object.values(s).forEach(o=>{o&&(t[o]="correct")});const i=Ih();i&&i.forEach(o=>{t[o]!=="correct"&&(t[o]="present")}),document.querySelectorAll(".keyboard-key").forEach(o=>{const c=o.dataset.key;if(c==="ENTER"||c==="")return;const l=t[c];o.classList.remove("correct","present","absent"),l==="correct"?o.classList.add("correct"):l==="present"?o.classList.add("present"):l==="absent"&&o.classList.add("absent")})}function yT(n,e,t,r){const s=`tile-${n}-${e}`,i=document.getElementById(s);if(!i)return;const o=i.querySelector(".front"),c=i.querySelector(".back");o.textContent=t,c.textContent=t,c.className="tile-inner back "+r,i.className="tile static "+r}function fM(n,e){for(let t=0;t<e;t++){const r=`tile-${n}-${t}`,s=document.getElementById(r);if(s&&s.classList.contains("static")){s.className="tile";const i=s.querySelector(".front");i&&(i.textContent="");const o=s.querySelector(".back");o&&(o.textContent="")}}}function dt(){return Xe()?.username||"Oyuncu"}function RA(n){const e=Pl(n);document.getElementById("stats-played").textContent=e.played;const t=e.played>0?Math.round(e.wins/e.played*100):0;document.getElementById("stats-win-percentage").textContent=t,document.getElementById("stats-current-streak").textContent=e.currentStreak,document.getElementById("stats-max-streak").textContent=e.maxStreak;const r=document.getElementById("stats-guess-distribution");r.innerHTML="";let s=Math.max(...Object.values(e.guessDistribution));s===0&&(s=1);for(let i=1;i<=6;i++){const o=e.guessDistribution[String(i)]||0,c=o/s*100,l=`<div class="flex items-center"><div class="w-4">${i}</div><div class="flex-grow bg-gray-700 rounded"><div class="bg-amber-500 text-right pr-2 rounded text-black font-bold" style="width: ${c>0?c:1}%">${o>0?o:""}</div></div></div>`;r.innerHTML+=l}}function TM(n){if(!uo)return;const e=lt()==="multiplayer-br",t=F(),r=document.getElementById("sequential-game-info");if(r&&r.classList.toggle("hidden",e&&lt()!=="daily"),uo.classList.toggle("hidden",!e),e){if(Eo){const c=n.currentRound||1,l=n.matchLength||10;Eo.textContent=`TUR ${c}/${l}`}const o=Object.entries(n.players).map(([c,l])=>({id:c,...l})).sort((c,l)=>(l.score||0)-(c.score||0));for(let c=0;c<8;c++){const l=Rc[c],u=o[c];if(l){const h=l.querySelector("p:first-child"),d=l.querySelector("p:last-child");if(u){const T=u.id===t,g=u.hasSolved,K=u.hasFailed,M=(u.guesses||[]).length;let _=T?"bg-indigo-600":"bg-gray-700",C=T?"text-white":"text-gray-300",v="text-gray-400",w="";g?(w="",v="text-green-400"):K||u.isEliminated?(w="",v="text-red-400"):n.status==="playing"?(w=`${M}/${n.GUESS_COUNT||6}`,v="text-yellow-400 font-mono font-bold"):n.status==="waiting"?w="...":w="-",l.className=`${_} px-2 py-1 rounded shadow flex justify-between items-center h-7 border border-gray-600/50`,h.textContent=u.username,h.className=`font-bold text-xs truncate w-20 text-left ${C}`,d.textContent=w,d.className=`text-xs text-right ${v}`}else l.className="bg-gray-800/50 px-2 py-1 rounded border border-gray-700/50 flex justify-between items-center h-7 opacity-50",h.textContent="---",d.textContent=""}}}const s=document.getElementById("player1-score"),i=document.getElementById("player2-score");if(s&&i&&!e&&lt()!=="daily"){const o=Object.keys(n.players);let c=n.creatorId||o[0];if(o.length>0){const l=n.players[c];l&&(s.innerHTML=`<span class="font-bold">${l.username}</span><br>${l.score||0} Puan`)}if(o.length>1){const l=o.find(h=>h!==c),u=n.players[l];u&&(i.innerHTML=`<span class="font-bold">${u.username}</span><br>${u.score||0} Puan`)}else i.innerHTML=""}}function us(n){const e={friends:document.getElementById("friends-tab"),requests:document.getElementById("requests-tab"),add:document.getElementById("add-friend-tab")},t={friends:document.getElementById("show-friends-tab-btn"),requests:document.getElementById("show-requests-tab-btn"),add:document.getElementById("show-add-friend-tab-btn")};for(const r in e)e[r]&&e[r].classList.add("hidden"),t[r]&&(t[r].classList.remove("text-white","border-indigo-500"),t[r].classList.add("text-gray-400"));e[n]&&e[n].classList.remove("hidden"),t[n]&&(t[n].classList.add("text-white","border-b-2","border-indigo-500"),t[n].classList.remove("text-gray-400"))}function Ls(n){const e={active:document.getElementById("active-games-tab"),finished:document.getElementById("finished-games-tab"),invites:document.getElementById("invites-tab")},t={active:document.getElementById("show-active-games-tab-btn"),finished:document.getElementById("show-finished-games-tab-btn"),invites:document.getElementById("show-invites-tab-btn")};for(const r in e)e[r]&&e[r].classList.add("hidden"),t[r]&&(t[r].classList.remove("text-white","border-indigo-500"),t[r].classList.add("text-gray-400"));e[n]&&e[n].classList.remove("hidden"),t[n]&&(t[n].classList.add("text-white","border-b-2","border-indigo-500"),t[n].classList.remove("text-gray-400"))}function _T(n,e,t){const r=document.getElementById("active-games-tab"),s=document.getElementById("finished-games-tab"),i=document.getElementById("invites-tab");r.innerHTML="",s.innerHTML="",i.innerHTML="";const o=l=>`<p class="text-center text-gray-400 mt-16">${l}</p>`,c=l=>l.gameType==="multiplayer-br"?" Battle Royale":l.gameType==="random_series"?" Seri Oyun (Rastgele)":l.gameType==="random_loose"?" Gevek Oyun":l.gameType==="friend"?l.matchLength>1?" Seri Oyun (Arkada)":" Meydan Okuma":"Oyun";n.length>0?n.forEach(l=>{const u=l.playerIds.find(k=>k!==F()),h=u?l.players[u]?.username||"Rakip":"Rakip bekleniyor";let d=l.status==="waiting"?"Rakip bekleniyor...":`Sra: ${l.players[l.currentPlayerId]?.username||"..."}`;l.currentPlayerId===F()&&(d="Sra sende!"),l.gameType==="multiplayer-br"&&(d=l.status==="waiting"?`Lobi (${l.playerIds.length}/${l.maxPlayers||4})`:`Oynanyor (Tur ${l.currentRound})`);const T=c(l),g=se("div",{className:"bg-gray-700 p-3 rounded-lg mb-2 flex justify-between items-center"}),K=se("div",{className:"cursor-pointer hover:opacity-75 flex-grow",onclick:()=>Q(()=>Promise.resolve().then(()=>Ze),void 0).then(k=>l.gameType==="multiplayer-br"?k.joinBRGame(l.id):k.joinGame(l.id))}),M=se("div",{className:"flex flex-col mb-1"}),_=se("span",{className:"font-bold text-white text-lg",textContent:l.gameType==="multiplayer-br"?"Battle Royale Ligi":h}),C=se("span",{className:"text-xs text-indigo-300 font-medium uppercase tracking-wide",textContent:T});M.appendChild(_),M.appendChild(C);const v=se("p",{className:`text-sm ${l.currentPlayerId===F()||l.gameType==="multiplayer-br"&&l.status==="playing"?"text-green-400 font-bold":"text-gray-400"}`,textContent:d});K.appendChild(M),K.appendChild(v);const w=se("button",{className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 rounded-lg text-xs flex-shrink-0 ml-2",textContent:"Ayrl",onclick:k=>{k.stopPropagation();const $=l.gameType==="multiplayer-br"?"Battle Royale":h;confirm(`'${$}' oyunundan ayrlmak istediinize emin misiniz?`)&&Q(()=>Promise.resolve().then(()=>Ze),void 0).then(G=>G.abandonGame(l.id,g))}});g.appendChild(K),g.appendChild(w),r.appendChild(g)}):r.innerHTML=o("Aktif oyununuz bulunmuyor."),e.length>0?e.forEach(l=>{const u=l.playerIds.find(M=>M!==F()),h=u?l.players[u]?.username||"Rakip":"Bilinmiyor";let d="Bitti",T="border-gray-500";if(l.gameType==="multiplayer-br")d=`${l.players[F()]?.score||0} Puan`,T="border-indigo-500";else{const M=l.roundWinner===F();d=l.roundWinner?M?"Kazandn":"Kaybettin":"Berabere",T=M?"border-green-500":l.roundWinner===null?"border-yellow-500":"border-red-500"}const g=c(l),K=se("div",{className:`bg-gray-800 p-3 rounded-lg mb-2 border-l-4 ${T} relative`,innerHTML:`
                    <div class="flex justify-between items-start">
                        <div class="flex flex-col">
                            <span class="text-xs text-gray-500 mb-1">${g}</span>
                            <p class="font-bold text-white">${l.gameType==="multiplayer-br"?"Battle Royale":h}</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm font-bold ${T.replace("border-","text-")}">${d}</p>
                            <span class="text-xs text-gray-500">${new Date(l.createdAt?.seconds*1e3).toLocaleDateString("tr-TR")}</span>
                        </div>
                    </div>
                `});s.appendChild(K)}):s.innerHTML=o("Henz biten oyununuz yok."),t.length>0?t.forEach(l=>{const u=l.players[l.creatorId]?.username||"Bir arkadan",h=c(l),d=se("div",{className:"bg-indigo-900/40 border border-indigo-500/30 p-4 rounded-lg mb-2",innerHTML:`
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs bg-indigo-600 text-white px-2 py-0.5 rounded">${h}</span>
                    </div>
                    <p class="text-gray-200 mb-3">
                        <strong class="text-white text-lg">${u}</strong> seni oyuna davet ediyor!
                    </p>
                `}),T=se("div",{className:"flex gap-3 justify-end"}),g=se("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",textContent:"Reddet",onclick:M=>{M.stopPropagation(),Q(()=>Promise.resolve().then(()=>Ze),void 0).then(_=>_.rejectInvite(l.id))}}),K=se("button",{className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg text-sm shadow-lg transition-transform active:scale-95",textContent:"Kabul Et",onclick:M=>{M.stopPropagation(),Q(()=>Promise.resolve().then(()=>Ze),void 0).then(_=>{l.gameType==="multiplayer-br"?_.joinBRGame(l.id):_.acceptInvite(l.id)})}});T.appendChild(g),T.appendChild(K),d.appendChild(T),i.appendChild(d)}):i.innerHTML=o("Yeni davetiniz yok.")}function RM(n,e,t){const r=[Bs,vs,bs],s=["present","correct","remove"],i=Xe(),o=i?i.inventory||{}:{},c=e&&t==="playing";r.forEach((l,u)=>{if(!l)return;const h=s[u],d=o[h]||0,T=l.querySelector(".joker-badge");T&&(T.textContent=`x${d}`,T.style.backgroundColor=d>0?"#ef4444":"#6b7280"),c&&d>0?(l.disabled=!1,l.style.opacity="1",l.style.cursor="pointer"):(l.disabled=!0,l.style.opacity=d<=0?"0.5":"1",l.style.cursor="not-allowed")})}async function UT(){J("kelimelig-screen");const n=document.getElementById("league-intro-section"),e=document.getElementById("league-dashboard-section"),t=document.getElementById("league-join-status"),r=document.getElementById("join-league-btn");n&&n.classList.remove("hidden"),e&&e.classList.add("hidden"),t&&t.classList.add("hidden"),r&&r.classList.remove("hidden"),Q(()=>Promise.resolve().then(()=>Ze),void 0).then(s=>s.checkLeagueStatus())}function mM(n,e){const t=document.getElementById("league-matches-list");if(t){if(t.innerHTML="",n.length===0){t.innerHTML=`
            <div class="text-center p-8 bg-gray-700/30 rounded-lg border border-dashed border-gray-600">
                <p class="text-gray-400 text-sm">Henz rakip yok.</p>
                <p class="text-xs text-gray-500 mt-1">Lig baladnda rakipler burada grnecek.</p>
            </div>
        `;return}n.forEach(r=>{const s=r.p1===e?r.p2:r.p1,i=r.opponentName||"Rakip",o=r.p1===e?r.p1_data:r.p2_data,c=r.p1===e?r.p2_data:r.p1_data,l=o&&o.guesses,u=c&&c.guesses;let h="",d="",T="bg-gray-800 border-gray-700",g="";if(l)if(!u)d='<button class="bg-gray-600 text-gray-400 cursor-not-allowed py-1 px-3 rounded text-xs font-bold" disabled>Bekleniyor...</button>',h='<span class="text-[10px] bg-yellow-900/50 text-yellow-500 px-2 py-0.5 rounded uppercase tracking-wide">Rakip Bekleniyor</span>',T="bg-gray-800/80 border-yellow-900/30";else{const _=o.guesses.length,C=c.guesses.length,v=o.failed,w=c.failed;let k=0,$="",G="";v&&w?(k=1,$="BERABERE",G="text-blue-400"):v?(k=0,$="KAYBETTN",G="text-red-400"):w||_<C?(k=3,$="KAZANDIN",G="text-green-400"):_===C?(k=1,$="BERABERE",G="text-blue-400"):(k=0,$="KAYBETTN",G="text-red-400"),d=`<div class="text-right"><span class="block text-xs font-bold ${G}">${$}</span></div>`,g=`<div class="flex flex-col items-center justify-center bg-gray-900 rounded p-2 ml-3 w-12 h-12 border border-gray-700 shadow-inner">
                                        <span class="text-lg font-black text-white leading-none">${k}</span>
                                        <span class="text-[8px] text-gray-500 uppercase">Puan</span>
                                    </div>`,T=k===3?"bg-green-900/20 border-green-900/50":k===1?"bg-blue-900/20 border-blue-900/50":"bg-red-900/10 border-red-900/30"}else d=`<button class="play-league-match-btn bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg transition active:scale-95 flex items-center gap-1">
                            <span></span> OYNA
                          </button>`,h='<span class="text-[10px] bg-green-900/50 text-green-400 px-2 py-0.5 rounded uppercase tracking-wide animate-pulse">Sra Sende</span>',T="bg-gray-700 border-green-500/50 shadow-md";const K=document.createElement("div");K.className=`p-3 rounded-lg border flex justify-between items-center transition hover:bg-gray-750 ${T}`,K.innerHTML=`
            <div class="flex flex-col">
                <div class="flex items-center gap-2 mb-1">
                    <span class="font-bold text-white text-md">${i}</span>
                </div>
                ${h}
            </div>
            <div class="flex items-center">
                ${d}
                ${g}
            </div>
        `;const M=K.querySelector(".play-league-match-btn");M&&(M.onclick=()=>{Q(()=>Promise.resolve().then(()=>Ze),void 0).then(_=>{_.startLeagueMatch(r.id,s,i)})}),t.appendChild(K)})}}let mc=[],gs=!1;const ae=n=>new Promise((e,t)=>{if(!gs){t(new Error("Tutorial stopped"));return}const r=setTimeout(e,n);mc.push(r)});function OT(){mc.forEach(e=>clearTimeout(e)),mc=[];for(let e=0;e<6;e++)for(let t=0;t<5;t++){const r=document.getElementById(`t-${e}-${t}`);if(r){r.classList.remove("flip");const s=r.querySelector(".front"),i=r.querySelector(".back");s.textContent="",s.classList.remove("pop"),i.textContent="",i.className="tile-inner back"}}document.querySelectorAll("#tutorial-keyboard .tutorial-key").forEach(e=>{e.className="tutorial-key"}),["tutorial-joker-present","tutorial-joker-correct","tutorial-joker-remove"].forEach(e=>{const t=document.getElementById(e);t&&(t.disabled=!1,t.classList.remove("tutorial-highlight"))})}async function me(n,e,t,r){await ae(r);const s=document.getElementById(`t-${n}-${e}`);if(s){const i=s.querySelector(".front");i.textContent=t,i.classList.add("pop")}}async function ot(n,e,t,r){await ae(r);const s=document.getElementById(`t-${n}-${e}`);if(s){const i=s.querySelector(".front"),o=s.querySelector(".back");o.textContent=i.textContent,o.className="tile-inner back "+t,s.classList.add("flip")}}async function kn(n,e,t){await ae(t),n.forEach(r=>{const s=document.querySelector(`#tutorial-keyboard .tutorial-key[data-key="${r}"]`);s&&(s.classList.contains("correct")||s.classList.contains("present")&&e==="absent"||s.classList.contains(e)||(e==="correct"?s.className="tutorial-key correct":e==="present"?s.className="tutorial-key present":s.className="tutorial-key absent",s.classList.add("key-pop"),setTimeout(()=>s.classList.remove("key-pop"),200)))})}async function Va(n,e,t=1e3){await ae(e);const r=document.getElementById(n);r&&(r.classList.add("tutorial-highlight"),await ae(t),r.classList.remove("tutorial-highlight"))}async function ka(n,e){await ae(e);const t=document.getElementById(n);t&&(t.disabled=!0)}async function pM(n){await ae(n);const e=["Y","I","P","A"];let t=100;for(const r of e){const s=document.querySelector(`#tutorial-keyboard .tutorial-key[data-key="${r}"]`);s&&!s.classList.contains("absent")&&(await ae(t),s.className="tutorial-key absent",s.classList.add("key-pop"),setTimeout(()=>s.classList.remove("key-pop"),200))}}async function PT(){if(!gs){gs=!0,OT();try{const n={word:["","L","","","T"],colors:["correct","absent","absent","absent","absent"],keys:{correct:[""],absent:["L","","","T"]}};await me(0,0,n.word[0],50),await me(0,1,n.word[1],150),await me(0,2,n.word[2],150),await me(0,3,n.word[3],150),await me(0,4,n.word[4],150),await ae(1e3);for(let s=0;s<5;s++)await ot(0,s,n.colors[s],300);await kn(n.keys.correct,"correct",0),await kn(n.keys.absent,"absent",0),await ae(2e3);const e={word:["","Z","L","E","M"],colors:["correct","absent","absent","correct","absent"],keys:{correct:["E"],absent:["Z","M"]}};await ae(500),await me(1,0,"",0),await ot(1,0,"correct",0),await ae(1500),await me(1,1,e.word[1],150),await me(1,2,e.word[2],150),await me(1,3,e.word[3],150),await me(1,4,e.word[4],150),await ae(1e3);for(let s=1;s<5;s++)await ot(1,s,e.colors[s],300);await kn(e.keys.correct,"correct",0),await kn(e.keys.absent,"absent",0),await ae(2e3),await ae(500),await me(2,0,"",0),await ot(2,0,"correct",0),await me(2,3,"E",150),await ot(2,3,"correct",0),await ae(2e3),await Va("tutorial-joker-present",0,1e3),await ka("tutorial-joker-present",1e3),await ae(1e3),await me(2,1,"N",500),await ot(2,1,"present",0),await ae(2e3),await me(2,2,"D",150),await me(2,4,"R",150);const t={word:["","N","D","E","R"],colors:["correct","present","absent","correct","present"],keys:{present:["N","R"],absent:["D"]}};await ae(1e3),await ot(2,2,t.colors[2],300),await ot(2,4,t.colors[4],300),await kn(t.keys.present,"present",0),await kn(t.keys.absent,"absent",0),await ae(2e3),await ae(500),await me(3,0,"",0),await ot(3,0,"correct",0),await me(3,3,"E",150),await ot(3,3,"correct",0),await ae(2e3),await Va("tutorial-joker-remove",0,1e3),await ka("tutorial-joker-remove",1e3),await pM(1e3),await ae(2e3),await ae(500),await Va("tutorial-joker-correct",0,1e3),await ka("tutorial-joker-correct",1e3),await ae(1e3),await me(3,4,"K",500),await ot(3,4,"correct",0),await ae(2e3);const r={word:["","R","N","E","K"],colors:["correct","correct","correct","correct","correct"],keys:{correct:["R","N","K"]}};await me(3,1,r.word[1],150),await me(3,2,r.word[2],150),await ae(1e3),await ot(3,1,r.colors[1],300),await ot(3,2,r.colors[2],300),await kn(r.keys.correct,0)}catch{console.log("Tutorial animation stopped by user.")}finally{gs=!1}}}function DT(){gs=!1,OT()}function pc(n){const e=document.getElementById("btn-show-fixtures"),t=document.getElementById("btn-show-standings"),r=document.getElementById("tab-league-fixtures"),s=document.getElementById("tab-league-standings");!e||!t||(n==="fixtures"?(r.classList.remove("hidden"),s.classList.add("hidden"),e.classList.add("text-white","border-yellow-500"),e.classList.remove("text-gray-400","border-transparent"),t.classList.remove("text-white","border-yellow-500"),t.classList.add("text-gray-400","border-transparent")):(r.classList.add("hidden"),s.classList.remove("hidden"),t.classList.add("text-white","border-yellow-500"),t.classList.remove("text-gray-400","border-transparent"),e.classList.remove("text-white","border-yellow-500"),e.classList.add("text-gray-400","border-transparent")))}function LM(n,e){const t=document.getElementById("league-standings-body");if(t){if(t.innerHTML="",n.length===0){t.innerHTML='<tr><td colspan="6" class="text-center py-4 text-gray-500">Henz veri yok.</td></tr>';return}n.forEach((r,s)=>{const i=r.id===e,o=document.createElement("tr");o.className=i?"bg-indigo-900/40 border-b border-gray-700":"border-b border-gray-700 hover:bg-gray-750",o.innerHTML=`
            <td class="px-3 py-3 font-medium whitespace-nowrap flex items-center gap-2">
                <span class="text-gray-500 text-xs w-4">${s+1}.</span>
                <span class="${i?"text-yellow-300 font-bold":"text-white"} truncate max-w-[100px]">${r.username}</span>
            </td>
            <td class="px-2 py-3 text-center text-gray-300">${r.O}</td>
            <td class="px-2 py-3 text-center text-green-400">${r.G}</td>
            <td class="px-2 py-3 text-center text-blue-400">${r.B}</td>
            <td class="px-2 py-3 text-center text-red-400">${r.M}</td>
            <td class="px-3 py-3 text-center font-black text-yellow-400 text-lg">${r.P}</td>
        `,t.appendChild(o)})}}function CT(){const n=Xe();if(!n)return;const e=document.getElementById("user-gold-display");e&&(e.textContent=n.gold||0);const t=n.inventory||{present:0,correct:0,remove:0},r=document.getElementById("stock-present"),s=document.getElementById("stock-correct"),i=document.getElementById("stock-remove");r&&(r.textContent=t.present||0),s&&(s.textContent=t.correct||0),i&&(i.textContent=t.remove||0),document.querySelectorAll(".buy-item-btn").forEach(o=>{const c=o.cloneNode(!0);o.parentNode.replaceChild(c,o),c.onclick=()=>{const l=c.dataset.type,u=c.dataset.item,h=parseInt(c.dataset.price);Q(()=>Promise.resolve().then(()=>Ze),void 0).then(d=>d.buyItem(l,u,h))}}),document.querySelectorAll(".buy-gold-btn").forEach(o=>{const c=o.cloneNode(!0);o.parentNode.replaceChild(c,o),c.onclick=()=>{const l=parseInt(c.dataset.amount);Q(()=>Promise.resolve().then(()=>Ze),void 0).then(u=>u.addGold(l))}})}function gM(){J("kirtasiye-screen"),CT()}async function wT(){J("dictionary-screen"),Tn&&(Tn.innerHTML='<p class="text-center text-gray-500 mt-10 animate-pulse">Szlk ykleniyor...</p>'),Q(()=>Promise.resolve().then(()=>Ze),void 0).then(n=>n.loadDictionary())}function IM(n){if(Tn){if(Tn.innerHTML="",!n||n.length===0){Tn.innerHTML='<p id="dictionary-empty-msg" class="text-gray-500 text-center mt-10 italic">Szln henz bo.</p>';return}n.forEach(e=>{const t=document.createElement("div");t.className="dictionary-card";const r=e.meaning?e.meaning:"Anlam bulunamad.";t.innerHTML=`
            <div class="dictionary-header">
                <span class="dictionary-word">${e.word}</span>
                <button class="btn-delete-word" title="Szlkten Sil">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                    </svg>
                </button>
            </div>
            <div class="dictionary-meaning">${r}</div>
        `;const s=t.querySelector(".btn-delete-word");s&&(s.onclick=i=>{i.stopPropagation(),confirm(`"${e.word}" kelimesini szlnden silmek istiyor musun?`)&&Q(()=>Promise.resolve().then(()=>Ze),void 0).then(o=>o.removeWordFromDictionary(e.word,t))}),Tn.appendChild(t)})}}function KM(n,e,t){const r=document.getElementById("opponent-mini-grid");if(!r)return;const s=t*e;if(r.children.length!==s){r.innerHTML="",r.classList.remove("hidden"),r.style.gridTemplateColumns=`repeat(${e}, 1fr)`;for(let i=0;i<t;i++)for(let o=0;o<e;o++){const c=document.createElement("div");c.className="mini-tile",c.id=`mini-${i}-${o}`,r.appendChild(c)}}n.forEach((i,o)=>{i.colors.forEach((c,l)=>{const u=document.getElementById(`mini-${o}-${l}`);u&&(u.className=`mini-tile ${c}`)})})}function SM(){document.querySelectorAll(".keyboard-key").forEach(e=>{e.classList.remove("correct","present","absent"),e.style.opacity="1",e.style.transform="none",e.style.pointerEvents="auto"}),document.querySelectorAll(".tile").forEach(e=>{e.className="tile";const t=e.querySelector(".back");t&&(t.className="tile-inner back")})}function MM(){const n=Xe();if(Io&&(Io.textContent=n?.username||"Oyuncu"),go){const e=n?.avatar||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%236B7280'/%3E%3C/svg%3E";go.src=e}J("matchmaking-screen")}function NM(){}async function yM(){const n=document.getElementById("lobby-invite-modal"),e=document.getElementById("lobby-friends-list"),t=document.getElementById("close-lobby-invite-modal");if(!(!n||!e)){n.classList.remove("hidden"),e.innerHTML='<div class="flex justify-center p-4"><div class="radar-ring relative w-8 h-8 border-2 border-indigo-500 rounded-full animate-spin border-t-transparent"></div></div>',t.onclick=()=>n.classList.add("hidden");try{const r=await aN();if(e.innerHTML="",r.length===0){e.innerHTML='<p class="text-center text-gray-500 py-4">Hi arkadan yok :(</p>';return}r.forEach(s=>{const i=document.createElement("div");i.className="bg-gray-700 p-3 rounded-lg flex justify-between items-center border border-gray-600",i.innerHTML=`
                <span class="text-white font-bold">${s.username}</span>
                <button class="invite-btn bg-green-600 hover:bg-green-700 text-white text-xs font-bold py-1.5 px-3 rounded shadow transition">
                    Davet Et
                </button>
            `;const o=i.querySelector(".invite-btn");o.onclick=async()=>{o.disabled=!0,o.textContent="Gnderildi",o.className="bg-gray-600 text-gray-400 text-xs font-bold py-1.5 px-3 rounded cursor-not-allowed",Q(()=>Promise.resolve().then(()=>Ze),void 0).then(c=>c.sendLobbyInvite(s.id))},e.appendChild(i)})}catch(r){console.error(r),e.innerHTML='<p class="text-center text-red-400 py-4">Liste yklenemedi.</p>'}}}const Be=Object.freeze(Object.defineProperty({__proto__:null,get addFriendTab(){return hT},get backToLoginBtn(){return vl},get backToMainFromDictionaryBtn(){return So},get backToMainFromFriendsBtn(){return Wl},get backToMainFromLeagueBtn(){return Ro},get backToMainFromMarketBtn(){return fo},get backToMainMenuBtn(){return $l},get backToMainMenuFromGamesBtn(){return ql},get backToModeBrBtn(){return Jl},get backToModeMultiBtn(){return zl},get brRoundCounter(){return Eo},get brTimerDisplay(){return St},get brTurnDisplay(){return tt},get btnAddWordToDict(){return KT},get btnShowFixtures(){return mo},get btnShowStandings(){return po},get cancelMatchmakingBtn(){return LT},clearStaticTiles:fM,get closeHowToPlayBtn(){return Hl},closeMatchmakingScreen:NM,get closeProfileBtn(){return jl},get copyGameIdBtn(){return TA},get createBRGameBtn(){return aA},get createGameBtn(){return iA},createGrid:MT,createKeyboard:NT,get dailyWordBtn(){return sA},get dictionaryEmptyMsg(){return IT},get dictionaryListContainer(){return Tn},get dictionaryMenuBtn(){return Ko},get dictionaryScreen(){return gT},displayStats:RA,get friendRequestCount(){return dT},get friendsBtn(){return kl},get friendsTab(){return uT},get gameIdDisplay(){return Qf},get gameInviteCount(){return hr},getUsername:dt,get goToRegisterBtn(){return Bl},get guessGrid(){return rt},get howToPlayBtn(){return Zl},initUI:ST,get invitationModal(){return mT},get joinBRGameBtn(){return cA},get joinGameBtn(){return oA},get joinLeagueBtn(){return sT},get jokerCorrectBtn(){return vs},get jokerPresentBtn(){return Bs},get jokerRemoveBtn(){return bs},get kelimeligBtn(){return To},get keyboardContainer(){return Se},get leagueDashboardSection(){return oT},get leagueIntroSection(){return iT},get leagueMatchesList(){return aT},get leagueStandingsBody(){return AT},get leaveGameButton(){return Ql},get loginBtn(){return Dl},get logoutBtn(){return wl},get mainMenuBtn(){return fA},get marketBtn(){return ho},get matchmakingMyAvatar(){return go},get matchmakingMyName(){return Io},get matchmakingScreen(){return pT},get multiplayerBrBtn(){return rA},get multiplayerScoreBoard(){return uo},get myGamesBtn(){return Vl},get newGameBtn(){return bl},get newRoundBtn(){return fT},openDictionaryScreen:wT,openKelimeligScreen:UT,openKirtasiyeScreen:gM,openLobbyInviteModal:yM,openMatchmakingScreen:MM,opponentMiniGrid:hM,playTutorialAnimation:PT,get randomGameBtn(){return Xl},get registerBtn(){return Cl},renderDictionaryList:IM,renderLeagueMatches:mM,renderLeagueStandings:LM,renderMyGamesLists:_T,get requestsTab(){return ET},resetUIForNewRound:SM,get roundCounter(){return Xf},get searchFriendBtn(){return Lo},get seriesGameBtn(){return eA},get shareGameBtn(){return dn},get shareResultsBtn(){return TT},get showActiveGamesTabBtn(){return EA},get showAddFriendTabBtn(){return uA},get showFinishedGamesTabBtn(){return hA},get showFriendsTabBtn(){return lA},get showInvitesTabBtn(){return dA},get showRequestsTabBtn(){return AA},showScreen:J,get startGameBtn(){return ce},get statsBtn(){return Fl},get statsBtnMain(){return Yl},get stockCorrect(){return nT},get stockPresent(){return tT},get stockRemove(){return rT},stopTutorialAnimation:DT,switchFriendTab:us,switchLeagueTab:pc,switchMyGamesTab:Ls,get tabLeagueFixtures(){return cT},get tabLeagueStandings(){return lT},get themeDarkBtn(){return xl},get themeLightBtn(){return Gl},get timerDisplay(){return qe},get turnDisplay(){return Fe},updateJokerUI:RM,updateKeyboard:dM,updateMarketUI:CT,updateMultiplayerScoreBoard:TM,updateOpponentMiniGrid:KM,updateStaticTile:yT,get userDisplay(){return RT},get userGoldDisplay(){return eT},get vsCpuBtn(){return nA},get withFriendsBtn(){return tA}},Symbol.toStringTag,{value:"Module"})),In={4:JSON.parse('["ABAK","ABAT","ABES","ABS","AB","ABLA","ABL","ABRA","ABUK","ABUS","AAN","ACAR","AAR","ACEM","ACEP","AIK","ACL","AIM","ACP","AI","AIT","ACZ","AKI","AMA","ACUL","ACUN","ACUR","ACVE","ACYO","ADAK","ADAM","ADAP","ADA","ADAT","ADAY","ADCI","ADEM","ADET","ADIL","ADL","ADIM","ADLI","ADL","AFAK","AFAL","AFAT","AFET","AFF","AFS","AF","AA","AGAH","ACA","ACI","ADA","AGEL","AIL","AIM","AIN","AIR","AI","AIT","AIZ","ALI","AMA","AGOP","ARI","ASI","AGU","AHAR","AHI","AHD","AHIR","AHR","AHT","AHA","ALE","AJAN","AJUR","AKA","AKAK","AKAR","AKA","AKE","AKK","AKIL","AKL","AKIM","AKM","AKIN","AKI","AKS","AKT","AKLI","AKL","AKMA","AKNE","AKOR","AKSA","AKSE","AKS","AKSU","AKUR","AKUT","AKVA","ALAN","ALAT","ALAY","ALAZ","ALI","ALDI","ALEM","ALET","ALEV","ALFA","ALGI","ALI","ALIK","ALL","ALIM","ALM","ALIN","ALI","ALLI","ALMA","ALPU","ALTI","ALTO","AMA","AMAL","AMAN","AMCA","AMEL","AMF","AML","AMN","AMP","AMR","AMT","AMMA","AMME","AMOR","AMUT","ANA","ANAL","ANAT","ANCA","ANF","ANIK","ANIT","ANIZ","ANKA","ANMA","ANNE","ANOT","ANS","ANUT","AORT","APAK","APA","APAZ","APEL","API","APRE","APSE","ARA","ARAF","ARAK","ARAP","ARAZ","ARDA","ARGO","ARF","ARIK","ARI","ARIZ","ARKA","ARLI","ARMA","ARPA","ARSA","ARE","ARTI","ARUZ","ARYA","ARZU","ASAL","ASAN","ASAP","ASAR","AAR","AI","ASES","ASIK","AIK","ASIL","ASL","ASIM","AIM","ASIR","AR","AST","AIT","ASKI","ASLA","ASL","ASMA","AMA","AOZ","ASR","ASYA","ATAK","ATAR","ATA","ATI","ATEH","ATEL","ATE","ATIF","ATIK","ATK","ATIL","ATIM","ATI","ATKI","ATLI","ATMA","ATOL","ATOM","AURA","AVAL","AVAM","AVAR","AVAZ","AVCI","AVLU","AVRO","AVU","AYAK","AYAL","AYAN","AYAR","AYA","AYAZ","AYA","AYET","AYIK","AYIN","AYN","AYIP","AYIT","AYLA","AYLI","AYMA","AYNA","AYNI","AYN","AYOL","AYRI","AYVA","AZAP","AZAR","AZAT","AZCA","AZEL","AZIK","AZL","AZM","AZI","AZT","AZZ","AZMA","AZOL","AZOT","BABA","BAB","BACA","BACI","BADE","BAD","BAA","BAI","BAHT","BAKI","BAK","BAKS","BALA","BALE","BALO","BANA","BAN","BANK","BANT","BARA","BARI","BAR","BARK","BARO","BASI","BATI","BAT","BAY","BAYT","BAZA","BAZI","BEBE","BES","BEKA","BELA","BEL","BENT","BERE","BER","BERK","BES","BETA","BET","BEZE","BEZM","BAT","BB","BDE","BGA","BLA","BLE","BL","BNA","BN","BRA","BR","B","BYE","BLF","BLOG","BLOK","BLUM","BLUZ","BOCA","BCE","BOC","BC","BOA","BKE","BOKS","BOLD","BLE","BOLU","BL","BONE","BONO","BORA","BOR","BRK","BORU","BR","BOYA","BOZA","BRE","BR","BRK","BRT","BRZ","BROM","BRO","BRT","BUAT","BUCA","BFE","BUU","BUJ","BUKE","BULA","BURA","BUR","BRO","BURS","BURU","BUSE","BST","BUUT","BVE","CABA","CADI","CAZ","CAKA","CAM","CANA","CAN","CAR","CART","CEBE","CED","CEFA","CEHT","CEL","CELP","CEM","CENK","CERH","CEZA","CEZP","CHAT","CC","CDE","CFE","CLA","CILK","CLT","CMA","CNS","CPS","CRO","CIRT","CIVA","CNK","CCE","CDA","CUMA","CURA","CZ","ABA","AA","AA","AKI","ALI","APA","ARE","ARK","ATI","EE","EK","ENE","ENK","ER","EM","ETE","FT","IA","IKI","LE","IMA","NE","N","IPA","PO","IRA","SE","ITA","TA","T","V","Z","OU","UHA","UKA","DADI","DA","DAHA","DAH","DAM","DAR","DAMA","DANA","DANE","DANG","DANK","DANS","DARA","DARI","DARP","DART","DARU","DATA","DAVA","DAYE","DAYI","DEB","DEDE","DEFA","DEF","DEFO","DEHA","DEL","DELK","DEME","DEMO","DEN","DENK","DEPO","DER","DERE","DER","DERK","DERS","DERT","DERZ","DEST","DEVA","DEVE","DEY","DBA","DDE","DM","DN","DNE","DN","DNK","DR","D","DSK","DVA","DYA","DYE","DZE","DZ","DOA","DOU","DOKU","DOLU","DONE","DORE","DRT","DORU","DOST","DRAM","DRE","DREN","DROG","DUBA","DUDU","DET","D","DUKA","DUMA","DURU","DR","DSE","DVE","DUYU","DZE","EBAT","EBET","EBRU","ECEL","ECR","ECZA","EDAT","EDEP","EDER","EDK","EDM","EDP","EDNA","EFOR","EER","E","EK","EL","EM","EN","ER","E","EME","ER","ES","EHEM","EHL","EHL","EKM","EKN","EKP","EKT","EKL","EKME","EKOL","EKRU","EKS","EK","EKT","ELAN","ELC","EL","ELDE","ELEK","ELEM","ELF","ELK","ELM","ELT","ELL","ELMA","ELT","EMAN","EMAY","EME","EMEK","EMEL","EMEN","EMET","EMK","EMN","EMR","EM","EMME","EMM","ENAM","ENEK","ENEZ","ENK","ENN","ENR","ENL","ENSE","ENVA","EPER","EPEY","EPK","ERAT","ERCE","EREK","EREN","ERG","ERK","ERL","ERM","ERN","ER","ERKE","ERME","EROS","ERUH","ESAS","ESEF","EEK","ESEN","ESER","EEY","ESK","EK","ESM","ESN","ESR","ES","ET","ESK","EL","ESMA","ESME","EME","ESNA","ESRE","EYA","ETAP","ET","ETEK","ETEN","ETER","ETK","ETL","ETK","ETL","ETME","ETOL","ETT","ETV","EVCE","EVC","EVET","EV","EVN","EVLA","EVL","EVRE","EYER","EZAN","EZEL","EZG","EZK","EZME","FAAL","FAKS","FAN","FARE","FARK","FARS","FARZ","FAUL","FAVA","FEC","FEDA","FEKE","FEL","FENA","FENT","FER","FER","FERT","FERZ","FEV","FEVK","FEVT","FEZA","FII","FDE","FL","FLE","FLM","FLO","FNK","FNO","FRE","FIRT","FE","FLA","FLT","FLOK","FLOR","FLO","FLT","FOB","FOA","FOLK","FONT","FORA","FORM","FORS","FOA","FOTA","FOTO","FTR","FOYA","FRAK","FREN","FRER","FRZ","FUAR","FULE","FME","FRS","FRU","FUTA","FZE","GAB","GACI","GAGA","GAH","GAP","GALA","GALE","GAL","GAMA","GANG","GAN","GARD","GARK","GARP","GASP","GATO","GAYE","GAYR","GAYZ","GAZA","GAZ","GEBE","GECE","GEE","GEDA","GELE","GEM","GEN","GENE","GER","GETR","GEZ","GB","GIDA","GIDI","GD","GIGI","GINA","GNE","GIRT","GE","GCE","G","GLE","GOLF","GM","GN","GONK","GRE","GRK","GR","GZE","GRAM","GREK","GREN","GRES","GREV","GRL","GRP","GRON","GRUP","GUAJ","GCE","GC","GD","GME","GN","GRE","GURK","GURU","GRZ","GUA","GVE","GYA","HACI","HAD","HAF","HAL","HAN","HAZ","HAJE","HAK","HALA","HALE","HALI","HAL","HALK","HALT","HAM","HAMT","HANE","HAN","HARA","HAR","HARE","HARF","HARP","HARS","HART","HAA","HATA","HAVA","HAV","HAYA","HAZA","HEBA","HECE","HELA","HELE","HERK","HBE","HLE","HIN","HINK","HNT","HIRS","HIRT","HT","HZA","HOB","HOCA","HONA","HOPA","HORA","HOST","HOT","HST","HDA","HMA","HUN","HUR","HUR","HUU","IIL","IHMA","ILIK","ILIM","IRAK","IRIP","IRK","IIK","ISIL","IIL","ISIN","IIN","ISKA","IKI","ITIR","ITR","ADE","ANE","ARE","AE","BDA","BK","BS","B","BNE","BRA","BRE","CAP","CAR","CAT","CAZ","M","N","","T","K","L","CMA","ME","CRA","RE","DAM","DEA","DL","DOL","FNA","FA","FTA","C","DE","GLU","NE","S","HAM","HYA","KAZ","KZ","KNA","KON","KSA","KTA","LA","LAH","LAM","LAN","LCA","LE","LEK","LGA","LG","L","LK","LM","LKE","LLA","LLE","LL","LME","LM","MAJ","MAL","MAM","MAN","MAR","MD","MGE","MHA","MK","MLA","MZA","NAK","NAL","NAM","NAN","NAT","NCE","NC","ND","NE","NEK","NHA","NK","N","NME","NA","NT","P","PEK","PKA","PS","RAP","RAT","RCA","RN","RS","RS","SAL","AR","BA","BU","","SM","SL","L","SOT","TE","VE","TAP","TE","TFA","T","TK","TME","VAZ","VG","VME","YON","YOT","ZA","ZAH","ZAM","ZAN","ZAZ","ZBE","ZC","ZGE","ZN","JALE","JANR","JANT","JEST","JLE","JPS","JLE","JUDO","JR","JURO","KABA","KABE","KAA","KAI","KADI","KAFA","KAFE","KAF","KAL","KAM","KAN","KAJU","KAKA","KALA","KALE","KALP","KAMA","KAME","KAMP","KAMU","KANA","KANI","KAN","KANO","KANT","KAOS","KAPI","KARA","KARE","KARI","KAR","KARO","KARS","KART","KASA","KASE","KAE","KASK","KAST","KATI","KAT","KAV","KAYA","KAYI","KAZA","KAZI","KEBE","KEE","KE","KED","KEFE","KEKA","KEKE","KELE","KEME","KENE","KENT","KERE","KERH","KESE","KES","KESP","KETE","KEZA","KII","KI","KLE","KLO","KLS","KM","KINA","KPE","KRA","KIR","KIRK","KISA","K","KIST","KST","KITA","KV","KIYA","KIYI","KLAN","KLAS","KLK","KLP","KLON","KLOR","KLO","KLZ","KOCA","KOU","KOFA","KOKA","KOKU","KOLA","KLE","KOL","KOMA","KOM","KON","KON","KONT","KONU","KORE","KRE","KORO","KORT","KORU","KOSA","KOA","KSE","KE","KK","KOU","KOTA","KT","KOVA","KOYU","KOZA","KRAL","KREM","KREP","KRE","KRZ","KROM","KRON","KROS","KFE","KUF","KUU","KUH","KUKA","KULA","KULE","KULP","KLT","KULU","KUMA","KME","KNH","KNK","KUNT","KUPA","KPE","KURA","KRE","KRK","KURS","KURT","KRT","KURU","KUE","KS","KUTU","KUUT","KUYU","KUZU","LAK","LAN","LAKA","LAKE","LALA","LALE","LAMA","LAME","LAPA","LARP","LAE","LASO","LATA","LAVA","LAZA","LEE","LEKE","LENF","LENS","LEVA","LCE","LET","LFT","LGA","LKA","LME","LN","LNK","LRA","LSE","LVA","LOB","LOCA","LOA","LODA","LOGO","LOLO","LORT","LOTA","LKS","LLE","LUT","LUTR","MAA","MAA","MAO","MAL","MAN","MAK","MALA","MAL","MAL","MALT","MAMA","MANA","MAN","MANO","MAPA","MARJ","MARK","MARN","MARS","MAR","MART","MASA","MAA","MASK","MAUN","MAV","MAYA","MAY","MAYO","MAYT","MAZI","MAZ","MEAL","MEKE","MEME","MEN","MEN","MERA","MER","MERT","MEE","MESH","MEK","MEST","META","MEVT","MEZE","MAT","MO","MDE","MUN","MUT","MLK","MUR","MURT","MRT","MUTA","MUT","MZE","NAA","NAAT","NAF","NAF","NAL","NAP","NALE","NAME","NANE","NARA","NARH","NA","NATO","NAZ","NEB","NECE","OLAY","OLDU","OLEY","OLGU","OLMA","OLTA","OLTU","OLUK","OLUR","OLU","OMCA","OMUR","OMUZ","ONAM","ONAR","ONAT","ONAY","ONCA","ONLU","ONMA","ONUM","ONUR","OPAK","OPAL","OPUS","ORAK","ORAL","ORAN","ORDU","ORSA","ORTA","ORU","ORUN","ORYA","OTA","OTU","OTEL","OTLU","OTSU","OTUZ","OVAL","OVMA","OYMA","OYSA","OYUK","OYUM","OYUN","OYU","OZAN","OZON","BEK","BR","L","DEM","DEV","DL","DN","FKE","LE","N","R","T","KE","KSE","KZ","L","LET","LME","LK","LM","L","MR","NCE","NC","NEL","NEM","NL","PME","P","REK","REN","RF","RGE","RG","RME","RT","RK","RM","R","R","TME","TRE","TM","T","VE","VG","VME","V","YK","YLE","ZEK","ZEL","ZEN","ZET","ZGE","ZG","ZL","ZNE","ZR","ZT","PAA","PAHA","PAKT","PALA","PALU","PAN","PANE","PANO","PAPA","PARA","PARE","PARK","PARS","PAA","PASO","PATA","PAT","PAYE","PAZI","PEE","PEK","PENA","PEN","PEN","PENS","PEPE","PER","PERT","PESO","PEST","PEYK","PDE","PKE","PKO","PLE","PP","PPO","PRE","PS","P","PIT","PST","PLAJ","PLAK","PLAN","POLO","POPO","POSA","POST","POU","POTA","PRES","PRM","PRZ","PUAN","PUHU","PUMA","PUN","PUNT","PUPA","PRE","PURO","PUT","PUSU","RACA","RAC","RAHT","RAKI","RAKS","RAM","RAMP","RANT","RAE","RA","RAST","RATE","RAV","RAZI","REEL","REHA","RES","REJ","REM","RENK","REPO","REST","REVA","REV","REYE","REZE","RCA","RKA","RNA","RNG","RNT","RSK","RYA","RIZA","RZE","ROBA","RODA","ROKA","RLE","ROTA","ROZA","ROZE","RUAM","RUBA","RCU","RUH","RKU","RULO","RUM","RUP","RT","RYA","SAAT","SABA","SAB","SABO","SAI","SADA","SADE","SAFA","SAF","SAI","SAGU","SAHA","SAH","SAHN","SAK","SAR","SAKA","SAKE","SAK","SAKO","SALA","SALI","SALT","SAM","SANA","SANI","SAPA","SARA","SARF","SARI","SAR","SARP","SASI","SATI","SAVA","SAYA","SAYE","SAYI","SEC","SE","SEDA","SEFA","SEK","SEKS","SELA","SELE","SELP","SEMA","SEME","SEMT","SENA","SENE","SENT","SEP","SERA","SERE","SERF","SER","SERT","SEV","SEVK","SEZA","SEZ","SEZ","SIDK","SIA","SGA","SIKI","SILA","SL","SLO","SIMA","SMA","SNE","SN","SIPA","SIRA","SIRF","SRK","SIRP","SIRT","STE","SIVA","SIVI","SYA","SIZI","SKE","SKF","SKOR","SLAP","SLAV","SLP","SMA","SNOP","SOBA","SOBE","SBE","SODA","SOFA","SOFU","SKE","SOKU","SOLO","SOMA","SONE","SOPA","SRF","SORU","SOTA","SOTE","SVE","SOYA","SPAM","SPN","SPOR","SPOT","STAJ","STAR","STAT","STEN","STEP","STER","STL","STOK","STOP","STOR","SUAL","SUCU","SET","SUF","ST","SJE","SLF","SULH","SULP","SULU","SUMA","SUNA","SNE","SUN","SUNU","SURA","SURE","SRE","SR","SU","AFT","AR","AKA","AK","ALE","AL","ALT","AMA","ANO","ANS","ARJ","ARK","ART","ASE","AS","AI","ATO","AVK","AY","EC","ELF","EMA","EMS","EN","ER","ERH","ER","EVK","EYH","AR","FA","R","KE","LE","LT","ME","IRA","RE","RK","E","ST","TA","VE","OKE","ORT","OSE","UBE","UFA","ULE","URA","UUR","YU","TAAM","TAAT","TABA","TAB","TABL","TABU","TAHT","TAKA","TAKI","TAKT","TAL","TALK","TAMU","TANE","TANI","TANK","TAPA","TAPI","TAP","TAPU","TARH","TART","TARZ","TASA","TAUN","TAVA","TAYA","TAYF","TAYT","TAZE","TAZI","TEFE","TEH","TEN","TEKE","TELA","TEMA","TEPE","TEP","TERE","TERK","TERS","TEST","TET","TEYP","TFO","TKE","TINI","TIPA","TP","TPO","TRE","TIRT","TTR","TOFU","TOHT","TOKA","TOPU","TRE","TORK","TOST","TOTO","TRAP","TRAS","TREN","TRO","TRP","TROK","TROL","TRK","TRUP","TUBA","TUFA","TULU","TL","TUMP","TUN","TURA","TRE","TRK","TURP","TUTU","TUVA","TYO","TZE","UAK","UAR","ULU","UMA","UUK","UUN","UU","UCUZ","UFAK","UFK","UFUK","UFUL","URA","URU","UUR","UUT","UHDE","UKDE","ULA","ULAH","ULAK","ULAM","ULAN","ULA","ULUM","ULUS","ULV","UMAR","UMDE","UMMA","UMRE","UMUM","UMUR","UMU","UMUT","UNCU","UNSU","URAN","URAY","URBA","URFA","URLA","URUK","URUM","URUP","UAK","USAT","USU","USLU","USTA","USUL","UTU","UTKU","UTLU","UTMA","UYAK","UYAR","UYDU","UYGU","UYKU","UYMA","UYUM","UYUR","UYUZ","UZAK","UZAM","UZAY","UZUN","UZUV","UZV","ER","L","CRA","Z","LEN","LE","LKE","LK","L","MT","MM","MK","NK","NL","NYE","RAT","REM","RK","RN","ME","STE","TME","VEY","VEZ","ZG","ZME","ZRE","ZM","VAAT","VAAZ","VADE","VAD","VAHA","VAH","VAZ","VAKA","VAK","VAKS","VALE","VALF","VAL","VALS","VAMP","VANA","VAS","VASL","VAZO","VEBA","VECA","VECT","VEDA","VEFA","VEL","VENA","VERE","VER","VETO","VEYA","VDA","VDO","VN","VRA","VRE","VRT","VYA","VZE","VOLE","VOL","VOLT","VUKU","VURU","YABA","YAI","YAHU","YAKA","YAKI","YALI","YAMA","YAN","YAPI","YARA","YARI","YASA","YAA","YATI","YAVE","YAYA","YAZI","YED","YES","YEKE","YELE","YEME","YEN","YET","YIKI","YNE","YISA","YIVA","YOGA","YOG","YOMA","YONT","YRE","YCE","YUHA","YUKA","YUMA","YUNA","YURT","YUVA","ZAAF","ZADE","ZAL","ZAT","ZAMK","ZAPT","ZARA","ZARF","ZAT","ZAY","ZAZA","ZEDE","ZEKA","ZEK","ZERK","ZEV","ZEVK","ZFT","ZLE","ZL","ZNA","ZINK","ZRA","ZIRH","ZYA","ZOKA","ZONA","ZONK","ZHT","ZULA","BY","FABL","FAKR","FAA","FAK","FAL","FAZ","MODA","MOKA","MOLA","MONT","MORG","MORS","MUAF","MUD","MUO","MN","MFT","MGE","MD","MHR","MKA","MNE","MNK","MN","MRA","MR","MSK","MSO","MZA","NEC","NEFT","NEL","NEMA","NEMF","NENE","NEON","NERE","NES","NEVA","NEYE","NEE","NOEL","NORM","NOTA","NOVA","NTR","NKS","NVE","NCE","NDA","NNE","NSA","NTE","NYE","NZA","OBEZ","OBJE","OBUA","OBUR","OBUZ","OBS","OCAK","ODAK","ODUN","OFS","OJT","OKAR","OKEY","OKKA","OKRA","OKSU","OKUL","OKUR","OKU","OAN","OUL","OUZ"]'),5:JSON.parse('["ABACI","ABAD","ABALI","ABANA","ABAN","ABARA","ABAO","ABAZA","ABBAS","ABDAL","ABECE","ABEC","ABHAZ","ABDE","ABYE","ABLAK","ABONE","ABOSA","ABRA","ABUL","ACABA","ACARA","ACELE","ACEM","ACEZE","AGZ","ACBE","ACICA","ACILI","ACIMA","ALIK","AMAK","AMAZ","ACUBE","ACUZE","ADALE","ADALI","ADAL","ADAMA","ADAMI","ADANA","ADED","ADESE","ADETA","ADINA","ADRES","ADSAL","ADSIZ","AFAZ","AFGAN","AFFE","AFL","AFE","AFON","AFAR","AFN","AFSUN","AFTOS","AFYON","AGAM","ACIK","AILI","ALAK","AMAK","ANAM","AGORA","AGRAF","ARAZ","AYAR","AHAL","AHBAP","AHCAR","AHENK","AHFAT","AHFE","AHZE","AHKAM","AHLAF","AHLAK","AHLAT","AHMAK","AHRAZ","AHRET","AHAP","AHUNT","AHVAL","ADAT","AJANS","AJTE","AKABE","AKAT","AKAJU","AKALA","AKBA","AKIL","AKDUT","AKEM","AKICI","AKDE","AKLE","AKKOR","AKKU","AKLAN","AKLEN","AKLIK","AKMAK","AKMAN","AKMAZ","AKONT","AKORT","AKPAS","AKRAN","AKREP","AKSAK","AKSAM","AKAM","AKSAN","AKIN","AKSON","AKTAR","AKTA","AKTF","AKTR","AKVAM","ALACA","ALAM","ALAKA","ALARM","ALAZA","ALBAY","ALBM","ALAK","ALEN","ALEV","ALEYH","ALGI","ALGIN","ALICI","ALZE","ALKAN","ALKL","ALKIM","ALKI","ALKOL","ALLAH","ALLEM","ALLIK","ALMA","ALMAK","ALMAN","ALMA","ALMUS","ALNA","ALSAT","ALTAR","ALTAY","ALTES","ALTIK","ALTIN","ALTIZ","ALTLI","ALYAN","ALYON","AMADE","AMALI","AMBAR","AMBER","AMELE","AMEL","AMGO","AMORF","AMPER","AMPR","AMPUL","AMUD","ANACA","ANALI","ANANE","ANCAK","ANDA","ANDI","ANDIK","ANDIZ","ANELE","ANEM","ANGI","ANGIN","ANGUT","ANDE","ANME","ANJN","ANKET","ANLAK","ANLAM","ANLIK","ANMAK","ANONS","ANSIZ","ANTEN","ANTEP","ANTET","ANTK","ANTLI","ANTRE","ANR","ANYON","ANZAK","APACI","APKO","APLK","APORT","APO","APOTR","APRL","APSS","APTAL","ARABA","ARAB","ARACI","ARAKA","ARALI","ARAMA","ARAM","ARAZ","ARDAK","ARDI","ARDIL","AREFE","ARENA","ARGA","ARGIN","ARGIT","ARGON","ARICI","ARFE","ARYA","ARIZA","ARZA","ARIZ","ARKA","ARKIT","ARKOZ","ARMUT","ARMUZ","AROMA","ARPI","ARPEJ","ARSN","ARIN","ARV","ARSIZ","ARTI","ARTER","ARTIK","ARTIM","ARTIN","ARTI","ARTMA","ASAB","AAI","AAMA","AAR","ASENA","AEV","ASHAP","AICI","ASDE","ASILI","AILI","ANA","AIRI","ASST","ASKAT","ASKER","AKIN","ASKLI","ASLAN","ASLEN","ASLIK","ALIK","ASMAK","AMAK","ASPUR","ASTAR","ASTAT","ASTK","ASTIM","ASUDE","AURE","ASYN","ATAMA","ATAR","ATAE","ATFEN","ATICI","ATILI","ATLAS","ATLET","ATMAK","ATMIK","AVANE","AVANS","AVARA","AVARE","AVAZE","AVDET","AVZE","AVLAK","AVRAT","AVRET","AVAR","AVUN","AVURT","AYDIN","AYEV","AYGIN","AYGIR","AYGIT","AYICI","AYIRT","AYLAK","AYLIK","AYMAK","AYMAZ","AYNAZ","AYNEN","AYRA","AYRAN","AYRI","AYRIK","AYRIM","AYRIT","AYSAR","AYSIZ","AYVAN","AYVAZ","AYYAR","AYYA","AYYUK","AZADE","AZAM","AZER","AZGIN","AZILI","AZZE","AZLIK","AZMAK","AZMAN","AZNF","AZOK","AZVAY","BABA","BABA","BABET","BABUN","BACAK","BAI","BALI","BADAL","BADAS","BADAT","BADEM","BADI","BADK","BADYA","BAFRA","BAGAJ","BAAN","BACI","BADA","BAGET","BAIL","BAIM","BAIN","BAIR","BAI","BAIT","BALI","BAHA","BAHAR","BAHE","BAHR","BAHS","BAHR","BAKA","BAKAM","BAKAN","BAKIM","BAKIR","BAKR","BAKI","BAKLA","BAKMA","BAKI","BALAR","BALAT","BALCI","BALDO","BALEN","BALET","BAL","BALIK","BALKI","BALLI","BALON","BALOZ","BALTA","BALYA","BAMBU","BAMYA","BANAK","BANAL","BANAZ","BANDO","BANJO","BANKA","BANKO","BANMA","BANYO","BARAJ","BARAK","BARAN","BARAS","BARBA","BARA","BARCI","BARDA","BARDO","BAREM","BARET","BARI","BART","BARZ","BARKA","BARLI","BAROK","BARON","BARUT","BASAK","BAAK","BASAR","BAAT","BAI","BASEN","BASIK","BASL","BASIM","BASIN","BASI","BAST","BAKA","BASKI","BALI","BASMA","BASSO","BATA","BASTI","BASUR","BASYA","BATAK","BATAR","BATIK","BATK","BATIL","BATIN","BATI","BATKI","BATMA","BATON","BATUR","BAVCI","BAVLI","BAVUL","BAYAN","BAYAT","BAYIR","BAYMA","BAYRI","BAZAL","BAZEN","BAZK","BAZT","BAZLI","BEBEK","BECET","BECT","BEDEL","BEDEN","BED","BEDK","BEDR","BEGM","BEHER","BEHEY","BEHRE","BEKAR","BEKAS","BEK","BEKR","BELCE","BELDE","BELEK","BELEN","BELE","BELGE","BELG","BEL","BELK","BELT","BELK","BELL","BEMOL","BENCE","BENC","BENDE","BENEK","BENG","BENZ","BENL","BERAT","BERL","BERR","BEER","BEK","BESN","BEZ","BEL","BEME","BESN","BEON","BESTE","BEU","BETER","BETK","BETM","BETON","BEYAN","BEYAZ","BEYN","BEYT","BEYZ","BEZC","BEZEK","BEZEN","BEZG","BEZK","BEZR","BEZ","BEZME","BEZS","BBER","BBLO","BIAK","BEM","BIIK","BCK","BICIL","BM","B","BIKI","BK","BME","BDAR","BDAT","BIDIK","BDON","BHU","BJON","BKES","BKR","BIKI","BIKMA","BLAR","BLEK","BLET","BLGE","BLG","BLM","BLR","BL","BLME","BLYE","BND","BNEK","BNER","BNG","BN","BNT","BNL","BNME","BRAZ","BRC","BRER","BREY","BRM","BRL","BEK","BTAP","BTEK","BTEY","BTK","BTM","BT","BTK","BTL","BTME","BTM","BYEL","BIYIK","BZAR","BZCE","BIZIR","BZON","BLOKE","BOBN","BBR","BOCCE","BCEK","BOCUK","BODU","BODUR","BOAK","BOAZ","BOMA","BOUK","BOUM","BR","BOHA","BOHEM","BOKLU","BOLCA","BLEN","BLGE","BLME","BLK","BLM","BL","BLT","BOMBA","BOMBE","BNCE","BORAK","BORAN","BORAT","BORDA","BORDO","BREK","BORK","BORSA","BORUK","BOYAR","BOYCA","BYLE","BOYLU","BOYNA","BOYOZ","BOYUN","BOYUT","BOZCA","BOZMA","BOZUK","BOZUM","BOZU","BRAN","BRAVO","BRON","BRONZ","BRVE","BUCAK","BUUK","BCR","BUDAK","BUDUN","BET","BL","BURA","BUGN","BUUR","BUUZ","BUHAR","BUHUR","BKEN","BUKET","BUKLE","BKME","BK","BKK","BKM","BK","BULAK","BULA","BULGU","BULMA","BLU","BULU","BULUT","BUNAK","BUNCA","BUNLU","BUNMA","BNYE","BURAK","BURCU","BURGU","BRG","BURMA","BURSA","BURUK","BRK","BURUN","BRN","BUON","BTAN","BTE","BTEN","BTEY","BUTK","BUTLU","BUTON","BTN","BVET","BUYMA","BUYOT","BYK","BUZCU","BZG","BUZLA","BUZLU","BZME","BZK","BUZUL","CACIK","CADDE","CAHL","CAZE","CALP","CAMCI","CAMA","CAMT","CAMIZ","CAMLI","CAMSI","CANAN","CANK","CANIM","CANP","CANLI","CARLI","CARTA","CASUS","CAYI","CAYMA","CAZCI","CAZP","CAZLI","CEBEL","CEBN","CEBR","CEBR","CEDEL","CEDT","CEDRE","CEHL","CEHRE","CEHR","CEKET","CELAL","CELBE","CELEP","CELL","CELSE","CEMAL","CEMAN","CEML","CEMRE","CEMSE","CENAH","CENAP","CENN","CENUP","CEP","CEPHE","CEREN","CESET","CESM","CESUR","CEVAP","CEVAZ","CEVR","CEVZ","CEVV","CEVZA","CEZA","CEZBE","CEZR","CEZR","CEZVE","CIBIL","CBN","CBRE","CICIK","CCK","CCM","CCOZ","CDAL","CDAR","CDD","CER","CHAN","CHAR","CHAT","CHAZ","CHET","CILGA","CILIZ","CLVE","CMR","CNA","CNAS","CNC","CNL","CNS","CRM","CRT","CSM","CVAN","CVAR","CIVIK","CIVMA","CIZIK","CZRE","CZYE","CONTA","CORUM","COKU","COMA","COUM","COU","COZUR","CBBE","CCK","CUDAM","CUKKA","CLUS","CUMBA","CMLE","CUNDA","CNHA","CUNTA","CNUN","CNP","CRET","CRUF","CRM","CU","CSSE","ABUK","ADIR","ALA","AMA","ARI","AKAL","AKAR","AKER","AKIL","AKIM","AKIN","AKIR","AKI","AKMA","AKRA","ALAK","ALAP","ALAR","ALGI","ALIK","ALIM","ALI","ALKI","ALMA","ALTI","AMA","AMAT","AMA","AMUR","ANAK","ANCI","ANDI","ANLI","ANTA","APAK","APAR","APLA","APLI","APMA","APUL","APUT","ARHA","ARIK","ARKA","ARPI","ARI","ASAR","AIT","ATAK","ATAL","ATIK","ATI","ATKI","ATMA","AVLI","AVMA","AVUN","AVU","AYAN","AYCI","AYIR","AYLI","EB","EEN","ECK","EDK","EHRE","EKE","EKEK","EKEL","EKEM","EKER","EK","EKK","EKM","EK","EKME","EKL","ELEK","ELEN","ELG","ELK","ELM","ELLO","ELME","EME","EMEN","EM","EM","ENEK","ENET","ENG","EPEL","EPER","EPEZ","EPN","EPN","ERA","ER","EREZ","ERGE","ET","EME","EN","ETEN","ETN","EVK","EVRE","EVR","EYZ","IBAN","EK","IDAM","IFIT","FTE","GAN","DE","L","N","IIR","T","L","IKAK","IKAN","IKAR","IKIK","IKIM","IKIN","IKI","IKIT","IKMA","IKRA","IKTI","LEK","LL","MEK","MEN","MME","INAR","NCE","INGI","NKO","NL","PL","PL","IRA","IRAK","R","ROZ","IRPI","SEN","ITAK","TEN","TL","TME","VT","IVMA","IYAN","ZER","ZGE","ZG","ZK","ZM","Z","ZME","OBAN","OCUK","ME","OUL","OUN","R","OKAL","OKA","OKU","KEK","KEL","OKLU","KME","KK","KM","K","OLAK","OLPA","OMAK","OMAR","ME","MEZ","MME","P","PL","OPRA","OPUR","ORAK","ORAP","ORBA","REK","RK","ORLU","RT","ORUM","OTRA","OTUK","VEN","ZG","ZME","ZK","ZM","Z","UBUK","UKUR","KR","ULCU","ULHA","UMRA","NK","UPRA","RK","UKA","UVAL","UVA","DADA","DADAY","DAAR","DACI","DALI","DAHL","DAMA","DAM","DARE","DAKK","DALAK","DALAN","DALA","DALGA","DALGI","DALI","DALIZ","DALLI","DALMA","DALSI","DALYA","DAMAK","DAMAL","DAMAR","DAMAT","DAMGA","DAMLA","DAMLI","DANCA","DANI","DARA","DARAL","DARA","DARBE","DARCA","DAST","DATA","DATF","DAVAR","DAVET","DAVUL","DAVYA","DAYAK","DEBBE","DEBL","DEFN","DEFNE","DEGAJ","DEE","DEER","DEL","DEM","DEN","DE","DEME","DEST","DEZM","DEKAN","DEKAR","DEKOR","DELG","DELK","DELL","DELME","DELTA","DEMC","DEME","DEMEK","DEMET","DEMN","DEMR","DEML","DEMRE","DENEK","DENET","DENEY","DENGE","DENM","DENZ","DENL","DENME","DENYO","DEPAR","DERB","DERG","DERK","DERN","DERME","DERUN","DERYA","DESEN","DEK","DEME","DESTE","DETAY","DEVAM","DEVCE","DEVM","DEVR","DEVRE","DEVR","DEYM","DEY","DBEK","DCLE","DDAR","DDM","DDON","DIAN","DER","DGOR","DKE","DKE","DKEL","DKEN","DKEY","DKM","DK","DKT","DKZ","DKME","DKSE","DKTA","DKTE","DILAK","DLCE","DLC","DLEK","DLM","DL","DLL","DLME","DLS","DMA","DNAR","DNCE","DNC","DNEK","DNEN","DNG","DNGO","DN","DNL","DNME","DPL","DREK","DREN","DREY","DR","DRL","DRM","D","DIIK","DL","DIKI","DSKO","DL","DTME","DVAL","DVAN","DVK","DVT","DYAR","DYET","DYEZ","DYOT","DZEK","DZEL","DZEM","DZEY","DZGE","DZG","DZM","DZN","DZ","DZME","DOBRA","DOA","DOAL","DOAN","DGER","DOGMA","DOMA","DORU","DOUM","DOU","DKME","DKK","DKM","DK","DOKUZ","DOLAK","DOLAM","DOLAP","DOLAR","DOLAY","DLEK","DOLGU","DOLMA","DOLUM","DOLU","DLT","DOMUR","DOMUZ","DONAM","DNE","DNEK","DNEL","DNEM","DNER","DNG","DONLU","DONMA","DNME","DONR","DONRA","DONUK","DNK","DNM","DN","DONUT","DNT","DPER","DORSE","DORUK","DORUM","DEK","DEM","DL","DOSYA","DVE","DVZ","DVME","DV","DOYGU","DOYMA","DOYUM","DOYU","DOZAJ","DOZER","DRAJE","DRAMA","DRFT","DUACI","DUALI","DUBAR","DBEL","DBE","DUBLE","DAR","DUDAK","DDEN","DDK","DGAH","DME","DM","DN","DUHUL","DULDA","DLEK","DULUK","DUMAN","DMEN","DUMUR","DNT","DNK","DNR","DNYA","DURA","DURAK","DURAL","DURGU","DURMA","DRME","DRT","DURUK","DURUM","DRM","DURU","DRZ","DRZ","DUAK","D","DES","DE","DEY","DK","DULU","DME","DK","DN","D","DT","DUTU","DUVAK","DUVAR","DVEL","DVEN","DVER","DUYAR","DYEK","DUYGU","DUYMA","DUYUM","DYUN","DUYU","DZCE","DZE","DZEM","DZEN","DZEY","DZG","DZME","EBCET","EBED","EBEL","EBLEH","ECDAT","EHEL","EDALI","EDEB","EDBE","EDN","EDVAR","EFDAL","EFECE","EFEKT","EFKAR","EFLAK","EFRAT","EFRZ","EFSUN","EFSUS","EGALE","ELEK","EGLOG","EME","EMEK","EMR","EREZ","ERM","EGZOZ","EHRAM","EHVEN","EJDER","EKC","EKL","EKLEM","EKLER","EKMEK","EKOSE","EKRAN","EKSEN","EKSER","EKSK","EKSN","EKSZ","EKR","ELBET","ELEK","ELCK","ELM","ELDEN","ELEJ","ELEME","ELGN","ELHAK","ELF","ELPS","ELLK","ELMAS","ELMEK","ELVAN","ELYAF","ELZEM","EMARE","EMAYE","EMCEK","EMCK","EMC","EMLAK","EMLK","EMME","EMMEK","EMOJ","EMRAZ","EMSAL","EMTA","EMVAL","EMZK","ENAY","ENCAM","ENDAM","ENDER","ENEME","ENEZE","ENFES","ENGEL","ENGN","ENKAZ","ENLEM","ENTE","ENSAR","ENSZ","ENTEL","ENZM","EOSEN","EPEY","EPOPE","EPSEM","ERBAA","ERBAP","ERBA","ERBN","ERCK","ERC","ERDEK","ERDEM","ERDEN","ERGEN","ERGN","ERKA","ERME","ERN","ERKAN","ERKE","ERKEK","ERKEN","ERKN","ERKL","ERLK","ERMEK","ERMN","ERM","ERON","ERSZ","ERVAH","ERZAK","ERZEL","ERZN","ESAME","ESAM","ESANS","EARP","ESAS","ESBAK","ESBAP","ESEME","ESHAM","EHAS","ESRE","EKAL","ESKL","EKN","ESKZ","ESLAF","ESLEK","ELEK","ELEM","ELK","ESMEK","EMEK","ESMER","ESNAF","ESNEK","ESPAS","ESPR","ERAF","ESRAR","EREF","ESRK","ESSAH","ESZ","ESTER","ESTET","ESVAP","ETK","ETL","ETENE","ETFAL","ETKEN","ETKN","ETLK","ETMEK","ETMEN","ETNK","ETRAF","ETSEL","ETSZ","EVAZE","EVCEK","EVCK","EVCL","EVDE","EVGN","EVHAM","EVYE","EVKAF","EVLAT","EVLEK","EVLK","EVRAK","EVRAT","EVREN","EVRK","EVRM","EVSAF","EVSN","EVSZ","EVVEL","EYLEM","EYLL","EYTAM","EYVAH","EYVAN","EYYAM","EZAN","EZBER","EZEL","EZG","EZGN","EZC","EZN","EZNE","EZMEK","FACA","FAGOT","FAH","FAHR","FAHTE","FAHUR","FAKAT","FAKH","FAKR","FAKL","FALAN","FALCI","FALEZ","FALSO","FALYA","FANTA","FANT","FANUS","FANYA","FARAD","FARA","FARBA","FAR","FARL","FASET","FASH","FASIK","FASIL","FAST","FASKA","FASLI","FASON","FATH","FATSA","FAUNA","FAYDA","FAZIL","FAZLA","FECR","FEDA","FEHM","FEHVA","FEKL","FELAH","FELEK","FEMUR","FENC","FENER","FENK","FENN","FENOL","FERA","FERAH","FERDA","FERD","FERH","FERK","FERL","FERMA","FESAT","FESH","FETHA","FETH","FET","FETS","FETVA","FEVR","FEYZ","FBER","FDAN","FDYE","FFRE","FGAN","FGR","FL","FIKIH","FKR","FIKRA","FKR","FLAN","FLAR","FLET","FLZ","FLOZ","FLS","FLUM","FNAL","FNCE","FN","FRAK","FRAR","FIRA","FREZ","FRK","FIRIN","FIRKA","FRMA","FEK","FKA","FSKE","FIKI","FL","FSTO","FT","FITIK","FTL","FTN","FTNE","FTRE","FITR","FYAT","FZK","FLAMA","FLEOL","FLORA","FLRE","FLOR","FLRT","FODLA","FODRA","FODUL","FOKUS","FOLYO","FONDA","FOND","FONEM","FORMA","FOROZ","FORSA","FORSE","FORTE","FORUM","FORZA","FOSL","FRANK","FRAPE","FRENK","FRESK","FREZE","FRGO","FRSA","FUAYE","FUHU","FUJER","FULAR","FLS","FULYA","FUNDA","FNYE","FURYA","FSUN","FTUR","FZEN","GABN","GABRO","GABYA","GADR","GAFL","GAFUR","GALE","GATA","GALAT","GALP","GALZ","GALON","GALOP","GALO","GAMBA","GAMET","GAMLI","GAMZE","GARAJ","GARAZ","GARB","GARP","GAROZ","GASL","GAY","GAUSS","GAVOT","GAVUR","GAYDA","GAYET","GAYRI","GAYR","GAYUR","GAYYA","GAZAL","GAZAP","GAZEL","GAZLI","GAZOZ","GAZVE","GEBE","GEBRE","GEBZE","GEE","GEEK","GEEN","GEER","GEM","GE","GET","GEME","GEDK","GEDZ","GEDME","GELEN","GELM","GELN","GELR","GEL","GELME","GEMRE","GENEL","GEN","GENZ","GENOM","GEOT","GER","GERE","GEREK","GEREN","GERG","GERM","GER","GERZ","GERME","GERZE","GETTO","GEVA","GEVEN","GEV","GEVME","GEYK","GEYA","GEYVE","GEZ","GEZME","GICIK","GICIR","GDER","GIDIK","GIDIM","GDM","GD","GDON","GIPTA","GRAY","GRD","GREN","GRM","GR","GIRLA","GRME","GTAR","GTME","GTT","GIYAP","GYM","GY","GYT","GYME","GYS","GZEM","GZL","GZL","GLASE","GNAYS","GBEK","GBEL","GBT","GCEN","GER","GME","GOCUK","GK","GM","G","GDEN","GDE","GODO","GOFRE","GEM","GS","GKE","GOLC","GLEK","GLET","GLGE","GOLL","GLK","GME","GMME","GMK","GM","GMT","GONCA","GNC","GNEN","GNL","GNYE","GREV","GRG","GORL","GRME","GRM","GR","GOTA","GOTK","GVDE","GVEK","GVEL","GVEM","GYME","GYK","GZC","GZDE","GZER","GZG","GZL","GRADO","GRENA","GRDA","GRZU","GROG","GROSA","GUANO","GUARD","GUATR","GBRE","GBR","GL","GCK","GCN","GUDDE","GDEK","GDK","GDL","GDM","GFTE","GUGUK","GM","GULA","GLC","GLE","GULET","GLLE","GLL","GLME","GLK","GL","GLT","GMAN","GME","GML","GM","GNAH","GNCE","GNDE","GNE","GNE","GNEY","GNL","GPR","GRC","GRE","GURME","GRSU","GRUH","GRN","GURUP","GURUR","GUSTO","GUSL","GTME","GVE","GVEN","GVEY","GVEZ","GZEL","GZEY","GZN","HABBE","HABER","HABE","HABP","HABS","HACET","HACM","HACR","HACZ","HALI","HADDE","HADIM","HADM","HADS","HAFF","HAFK","HAFT","HAFIZ","HAFTA","HAHAM","HAHHA","HALE","HAKAN","HAKAS","HAKA","HAKEM","HAKM","HAKR","HAKLI","HALA","HALAS","HALAT","HALAY","HALEF","HALEL","HALEN","HALET","HALFA","HAL","HALK","HALM","HALS","HALKA","HALUK","HAMAK","HAMAL","HAMAM","HAMEL","HAML","HAM","HAMIZ","HAMLA","HAMLE","HAMSE","HAMS","HAMUR","HAMUT","HANAK","HANAY","HANCI","HANDE","HANEK","HANG","HANIM","HANUT","HANYA","HAPAZ","HAPI","HAPS","HAPU","HARA","HARAM","HARAP","HARAR","HARBE","HARB","HAREM","HAR","HARIM","HARM","HARIN","HARR","HARS","HARLI","HARTA","HASAR","HASAT","HAAT","HASB","HASEP","HASET","HASIL","HAIL","HASIM","HAN","HASIR","HAR","HASS","HA","HAV","HASPA","HASSA","HASSE","HASTA","HASUT","HATAY","HATF","HATIL","HATM","HATP","HATIR","HATM","HATTA","HATUN","HAVA","HAVAN","HAVAS","HAVT","HAVLI","HAVLU","HAVRA","HAVSA","HAVU","HAVUT","HAVUZ","HAVVA","HAVYA","HAVZA","HAYAL","HAYAT","HAYBE","HAYCI","HAYDA","HAYD","HAYFA","HAYIF","HAYIR","HAYIT","HAYIZ","HAYL","HAYTA","HAZAN","HAZAR","HAZCI","HAZIK","HAZIM","HAZN","HAZIR","HAZNE","HAZRO","HECN","HEDEF","HEDER","HEDK","HEKM","HELAK","HELAL","HELEN","HELK","HELS","HELKE","HELME","HELVA","HEMEN","HEMPA","HEMO","HEMZE","HENZ","HEPS","HEREK","HERF","HERK","HERTZ","HERZE","HESAP","HEVES","HEYBE","HEYET","HEZAR","HEZEL","HEZEN","HCAP","HCAZ","H","HCV","HCR","HDV","HDRA","HIFIZ","HKEM","HLAF","HLAL","HLAT","HLT","HLYE","HMEN","HIMI","HND","HNDU","HINIS","HPP","HIRBO","HIRKA","HIRLI","HSAR","HSE","HISIM","HIIM","HIIR","HSL","HSSE","HSS","HTAM","HTAN","HTAP","HTT","HIYAR","HZAN","HIZAR","HZP","HIZIR","HIZLA","HIZLI","HIZMA","HODAN","HODR","HDK","HOKEY","HOKKA","HONAZ","HOPPA","HORON","HOROZ","HORST","HOAF","HOA","HOUR","HOTOZ","HYK","HOZAN","HOZAT","HCRE","HCUM","HUDUT","HKM","HUKUK","HKM","HLLE","HULUL","HULUS","HLYA","HUMAR","HUMMA","HUMOR","HUMUS","HNER","HNSA","HURDA","HRLE","HURMA","HURRA","HURU","HRYA","HUSUF","HUSUL","HSN","HUSUS","HUSYE","HUTBE","HUTUT","HUYLU","HYK","HZME","HZN","HUZUR","IDIR","IRIP","IHMAK","ILGAR","ILGAZ","ILGIM","ILGIN","ILICA","ILIMA","ILTAR","IRAMA","IRGAT","IRKI","IRMAK","IIMA","ISKAT","IKIN","ISLAH","ISLAK","ISLIK","ISRAR","ISSIZ","ISTAR","ITIR","ITLAK","ITRAH","IZGIN","IZRAR","BARE","BATE","BDA","BLA","BLS","BRAZ","BRET","BRK","BZAL","CBAR","ER","C","KN","LEM","LK","CMAL","MEK","REK","SEL","SZ","TEN","YZ","DAD","DAME","DARE","DAR","DDA","DEAL","DMAN","DRAK","DRAR","FADE","FFET","FHAM","FLAH","FLAS","FRA","FRAT","FRAZ","FRT","FSAT","FTAR","DR","D","FAL","LK","HALE","HATA","HBAR","HDAS","HLAK","HLAL","HLAS","HMAL","HRA","HRAM","HRAZ","HSAN","HSAS","HTAR","HVAN","HZAR","KAME","KBAL","KDAM","KC","KL","KLL","KLM","KMal","KONA","KRAH","KRAM","KRAR","KRAZ","KSR","LAHE","LAH","LAVE","LBAY","LEN","LER","LET","LGE","LHAK","LHAM","LHAN","LKAH","LKEL","LKN","LLET","LMEK","LMK","LZAM","MALE","MALI","MAME","MBAT","MBK","MDAT","MECE","MKAN","MLE","MLEK","MLK","MMN","MREN","MROZ","MSAK","NAN","NCK","NCL","NCR","NDS","NFAK","NFAZ","NGN","NKAR","NMEK","NN","NSAF","NSAN","NAT","NTA","NTAK","NTAN","NZAL","PK","PEKA","PHAM","PLK","PSZ","PTAL","PUCU","RADE","RAD","RFAN","RCE","RTE","RKME","RMK","RON","RSAL","RAT","RSEN","SALE","EME","SEV","GAL","SHAL","KAL","SKAN","KL","SKO","SLAM","SLAV","LEK","LEM","LEV","LK","SLM","MAR","SMEN","SMET","SNAT","SPAT","SPR","SPT","SRAF","RET","SZ","TAH","STEK","STEM","STER","TE","STF","STM","STOP","SYAN","YAR","TAAT","TE","THAF","THAL","THAM","TC","TLA","TNA","TLAF","TLK","TMAM","TMEK","VED","VES","VMEK","YCE","ZABE","ZAFE","ZAF","ZALE","ZHAR","ZLEK","ZLEM","ZLEV","ZMR","ZMT","ZNK","ZOLE","ZZET","JAKAR","JANT","JAPON","JARSE","JELOZ","JETON","JKLE","JLET","JOKER","JOKEY","JPON","KABAK","KABAN","KABL","KABN","KABR","KABIZ","KABLO","KABUK","KABUL","KABUS","KABZA","KAAK","KAAR","KAIK","KAI","KALI","KAMA","KATA","KADAR","KADEH","KADEM","KADER","KADM","KADIN","KADR","KADT","KADRO","KADK","KAFES","KAFR","KAFUR","KAAN","KAGR","KAIT","KANI","KAHL","KAHN","KAHIR","KAHR","KAHPE","KAHTA","KAHVE","KAHYA","KADE","KAME","KAKA","KAKAO","KAKI","KAKIM","KAKI","KAKMA","KAKL","KALAK","KALAN","KALAS","KALAY","KALB","KALA","KALCI","KALEM","KALFA","KALI","KALIK","KALIM","KALIN","KALIP","KALI","KALIT","KALMA","KALYA","KAMAN","KAMI","KAMER","KAMET","KAMGA","KAML","KAMI","KAMUS","KANAL","KANAT","KANCA","KANIK","KANI","KAN","KANIT","KANKA","KANLI","KANMA","KANON","KANTO","KANUN","KAPAK","KAPAN","KAPK","KAPI","KAP","KAPLI","KAPMA","KAPR","KAPUT","KAPUZ","KARAF","KARAR","KARAY","KARGA","KARGI","KARGO","KARHA","KARIK","KARIN","KARI","KARLI","KARMA","KARNE","KARN","KAROT","KARI","KARST","KARUN","KARYE","KAAN","KASAP","KAAR","KASEM","KASET","KAF","KASIK","KAIK","KASIM","KASIR","KASS","KASIT","KASKO","KASLI","KALI","KASMA","KASNI","KAST","KATAR","KATI","KATIK","KATL","KATIM","KATP","KATIR","KATKI","KATLI","KATMA","KATOT","KATRE","KAVAF","KAVAK","KAVAL","KAVAS","KAVAT","KAVGA","KAVL","KAVM","KAVS","KAVKI","KAVM","KAVUK","KAVUN","KAVUT","KAVUZ","KAYA","KAYAK","KAYAN","KAYAR","KAYGI","KAYIK","KAYIN","KAYIP","KAYIR","KAYI","KAYIT","KAYMA","KAYME","KAYRA","KAYA","KAZAK","KAZAN","KAZAZ","KAZIK","KAZIL","KAZIM","KAZMA","KEBAN","KEBAP","KEBR","KEBZE","KEDER","KEFAL","KEFEN","KEFL","KEFR","KEFNE","KEHLE","KEKE","KEKRE","KELAM","KELEK","KELEM","KELEP","KELER","KELES","KELE","KELK","KELLE","KELL","KEMAH","KEMAL","KEMAN","KEMER","KEMHA","KEMK","KEMRE","KENAR","KEND","KENEF","KENET","KEPE","KEPEK","KEPEZ","KEPR","KEPME","KERDE","KEREM","KERES","KERH","KERM","KERZ","KERK","KERTE","KERT","KEAN","KEAP","KESAT","KESB","KESEK","KESEL","KESEN","KEEN","KESER","KESF","KEF","KESK","KEK","KESM","KESN","KESR","KES","KE","KEST","KEKE","KESK","KEK","KESME","KESRE","KETAL","KETEN","KETON","KETUM","KEVEL","KEVEN","KEYF","KEYF","KBAR","KBR","KIBLE","KIDEM","KFAF","KKLA","KLER","KILGI","KILI","KILIF","KILIK","KLM","KILIR","KILI","KLS","KLT","KLZ","KILLI","KLL","KILMA","KLS","KLS","KIMIL","KIMIZ","KMSE","KMS","KMYA","KNC","KINIK","KNK","KNN","KN","KINLI","KNL","KNOA","KIPIK","KIPMA","KIPT","KIRA","KIRAN","KIRAT","KIRAY","KRAZ","KIRBA","KIRCA","KIRCI","KRDE","KRE","KREN","KIRIK","KRL","KIRIM","KR","KIRKI","KRL","KIRMA","KRP","KRVE","KISA","KISAS","KISIK","KISIM","KIIN","KISIR","KIIR","KISI","KISIT","KISKA","KISKI","KILA","KISMA","KISM","KSRA","KIR","KISSA","KSVE","KITAL","KTAP","KITIK","KTN","KITIR","KTLE","KTRE","KIVAM","KIYAK","KIYAM","KIYAS","KIYGI","KIYIK","KIYIM","KIYIN","KIYI","KIYMA","KIYYE","KIZAK","KIZAN","KIZIK","KIZIL","KZR","KIZI","KIZMA","KLAPA","KLMA","KLPS","KLE","KOALA","KOBAY","KOBRA","KOAK","KOAN","KEK","KODES","KOFRA","KFTE","KOFT","KOFUL","KOU","KHNE","KOKAK","KK","KKEN","KOKET","KKL","KOKMA","KOKO","KOKOT","KOKOZ","KKS","KOKU","KOLAJ","KOLAN","KOLAY","KOLCU","KOLEJ","KOLK","KOLT","KOLLU","KOLON","KOLPO","KOLSU","KLK","KOLYE","KOLZA","KOMAR","KMBE","KOMB","KME","KOMK","KOMOT","KOMU","KOMN","KMR","KM","KOMUT","KONAK","KONDU","KONK","KONMA","KONSA","KONUK","KONUM","KONUR","KONU","KONUT","KONYA","KOPAL","KOPA","KPEK","KOPL","KOPMA","KOPOY","KPR","KOPUK","KPK","KOPU","KOPUZ","KOPYA","KORAL","KORKU","KORNA","KORNO","KRPE","KORSE","KORTE","KORUK","KRK","KORUN","KORZA","KOA","KOAM","KS","KEK","KSEM","KON","KOMA","KSN","KOUK","KOUL","KOUM","KOUN","KOUT","KOTAN","KTEK","KOTON","KOTRA","KOVAN","KOVCU","KOVMA","KOVUK","KOVU","KOYAK","KOYAR","KYC","KYL","KOYMA","KOYUN","KOYU","KOYUT","KOZAK","KOZAN","KOZLU","KRAA","KRAMP","KRANK","KRAVL","KRED","KREMA","KREPE","KRKO","KROK","KROME","KROE","KUBAT","KUBBE","KBK","KUBUR","KUCAK","KUMA","KK","KUDAS","KUDM","KUDUZ","KFL","KFR","KUKLA","KKRE","KULA","KLAH","KULAK","KLE","KLEK","KULS","KULLE","KLL","KLL","KLOT","KLTE","KULUN","KULP","KUMAN","KUMAR","KUMA","KUMCU","KMES","KUMLA","KUMLU","KUMRU","KUMSU","KUMU","KUMUK","KUMUL","KNC","KUNDA","KNDE","KNYE","KUPES","KUPLE","KPL","KUPON","KUPR","KURAK","KURAL","KURAM","KRAR","KURCA","KRD","KREK","KURGU","KRT","KURMA","KURNA","KURON","KURRA","KRS","KURUL","KURUM","KURUN","KURU","KURUT","KURYA","KURYE","KUAK","KAT","KUA","KUU","KUET","KUKU","KSK","KUSMA","KSME","KNE","KSPE","KSUF","KM","KUSUR","KSUR","KUTAN","KTN","KTLE","KUTLU","KTL","KUTNU","KTR","KUTS","KTK","KUTUP","KUTUR","KUVER","KVET","KUVZ","KUVVE","KUYTU","KUYUM","KUZEN","KUZEY","KUZN","LAIN","LAN","LAKA","LADEN","LADES","LADK","LADN","LAFI","LAFIZ","LAFZ","LAGAR","LAIM","LAIV","LAGOS","LAGN","LAHT","LAHOS","LAHUT","LAHZA","LAKAP","LAKI","LAKN","LAKOZ","LAMBA","LAMEL","LANDO","LANET","LANSE","LAPON","LARGO","LARVA","LASK","LASTA","LATF","LATN","LAVAJ","LAVA","LAVTA","LAVUK","LAYIK","LAZCA","LAZER","LAZIM","LAZUT","LEEK","LEDN","LEGAL","LEEN","LEHE","LEHM","LEMS","LEMUR","LENFA","LENTO","LEPRA","LERZE","LETE","LEVHA","LEVYE","LEYD","LEYL","LEZAR","LEZZ","LBAS","LBO","LBRE","LDER","LFL","LGER","LGHT","LILI","LKEN","LIKIR","LKT","LKR","LMAN","LMBO","LMT","LMON","LNET","LNN","LPT","LPOM","LRET","LRK","LSAN","LSTE","LTRE","LVAR","LYAN","LZOL","LZZ","LOBUT","LODOS","LOGOS","LOJK","LOKAL","LOKMA","LKOZ","LOKUM","LONCA","LONGA","LOPUR","LPR","LORTA","LOA","LOTUS","LFER","LGAT","LGOL","LMEN","LNET","LP","LTUF","LVER","LZUM","MAADA","MABAT","MABET","MABUT","MACAR","MAKA","MACUN","MADAM","MADDE","MADD","MADEM","MADEN","MADER","MADK","MADUN","MAF","MAGMA","MAGR","MAHAL","MAHFE","MAHF","MAHR","MAHIV","MAHRA","MAHUR","MAHUT","MAHYA","MALE","MAJR","MAKAK","MAKAM","MAKAS","MAKAT","MAKET","MAKRO","MAKS","MAKTA","MAKTU","MAKUL","MAKUS","MALAK","MALAY","MALAZ","MALCA","MALCI","MALEN","MALK","MALUL","MALUM","MALYA","MAMAK","MAMBO","MAMUL","MAMUR","MAMUT","MANAS","MANAT","MANAV","MANCA","MANU","MANDA","MANEJ","MANEN","MANGA","MANGO","MANA","MANTI","MANT","MANTO","MAOCU","MAPUS","MARAL","MARA","MARAZ","MARDA","MARZ","MARKA","MARKE","MARK","MARON","MARTI","MARUF","MARUL","MARUZ","MARYA","MASAJ","MASAL","MASAT","MAER","MASF","MASKE","MASNU","MASON","MASR","MASZ","MASTI","MAUK","MASUM","MASUN","MATAH","MATBU","MATEM","MATZ","MATLA","MATUF","MATUH","MAVAL","MAV","MAVNA","MAVRA","MAYIN","MAYIS","MAYNA","MAZAK","MAZOT","MAZUR","MEBDE","MEBZ","MEBN","MEBUS","MECAL","MECAZ","MECRA","MECUS","MEDAR","MEDET","MEDH","MEDZ","MEDYA","MEFUL","MEER","MEHAZ","MEHD","MEHL","MEHLE","MEKAN","MEKK","MELAL","MELAS","MELCE","MELEK","MELES","MELE","MELEZ","MELK","MELON","MELUL","MELUN","MEMAT","MEMBA","MEMNU","MEMUL","MEMUR","MENFA","MENF","MENE","MENUS","MERAK","MERAM","MERC","MEREK","MERES","MERET","MER","MERH","MERM","MESA","MESAJ","MEBU","MESEL","MESEN","MESH","MEN","MESMU","MERU","MESUL","MEUM","MESUT","METAL","METAN","METBU","METL","METN","METS","METOT","METRE","METRO","MEVDU","MEVK","MEVLA","MEVTA","MEVUT","MEVZ","MEVZU","MEYAN","MEYL","MEYUS","MEYVE","MEZAR","MEZAT","MEZON","MEZRA","MEZRU","MEZUN","MEZR","MEZZO","MEL","MICIR","MDYE","MIHI","MIHLI","MKAP","MKOZ","MKRO","MLAS","MLAT","MLEL","MLM","MLS","MLL","MMAR","MMK","MML","MNK","MNR","MRA","MRAS","MRAT","MRM","MIRRA","MRZA","MSAK","MSAL","MSEL","MSL","MISIR","MSS","MISRA","MTL","MTOS","MTOZ","MYAR","MYAV","MYAZ","MYOM","MYOP","MZA","MZAH","MZAN","MOBL","MBLE","MODEL","MODEM","MODL","MOOL","MOHER","MOLAS","MOLLA","MOLOZ","MONAT","MONTE","MOPET","MORAL","MOREN","MORTO","MORUK","MSY","MOTEL","MOTF","MOTOR","MOTTO","MOUSE","MOZAK","MUARE","MBAH","MUCP","MUCR","MUCT","MUCUK","MUCUR","MDR","MFT","MUFLA","MFT","MULA","MUHAL","MUHAT","MUHK","MUHL","MHM","MUHP","MUHT","MHRE","MHR","MJDE","MUJK","MUKM","MUKN","MUKUS","MULAJ","MLGA","MLK","MMAS","MUMCU","MMN","MUMLU","MUMYA","MUNS","MN","MRA","MURAT","MURS","MRT","MRUR","MUSAP","MUSIR","MR","MUSKA","MULU","MUSON","MUTA","MUTU","MUTAF","MUTAT","MUTU","MUTK","MUTLU","MUYLU","MZ","MZK","MUZP","MUZIR","MUZSU","MUZUR","NABIZ","NACAK","NAAR","NAZ","NADAN","NADAS","NADM","NADR","NAFA","NAFZ","NAFTA","NAME","NAHAK","NAHF","NAHIR","NAHV","NAHO","NAKD","NAKL","NAKP","NAKIS","NAKI","NAKT","NAKIZ","NAKL","NAK","NALAN","NALA","NALIN","NALLI","NAMAZ","NAMLI","NAMLU","NAMUS","NANAY","NANK","NARN","NAAD","NASIL","NASIP","NASP","NASIR","NASR","NAR","NATIR","NATUK","NATR","NAZAL","NAZAR","NAZK","NAZL","NAZIM","NAZIR","NAZR","NAZLI","NEBAT","NECAT","NECP","NEDBE","NEDEN","NEDM","NEFER","NEFES","NEFHA","NEFR","NEFS","NEFY","NEFS","NEFTE","NEFT","NEHR","NEHY","NEKES","NEKRE","NELER","NEME","NEML","NEMSE","NESEP","NEET","NES","NESH","NESL","NESM","NESR","NER","NESNE","NEVR","NEYE","NEYSE","NEZF","NEZH","NEZR","NEZLE","NCEL","NN","NFAK","NDE","NHA","NHAN","NKAH","NKAP","NKEL","NMET","NNN","NPEL","NSA","NSAN","NAN","NSAP","NISIF","NSP","NTEL","NYAZ","NYET","NZAM","NZP","NBET","NODUL","NODL","NOGAY","NOHUT","NOKRA","NOKTA","NONO","NRON","NOTAM","NOTER","NANS","NFUS","NFUZ","NKTE","NKUL","NUKUT","NUMEN","NURLU","NSHA","NUTUK","NZUL","OBERJ","OBRUK","OCUMA","ODACI","ODALI","ODEON","ODSUZ","OFANS","OFLAZ","OFRS","OFSET","OLAK","OLAN","OJEL","OKAP","OKLUK","OKRUK","OKST","OKTAN","OKTAV","OKUMA","OKUME","OLASI","OLCAY","OLUM","OLEK","OLEN","OLGUN","OLMAK","OLMAZ","OLMU","OLURU","OMBRA","OMBRE","OMLET","ONAMA","ONDAN","ONGEN","ONGUN","ONKS","ONLAR","ONLUK","ONMAK","ONSUZ","OOST","OPERA","OPTK","ORALI","ORASI","ORCK","ORFOZ","ORGAN","ORGCU","ORON","ORKT","ORLON","ORMAN","ORTA","ORTAK","ORTAM","ORTAY","ORTEZ","ORTOZ","OTACI","OTAMA","OTUL","OTST","OTZM","OTLAK","OTLUK","OTSUL","OTSUZ","OVALI","OVMA","OVMAK","OYACI","OYALI","OYDA","OYLUM","OYMAK","OYNAK","OYNA","OZMOZ","OZUGA","BR","DEME","DLEK","DN","LEN","REK","KSZ","LEK","LER","LME","LM","LN","L","LT","LGN","LMEK","LMEZ","LM","NCEL","NCL","NDER","NER","NEZE","NLEM","NLK","NSEL","PMEK","RCN","RDEK","REKE","RGEN","RGN","RGT","RMEK","RNEK","RTME","RTK","RT","RC","RL","TEK","TMEK","TC","TR","VMEK","VC","VN","ZALP","ZBEK","ZDEK","ZDEN","ZDE","ZEME","ZEN","ZEN","ZERK","ZGL","ZGN","ZGR","ZLEM","ZLK","ZNEL","ZSEL","PABU","PAAL","PAOZ","PADIL","PADOK","PAFTA","PAGAN","PAHAL","PAKET","PALAN","PALAS","PALAZ","PALET","PALTO","PAMPA","PAMUK","PANO","PANDA","PANEL","PANK","PAPAK","PAPAZ","PAPEL","PARAF","PARA","PARKA","PARKE","PARPA","PARSA","PART","PARYA","PASAJ","PASAK","PASI","PASF","PASLI","PASR","PASTA","PATAK","PATAL","PATEN","PATK","PATOZ","PATSO","PAUNT","PAYAN","PAYAS","PAYDA","PAYEN","PAYET","PAYLI","PAZAR","PAZEN","PE","PEDAL","PEDER","PEKE","PELN","PELT","PELTE","PELR","PEL","PEMBE","PENE","PENES","PENG","PENS","PENSE","PENYE","PERDE","PEREN","PERK","PERMA","PERM","PERON","PERUK","PERVA","PESEK","PEN","PEL","PETU","PESS","PETEK","PEYDA","PEYKE","PGME","PIHTI","PKAJ","PKAP","PKET","PLAV","PL","PLL","PLOT","PINAR","PNEL","PNES","PNT","PPET","PRT","PIRPI","PIRTI","PEK","PIIK","PSK","PK","PM","PSN","PISMA","PME","PT","PTON","PVOT","PYAN","PYAZ","PYES","PYON","PZZA","PLAKA","PLASE","PLAT","PLATO","PLAZA","PLL","PLSE","PK","POKER","POLAK","POLAR","POLAT","POLEN","POLM","POLP","POLS","POLKA","POLM","POMAK","POMAT","POMPA","PONJE","PONZA","POPU","PORNO","PORTE","PORTO","POET","POSOF","POSTA","POTAS","POTN","POTUK","POTUR","POYRA","POZLU","PRAFA","PRENS","PRESE","PRNT","PROJE","PROVA","PRUVA","PUDRA","PUFLA","PULCU","PULLU","PULSU","PULU","PUMBA","PNEZ","PUNTA","PUNTO","PREN","PRZ","PUSAT","PUSET","PUSLU","PUSMA","PSR","PTR","PUVAR","RABIT","RACON","RADAR","RADDE","RADON","RADYO","RAFT","RAFLI","RAFYA","RAGB","RAHAT","RAHM","RAHP","RAHLE","RAHNE","RAKAM","RAKET","RAKK","RAKIM","RAKP","RAKT","RAKOR","RAKUN","RALL","RAMAK","RAMPA","RANDA","RANZA","RAPOR","RASAT","RASIT","RASPA","RASYO","RATIP","RAUNT","RAYBA","RAY","RAYLI","REAYA","REBAP","REEL","RECEP","RECM","REDF","REFAH","REFK","REFL","REFJ","REHN","REJM","REKAT","REKZ","REKOR","REMEL","REML","REMZ","REMZ","RENDE","RESEN","RESF","RESM","RET","REME","RESM","RESTO","RESUL","REVA","REVAK","REVAN","REVR","REV","REYON","REZL","RCAL","RCAT","RJT","RMEL","RNGA","RTM","RYAL","RIZIK","ROBOT","RODAJ","RODEO","RFLE","RGAR","ROKET","ROLC","RLK","ROMAN","ROMEN","RONDO","ROSTO","RTAR","ROTL","ROTOR","RTU","ROZET","RUBA","RUBLE","RESA","RUFA","RUGAN","RUHA","RUHU","RUHEN","RUHLU","RUJLU","RKN","RK","RULET","RUMBA","RUMCA","RUMEN","RUMUZ","RUNK","RUSA","RSUM","RSUP","RSVA","RTBE","RUTN","RYET","SABAH","SABAN","SABIK","SABIR","SABT","SABUH","SABUN","SABUR","SAAK","SAIK","SAI","SALI","SAMA","SADAK","SADET","SADIK","SADK","SADIR","SADME","SAFA","SAFER","SAFHA","SAFR","SAFRA","SACI","SAIM","SAIN","SAIR","SAMA","SARI","SAHAF","SAHAN","SAHH","SAHL","SAHP","SAHNE","SAHRA","SAHRE","SAHTE","SAHUR","SAKA","SAKAF","SAKAK","SAKAL","SAKAR","SAKAT","SAKL","SAKM","SAKIN","SAKN","SAKIT","SAKT","SAKIZ","SAKLI","SAKSI","SALAH","SALAK","SALAM","SALAR","SALA","SALAT","SALA","SALCI","SALEP","SALGI","SALIK","SALK","SALM","SALP","SALLI","SALMA","SALON","SALOZ","SALPA","SALSA","SALTA","SALTO","SALUR","SALVO","SALYA","SAMAN","SAMBA","SAMSA","SAMUR","SAMUT","SANAL","SANAT","SANCI","SANEM","SANGI","SANIK","SANI","SANK","SANLI","SANMA","SANRI","SAPAK","SAPAN","SAPIK","SAPI","SAPKI","SAPLI","SAPMA","SARA","SARAK","SARAT","SARAY","SARGI","SARG","SARH","SARIK","SARIM","SARI","SARIZ","SARMA","SARPA","SASON","SATEN","SATH","SATIH","SATIM","SATIR","SATR","SATI","SATMA","SAUNA","SAVAK","SAVAN","SAVAP","SAVA","SAVAT","SAVCA","SAVCI","SAVI","SAVLA","SAVLO","SAVMA","SAVUR","SAYA","SAYFA","SAYGI","SAYHA","SAYIM","SAYIN","SAYI","SAYMA","SAYRI","SAZAK","SAZAN","SAZCI","SAZLI","SEANS","SEBAT","SEBEN","SEBEP","SEBL","SEBZE","SEAL","SECDE","SEM","SE","SEK","SEME","SEDEF","SEDR","SEDYE","SEFER","SEFH","SEFL","SEFR","SEGAH","SEHER","SEHM","SEHV","SEHPA","SEKEL","SEKL","SEK","SEKZ","SEKME","SEKS","SEKTE","SELAM","SELEF","SELEK","SELEN","SELM","SELS","SELVA","SELV","SEMAH","SEMA","SEMAN","SEMEN","SEMER","SEMH","SEMZ","SENCE","SENEK","SENET","SENR","SENT","SEPEK","SEPET","SEPYA","SERAK","SERAP","SERE","SEREN","SERG","SERK","SERM","SERN","SER","SERME","SERUM","SERV","SES","SESL","SETER","SETK","SETR","SETRE","SEVAP","SEVDA","SEVER","SEVG","SEVM","SEVR","SEV","SEVME","SEYEK","SEYR","SEYS","SEYT","SEZG","SEZ","SEZME","SEZON","SBER","SBOP","SICAK","SIAN","SCL","SCM","SIMA","SDK","SIFAT","SIFIR","SFON","SIA","SGAR","SL","SIIN","SIIR","SILA","SIMA","SIHH","SHR","SIHR","SRT","SIKA","SIKIM","SIKIT","SKKE","SIKMA","SKME","SLAH","SLAJ","SLG","SLK","SLS","SL","SLK","SLLE","SLME","SIMAK","SMAV","SMGE","SMT","SMYA","SINA","SINAV","SINDI","SNEK","SINIF","SINIK","SNK","SINIR","SNR","SN","SNLE","SINMA","SNME","SNOP","SNS","SNS","SPER","SPS","SIRAT","SIRA","SIRCI","SREN","SRET","SIRIK","SIRIM","SRKE","SIRLI","SIRMA","SRMO","SROZ","SRTO","SISKA","SSL","STEM","STL","SITMA","SVAS","SIVAT","SIVIK","SVL","SVR","SYAH","SYAK","SYER","Syme","SIZAK","SZCE","SIZI","SIZMA","SKALA","SKNK","SLASH","SLAYT","SOFRA","SOFTA","SOAN","SOUK","S","ST","SOKAK","SKEL","SOKET","SOKMA","SKME","SOKRA","SKK","SOKUM","SKM","SKN","SOKUR","SOKU","SK","SOLAK","SOLCU","SOLMA","SLOM","SOLOZ","SOLUK","SOLU","SOMAK","SOMON","SOMUN","SOMUT","SOMYA","SONAR","SONAT","SONDA","SONK","SONLU","SNME","SONRA","SONU","SNK","SNM","SN","SORGU","SORT","SORMA","SORT","SORUM","SORUN","SORU","SOSS","SVEN","SVG","SVME","SV","SOYKA","SOYLU","SOYMA","SOYUM","SOYU","SOYUT","SZCE","SZC","SZDE","SZEL","SZL","SPAZM","SPERM","SPREY","STANT","START","STAT","STENO","STENT","STEPS","STLO","STRE","STRES","STUPA","SUARE","SUBAY","SBEK","SUBRA","SBUT","SUBYE","SBYE","SULU","SUCUK","SUCUL","SCUT","SUDAK","SUDAN","SUFLE","SFL","SME","SKSE","SKUN","SUKUT","SKUT","SULAK","SULTA","SULUK","SLUK","SLK","SLN","SLS","SUMAK","SMEK","SMEN","SMER","SMK","SUNAK","SUNGU","SNG","SUNMA","SNME","SNN","SUNTA","SUNUM","SUNU","SUOKU","SUPAP","SPER","SUPLA","SURAT","SRAT","SRE","SREK","SREM","SURET","SRFE","SRG","SRME","SRRE","SURU","SRM","SRUR","SR","SUSAK","SUSAM","SSEN","SUSKU","SSL","SUSMA","SSME","SUSTA","SUSU","SUSUZ","SUTA","ST","SUTLU","STL","STRE","STS","STUN","SUVAT","SVEN","SVME","SYEK","SUYUK","SYM","SZEK","SZG","SZME","SZK","SZ","ABAN","ABA","AFAK","AF","AFUL","AHAP","AHN","AHIS","AHT","AHNE","AHS","ABE","ARE","AKAK","AKIT","AKUL","ALAK","AMAN","AMAR","AML","ANLI","API","APEL","APKA","APLI","ARAP","ARKI","ARK","ARP","ARYO","AAA","AMA","ATIR","AVUL","AYAK","AYAN","AYET","AYA","AYKA","EBEK","EDDE","EDT","EFK","EHR","EHT","EHLA","EKEL","EKER","EKL","EKL","EKVA","ELEK","ELPE","EMSE","EMS","EPT","ERAN","EREF","ERHA","ERF","ERK","ERR","ERT","ERPA","ETM","FON","FRE","KAR","LEM","LEP","LN","LTE","MAL","MD","INAV","NK","NTO","IPKA","IRAK","RAN","RN","EK","K","KO","L","ME","TAP","OFR","LEN","MZ","OPAR","ORCA","OSET","OSON","OVEN","YLE","UARA","UBAT","UHUT","KR","MUL","UNCA","PHE","URUP","TAALA","TABAK","TABAN","TAB","TABP","TABR","TABLA","TABLO","TABUR","TABUT","TABYA","TACK","TACL","TACR","TACZ","TALI","TADAT","TADL","TADIM","TAFRA","TAFTA","TAHIL","TAHN","TAHR","TAHRA","TAHTA","TAKAS","TAKAT","TAKIK","TAKIM","TAKM","TAKP","TAKKE","TAKLA","TAKMA","TAKOZ","TAKSA","TAKS","TAKT","TAKVA","TALAK","TALAN","TALAS","TALA","TALAZ","TALEP","TALER","TALH","TALK","TALL","TALM","TALP","TAMAH","TAMAM","TAMK","TAMM","TAMR","TANEN","TANGO","TANIK","TANIM","TANN","TANI","TANIT","TANRI","TAOCU","TAPAN","TAPR","TAPI","TAPMA","TAPON","TARAF","TARAK","TARA","TARAZ","TARET","TARF","TARH","TARK","TARIM","TARZ","TARLA","TARTI","TAAK","TASAR","TAI","TASD","TAIL","TASIM","TAIM","TAIT","TALI","TASMA","TAMA","TASN","TARA","TASI","TATAR","TATL","TATLI","TATMA","TAVAF","TAVAN","TAVAS","TAVCI","TAVK","TAVIR","TAVZ","TAVLA","TAVLI","TAVUK","TAVUS","TAYCA","TAYFA","TAYGA","TAYIN","TAYN","TAYP","TAZM","TAZP","TAZZ","TEAL","TEAT","TEBAA","TEBER","TECL","TECM","TEDA","TEDP","TEET","TEHR","TEST","TEZM","TEK","TEKEL","TEKER","TEKL","TEKN","TEKR","TEKT","TEKKE","TEKL","TEKME","TEKNE","TEKST","TELA","TELEF","TELEK","TELEM","TELES","TELF","TELN","TELS","TELL","TELS","TELVE","TEMAS","TEMEK","TEMEL","TEMN","TEMZ","TEMPO","TENGE","TENHA","TENS","TENOR","TENTE","TENYA","TEOR","TEPK","TEPR","TEP","TEPKE","TEPK","TEPME","TEPS","TERAS","TERB","TEREK","TERES","TERF","TERM","TERK","TERL","TERME","TERR","TERZ","TEC","TESR","TESS","TEST","TENE","TESR","TER","TEST","TEY","TETK","TETR","TEVD","TEVEK","TEVL","TEVK","TEVS","TEVZ","TEYEL","TEYT","TEYZE","TEZAT","TEZCE","TEZEK","TEZL","TIBB","TIFIL","TFS","TIKA","TKEL","TIKIM","TIKIR","TIKIZ","TIKMA","TLK","TLLO","TIMAR","TMS","TINAZ","TNER","TINMA","TPK","TIPKI","TRAJ","TIRAK","TRAN","TIRA","TRAT","TIRCI","TIRIK","TIRIL","TIRIS","TRT","TRZ","TRLE","TRE","TRS","TTAN","TTZ","TOHUM","TOKA","TOKAT","TOKLU","TOKUZ","TOKYO","TOLGA","TOMAK","TOMAR","TONAJ","TONER","TONGA","TONK","TONLA","TONLU","TONOZ","TONYA","TOPA","TOPAK","TOPAL","TOPAZ","TOPU","TOPK","TOPLA","TOPLU","TOPUK","TOPUR","TOPUT","TOPUZ","TORAK","TORBA","TREL","TREN","TORK","TORNA","TRP","TORTU","TORUL","TORUM","TORUN","TOSUN","TOSYA","TOTAL","TOTEM","TVBE","TOYCA","TOYCU","TOYGA","TOZAN","TZEL","TOZLU","TOZMA","TRAFO","TRAKE","TRANS","TRAN","TRATA","TREND","TRKO","TROMP","TRST","TUFAN","TFEK","TUGAY","TUCU","TULA","TULU","TURA","TUHAF","TLEK","TULUK","TULUM","TULUP","TUMAN","TUMBA","TMCE","TMEL","TMEN","TMEY","TMR","TMR","TNEK","TNEL","TUNK","TP","TPL","TURA","TURAN","TRAP","TURBA","TRBE","TURBO","TREL","TREM","TREV","TURFA","TRK","TRK","TRL","TURNA","TURNE","TURNO","TURU","TURTA","TRM","TUBA","TULU","TUTA","TUTAK","TUTAM","TUTAR","TUTKU","TUTMA","TTME","TTS","TUTUK","TUTUM","TTN","TUTU","TUTYA","TUVAL","TVAN","TVT","TYL","TYME","TYS","TUYU","TUZAK","TUZCU","TZEL","TUZLA","TUZLU","TUZSU","TZK","TVST","UARI","UKUN","UKUR","UMAK","UMAN","USUZ","UCUBE","UUCU","URAK","URA","URUN","UKALA","UKNUM","ULAMA","ULEMA","ULUFE","ULUMA","UMACI","UMMAK","UMMAN","UMUM","UNLUK","UNSUR","URBAN","URGAN","USAN","USARE","UKUN","USKUR","UAK","USSAL","USUL","UTAN","UTMAK","UYARI","UYGAR","UYGUN","UYGUR","UYLUK","UYMAK","UYMAZ","UYRUK","UYSAL","UYUMA","UZAMA","UZLET","UZLUK","UZMAN","UZZAL","GEN","GL","KAT","LER","LK","CRET","TA","DEBA","FLE","RM","LFET","LGER","LKER","LSER","MERA","MMET","MRAN","NDE","NTE","NLEM","NSZ","NVAN","REME","REM","RGP","RKEK","RKME","RK","RME","RYAN","EN","SERA","SKF","SLUP","MEK","STAT","STEL","STL","STN","ME","TMEK","TC","TL","ZERE","ZER","ZGN","ZLK","ZMEK","ZC","ZN","VACP","VAGON","VAHM","VAHT","VAHY","VAH","VAKAR","VAKFE","VAKIA","VAKIF","VAKT","VAKUM","VAKUR","VALZ","VALLA","VALR","VANLI","VAPUR","VARAK","VARAN","VARDA","VARGI","VARL","VARI","VARS","VART","VARMA","VARO","VARTA","VARTO","VAAK","VASAT","VASIF","VASIL","VATAN","VATKA","VATOZ","VAZIH","VEBAL","VEHE","VECH","VECZ","VEDA","VEFAT","VEHM","VEKL","VELET","VELUR","VELUT","VENS","VERD","VEREM","VEREV","VERG","VERM","VER","VERT","VERME","VEZN","VEZR","VEZNE","VICIK","VDEO","VGLA","VLLA","VRAJ","VRAL","VRAN","VRS","VSAL","VSK","VNE","VTES","VTR","VYAK","VYOL","VZON","VZR","VOKAL","VOLAN","VOLTA","VONOZ","VOTKA","VOYVO","VCUT","VUKUF","VULVA","VURA","VURGU","VURMA","VURUK","VURU","VRUT","VSAT","VUSUL","VUZUH","YABAN","YABGU","YAFTA","YAAR","YACI","YAIR","YAI","YAIZ","YALI","YAMA","YASI","YAHEY","YAHN","YAH","YAHUT","YAKIM","YAKIN","YAKN","YAKI","YAKIT","YAKMA","YAKUT","YALAK","YALAN","YALAZ","YALIM","YALIN","YALIZ","YALPA","YALPI","YAMA","YAMAK","YAMAN","YAMI","YAMUK","YANAK","YANAL","YANAY","YANAZ","YANCI","YANGI","YANIK","YANI","YANIT","YANKI","YANLI","YANMA","YANSI","YAPAK","YAPAY","YAPIK","YAPIM","YAPI","YAPIT","YAPMA","YARAN","YARAR","YARA","YARDA","YAREN","YARGI","YARIK","YARIM","YARIN","YARI","YARKA","YARMA","YASAK","YASAL","YAAM","YAA","YASN","YAIT","YASLI","YALI","YASMA","YASSI","YATAK","YATAY","YATI","YATIK","YATIM","YATIR","YATI","YATMA","YATSI","YAVAN","YAVA","YAVER","YAVRU","YAVSI","YAVUZ","YAYAN","YAYGI","YAYIK","YAYIM","YAYIN","YAYI","YAYLA","YAYLI","YAYMA","YAZAR","YAZGI","YAZIK","YAZIM","YAZIN","YAZIR","YAZI","YAZIT","YAZMA","YEDEK","YEDZ","YEDME","YEGAH","YEGAN","YEEN","YEN","YEN","YEKD","YEKTA","YELE","YELEK","YELN","YELL","YELME","YELVE","YEMC","YEMEK","YEMN","YEM","YENGE","YENG","YENK","YENL","YENME","YEREL","YEREY","YERG","YERL","YERME","YEL","YEM","YETER","YETK","YETM","YETKE","YETK","YETME","YEVM","YEYG","YEZT","YIIN","YII","YT","YIMA","YIKIK","YIKIM","YIKI","YIKMA","YILAN","YILGI","YILIK","YILKI","YILMA","YIRIK","YRK","YRM","YTK","YTM","YT","YTME","YVL","YYM","YY","YOBAZ","YOUN","YOKU","YOKSA","YOKUM","YOKU","YOLAK","YOLCU","YOLLU","YOLMA","YOLUK","YOMRA","YONCA","YNEY","YONGA","YNL","YONMA","YONTU","YORGA","YORMA","YORTU","YRK","YORUM","YOSMA","YOSUN","YUDUM","YUFKA","YUKA","YK","YKL","YKM","YKN","YULAF","YULAR","YLG","YLK","YUMAK","YUMMA","YUMRU","YUMUK","YUNAK","YUNAN","YNL","YUNMA","YUNUS","YURDU","YREK","YRK","YSR","YUTAK","YUTMA","YUTUM","YUTU","YUVAK","YUVAR","YUVGU","YZDE","YZER","YZEY","YZL","YZME","YZK","YZ","ZABIT","ZABT","ZAFER","ZAAR","ZACI","ZALI","ZAHR","ZAHT","ZAHME","ZALM","ZAMAN","ZAMR","ZAMLI","ZAMME","ZANKA","ZANLI","ZARAR","ZARCI","ZARF","ZARSI","ZARTA","ZATEN","ZAYIF","ZEBAN","ZEBRA","ZEBUN","ZEBUR","ZECR","ZECR","ZEFR","ZEHAP","ZEHR","ZEKAT","ZEKER","ZELL","ZELVE","ZEMN","ZENC","ZENNE","ZERDE","ZERRE","ZEVAL","ZEVAT","ZEVCE","ZEYL","ZIBIN","ZFAF","ZFN","ZFR","ZFOS","ZGON","ZGOT","ZHAF","ZHN","ZIHLI","ZHN","ZKR","ZLL","ZIMBA","ZMM","ZIMN","ZNDE","ZIPIR","ZIPKA","ZRA","ZIRVA","ZRVE","ZYAN","ZLOT","ZOMB","ZONAL","ZORBA","ZORCA","ZORLA","ZORLU","ZORUN","ZBDE","ZHAL","ZHRE","ZHUL","ZUHUR","ZKAM","ZLAL","ZLF","ZULM","ZMRE","ZPPE","ZURNA","ZRRA","ZYUF","AFAK","BRUN","EKOLU","KEKK","MAFYA","MECMU","MIGIR","MIGR","SIYGI","SYEK","YARAK","YEKUN"]'),6:JSON.parse('["ABAJUR","ABAKS","ABANI","ABANMA","ABANOZ","ABARTI","ABASIZ","ABAZAN","ABDEST","ABLACI","ABLUKA","ABORDA","ABRAMA","ABSENT","ABSTRE","ABSRT","ABUKA","AACAK","ACAYP","AELYA","ACEMCE","ACENTE","ACIGL","AIKA","AIKI","ACIKI","ACIKLI","ACIKMA","ACLEN","ACILIK","AILIM","AILI","AILMA","ACIMAK","ACIMIK","ACIMSI","AINIM","ACINI","ACINMA","AINMA","ACIRAK","ACIRGA","AISAL","ACISIZ","ACITI","ACITMA","ACIYI","AKICI","AKILI","AMACI","ACYOCU","ADACIK","ADACYO","ADAKLI","ADALAR","ADALAT","ADALET","ADAMAK","ADAMCA","ADAMCI","ADANI","ADANMA","ADAPTE","ADATI","ADATMA","ADAVET","ADAYI","ADEMC","ADENT","ADETE","ADLK","ADLYE","AFACAN","AFAKAN","AFERN","AF","AFYET","AFOROZ","AFRKA","AABEY","AACIK","AALI","AASI","AALIK","AGANTA","AARIK","AARI","AARMA","AARTI","ADACI","ADALI","AIMLI","AIRCA","AITI","AIZLI","ALAMA","ALATI","ANAMA","AGNOS","AGRAF","AGREGA","ARILI","ARIMA","AGUCUK","AHACIK","AHARCI","AHARLI","AHESTE","AHLK","AHREN","AHRET","AHIRLI","AHLAK","AHLAMA","AHUVAH","ALECE","ALEV","ATLK","AJANDA","AJURLU","AKAA","AKAMET","AKARCA","AKARET","AKARSU","AKASMA","AKASYA","AKBABA","AKEL","AKDARI","AKIBET","AKILCI","AKILLI","AKIMCI","AKIMLI","AKINCI","AKINTI","AKILI","AKSL","AKIMA","AKITA","AKITI","AKTL","AKITMA","AKLAMA","AKLYE","AKREN","AKRABA","AKSAMA","AKAMA","AKSATA","AKSEK","AKSNE","AKSONA","AKTRE","AKTRS","AKTEL","AKTER","AKYAKA","AKYAZI","AKYURT","ALABA","ALACAK","ALAAM","ALAIK","ALADA","ALAKOK","ALAMET","ALAMOT","ALANYA","ALAPLI","ALARGA","ALARMA","ALAIM","ALATAV","ALATEN","ALAYCI","ALAY","ALAYLI","ALAYSI","ALBATR","ALBEN","ALBNO","ALICI","ALILI","ALDAN","ALEKS","ALEMC","ALENEN","ALERJ","ALESTA","ALETL","ALEVL","ALFABE","ALGLER","ALAA","ALDAT","ALIKA","ALMCE","ALIMCI","ALIMLI","ALINDI","ALINI","ALINLI","ALINMA","ALINTI","ALIIK","ALIKI","ALIMA","ALVRE","ALKAL","ALLAMA","ALLAME","ALOFON","ALPAKA","ALPAKS","ALPLIK","ALM","ALTILI","ALTLIK","ALTMI","ALTSIZ","ALTUN","ALTST","ALUCRA","ALFTE","ALMN","ALVEOL","ALYANS","AMALI","AMALIK","AMANIN","AMASIZ","AMASRA","AMASYA","AMATR","AMAZON","AMBALE","AMBLEM","AMENNA","AMENT","AMETAL","AMFB","AMFORA","AMLAZ","AMPL","AMRAL","AMRCE","AMTOZ","AMNEZ","AMORT","AMYANT","ANACIK","ANACIL","ANADUT","ANAFOR","ANALIK","ANALZ","ANALOG","ANAMAL","ANAMUR","ANANAS","ANANAT","ANAR","ANASIL","ANASIR","ANASIZ","ANASON","ANBEAN","ANEZ","ANEMK","ANEMON","ANGAJE","ANGORA","ANGUD","ANDEN","ANILIK","ANLK","ANLN","ANILI","ANILMA","ANINDA","ANIRI","ANIRMA","ANIRTI","ANISAL","ANITLI","ANITSI","ANIZLI","ANJYO","ANKARA","ANLAMA","ANLATI","ANOFEL","ANONM","ANORAK","ANSIMA","ANTANT","ANTKA","ANTYE","ANTROK","ANTSIZ","APAIK","APALAK","APARAT","APAREY","APARMA","APATT","APAYRI","APIAK","APIIK","APIMA","APLKE","APOLET","APREC","APREL","APSEL","APSENT","ARABAN","ARALI","ARAFAT","ARAKI","ARAKLI","ARALIK","ARAMAK","ARAMCA","ARANI","ARANJE","ARANMA","ARANTI","ARAPA","ARAROT","ARASAT","ARAT","ARASIZ","ARAMA","ARASTA","ARATI","ARATMA","ARAYI","ARAYZ","ARAZZ","ARBEDE","ARDYE","ARGAL","ARGOLU","ARHAV","ARICAK","ARIKI","ARILAR","ARILIK","ARINIK","ARINI","ARINMA","AROSO","ARITIM","ARITI","ARITMA","ARTM","ARYET","ARKAK","ARKALI","ARKEEN","ARKTK","ARMADA","ARMALI","ARMON","ARMUD","ARNKA","ARPACI","ARSLAN","ARTIL","ARTST","ARTMAK","ARTOVA","ARTRT","ARTROZ","ARTVN","ARUSEK","ARZAN","ARZULU","ASACAK","ASALAK","ASALET","AARCI","ASAY","ASBEST","ASEPS","AERAT","AERME","ASETAT","ASETK","ASETON","ASFALT","ASGAR","AHANE","AKAR","AIKLI","ASLK","ASILI","ASILLI","ASILMA","AILMA","ASILTI","AINIM","AINI","AINMA","ASINTI","AINTI","ARET","AIRI","AIRMA","AIRTI","AISIZ","ASTL","AYAN","AKALE","ASKER","ASKICI","ASKIDA","ASKILI","AKSIZ","ASLYE","ASMALI","ASORT","AFTE","ASUMAN","ASURCA","ASYALI","ATABEY","ATAKUM","ATALET","ATALIK","ATAMAK","ATAMAN","ATANI","ATANMA","ATARLI","ATAVK","ATAYI","ATBAI","ATEST","ATEZM","ATELYE","ATE","ATEN","ATEL","ATIFET","ATILIM","ATILI","ATILMA","ATIMCI","ATIMA","ATKILI","ATLAMA","ATMACA","ATLYE","ATOMAL","ATOMCU","ATOMK","ATONAL","AVADAN","AVALCA","AVAMCA","AVANAK","AVANOS","AVANTA","AVARCA","AVARIZ","AVARYA","AVDET","AVERAJ","AVSTO","AVLAMA","AVRUPA","AVUKAT","AVUNMA","AVUNTU","AVUNU","AVUTMA","AVUTU","AYAKI","AYAKLI","AYAKSI","AYAKTA","AYARCI","AYARLI","AYARTI","AYAZMA","AYBAI","AYBEAY","AYDEDE","AYIKMA","AYILIK","AYILI","AYILMA","AYILTI","AYINGA","AYIPLI","AYIRA","AYIRAN","AYIRI","AYIRMA","AYIRTI","AYKIRI","AYLAMA","AYNACI","AYNALI","AYNISI","AYRICA","AYRILI","AZALI","AZALMA","AZAMET","AZAPLI","AZATLI","AZICIK","AZIKLI","AZMET","AZML","AZIMA","AZITMA","AZZM","AZONAL","AZOTLU","AZOTR","AZRAL","BABACA","BABACI","BABALI","BASIZ","BADANA","BADEHU","BADEMA","BADRE","BADYE","BABAN","BACIK","BADA","BADAT","BAICI","BALA","BALAM","BALAR","BALIK","BANAZ","BARI","BASIZ","BAHANE","BAH","BAHTLI","BAKARA","BAKAYA","BAKICI","BAKRE","BAKYE","BAKKAL","BAKLAN","BAKMAK","BAKRA","BALAMA","BALANS","BALAST","BALATA","BALAYI","BALBAL","BALAK","BALIK","BALDIR","BALDIZ","BALENA","BALGAM","BALC","BALNA","BALKAN","BALKAR","BALKIR","BALKON","BALLIK","BALSAM","BALTIK","BALYAJ","BALYOS","BALYOZ","BALZAM","BAMBUL","BANDAJ","BANKER","BANKET","BANKZ","BANMAK","BAOBAP","BARAKA","BARATA","BARBAR","BARBUN","BARBUT","BARAK","BARDAK","BARDAN","BARGAH","BARGAM","BARKAN","BARKOD","BARLAM","BARMEN","BARSAM","BARTIN","BARUD","BARYUM","BASAR","BAARI","BABU","BAIK","BAIL","BASICI","BASILA","BASILI","BASIN","BAKAN","BASKA","BASKET","BASKL","BASKIN","BASKL","BALIK","BASMAK","BAMAK","BAMAL","BAODA","BAROL","BASIZ","BATAN","BATA","BASTIK","BASTON","BAUCU","BATIK","BATER","BATICI","BATILI","BATIN","BATKIN","BATMAK","BATMAN","BATSAT","BATTAL","BATYAL","BAYAI","BAYATI","BAYAT","BAYGIN","BAYKAN","BAYKU","BAYLAN","BAYMAK","BAYPAS","BAYRAK","BAYRAM","BAYSAL","BAYTAR","BAZALI","BAZALT","BAZE","BAZISI","BAZUKA","BEENE","BECER","BEDAVA","BEDAY","BEDBN","BEDDUA","BEDEN","BEDEV","BEDHAH","BEDH","BEDNAM","BEEN","BEHME","BEHM","BEHT","BELALI","BELASI","BELED","BELEME","BELEE","BELGE","BELGN","BELGT","BELYE","BELKM","BELLEK","BELLEM","BELLK","BELSEM","BENCL","BENDEN","BENDR","BENLK","BENSZ","BENZEN","BENZER","BENZE","BENZN","BENZOL","BERAAT","BERBAT","BERBER","BERDEL","BERDU","BEREL","BERK","BERJER","BERRAK","BERTK","BERTME","BERZAH","BEER","BEGEN","BESC","BESL","BER","BESLEK","BELK","BETA","BETL","BEVVAP","BEYDA","BEYGR","BEYKOZ","BEYLK","BEYNEN","BEZEL","BEZEME","BEZGN","BEZMEK","BEZZAZ","BAMAN","BBAHT","BARE","BIKIN","BMEK","BENAL","BFTEK","BGANE","BGUD","BLA","BKN","BIKKIN","BIKMAK","BLDK","BILDIR","BLE","BLEME","BLG","BLGN","BLC","BLN","BLLUR","BLMEK","BLMEZ","BLM","BLSAT","BLYON","BNAEN","BNBR","BNGL","BNC","BNKAT","BNLK","BNMEK","BNYIL","BRACI","BROK","BRDEN","BRS","BRKA","BRLER","BRLK","BRSAM","BSML","BSTRO","BTEV","BTKN","BTLER","BTLS","BTMEK","BTNK","BTTER","BITTIM","BVEFA","BYEL","BIZBIZ","BZDEN","BIZDIK","BZMUT","BZSZ","BZZAT","BLF","BLOKAJ","BLOKLU","BLUCN","BOALAR","BBREK","BODRUM","BOADA","BOASI","BOATA","BOMAK","BOUCU","BOUN","BOKLUK","BOKSU","BOKST","BOKSR","BOKTAN","BOLERO","BOLE","BOLLUK","BLME","BLMEK","BLC","BOLULU","BOMBAJ","BOMBOK","BOMBO","BOMBOZ","BONBON","BONCUK","BONJUR","BONKR","BNLK","BOPLUK","BORAKS","BORALI","BORAN","BORKA","BORLU","BORDRO","BORDR","BORNA","BORNOZ","BRTME","BRTK","BORUCU","BORULU","BOAMA","BOLUK","BONAK","BOSTAN","BOUNA","BOYACI","BOYALI","BOYAMA","BOYANA","BOYDAK","BOYDA","BOYKOT","BOYLAM","BOYLER","BOYNUZ","BOYSUZ","BOYUNA","BOZACI","BOZAYI","BOZGUN","BOZKIR","BOZLAK","BOZMAK","BOZOVA","BOZRAK","BRAHMA","BRAKET","BRANDA","BREZL","BRIKA","BRKET","BROKAR","BROKER","BROMR","BROR","BRLR","BUDALA","BUDAMA","BUDST","BUDZM","BFEC","BUDAY","BGDZ","BEME","BUULU","BUHRAN","BHTAN","BUKAI","BUKLET","BKLK","BKLM","BKMEK","BUKRAN","BKC","BKL","BULADA","BULAMA","BULAI","BLBL","BULDAN","BULDOK","BULGAR","BULGUR","BULMAK","BULTAK","BLTEN","BULUCU","BULVAR","BUMBAR","BUMBUZ","BUNAMA","BUNDAN","BUNGUN","BUNLAR","BUNLUK","BUNMAK","BUNSUZ","BNYAN","BURALI","BURASI","BURAK","BURDUR","BURGA","BURHAN","BURKMA","BURKUK","BURMAK","BURNAZ","BURSLU","BRL","BRME","BRYAN","BUTLAN","BUTSUZ","BUUTLU","BUYMAK","BUYRUK","BYC","BYL","BYME","BUYURU","BUZAI","BZGEN","BUZLUK","BZMEK","BUZSUZ","BUZUK","CABASI","CAFCAF","CAFER","CALIK","CAKACI","CAKALI","CAMBAZ","CAMEV","CAMGZ","CAMLIK","CAMSIZ","CANDAN","CANDA","CANEV","CANFES","CANGIL","CANCE","CANLAR","CANSIZ","CARCAR","CARCUR","CARYE","CARSIZ","CAVLAK","CAYGIN","CAYMAK","CAZGIR","CAZBE","CAZSIZ","CEBBAR","CEBEC","CEBEL","CEBRE","CEBREN","CEFALI","CELAL","CELYE","CELLAT","CEMAAT","CEMEV","CEMLE","CEMAT","CENAZE","CENGEL","CENK","CENNET","CENTER","CENUB","CEPKEN","CEREME","CERDE","CERHA","CERMEN","CERRAH","CERRAR","CETVEL","CEVAB","CEVHER","CEVZ","CEVVAL","CEYHAN","CEYLAN","CEZALI","CEZRE","CHANGE","CIDAI","CDDEN","CGARA","CKCK","CKLET","CLACI","CLALI","CLBAN","CILLIK","CLLOP","CLT","CLTL","CIMBAR","CIMBIZ","CINCIK","CINGIL","CNGZ","CNLK","CNNET","CNSEL","CIRCIR","CIRLAK","CIRMIK","CIRNAK","CIRNIK","CSMEN","CIVALI","CIVATA","CVCV","CIVIMA","CIVMAK","CIZBIZ","CIZLAM","CZVT","CMERT","COKUN","COMAK","CHELA","CUMBUL","CMB","CUMHUR","CURACI","CZDAN","CZZAM","AAA","ACIL","ADA","ALAR","AMAK","ANAK","ARIM","AKICI","AKILI","AKMAK","AKIR","ALGI","ALGIN","ALILI","ALKAK","ALKAR","ALMA","ALMAK","AMAK","AMEL","AMLIK","AMUKA","ANDIR","ANGAL","ANSIZ","APACI","APALI","APAR","APAK","APKIN","APMAK","APRAK","APRAZ","APSIZ","APULA","ARUR","ARDAK","ARDA","ARGAH","ARE","ARKI","ARKIT","ARKLI","ARLIK","ARMIH","ARPAN","ARPIK","ARPIM","ARPI","ARPMA","ARAF","ATANA","ATICI","ATILI","ATKIN","ATLAK","ATMAK","ATPAT","AVDAR","AVDIR","AVELA","AVLAN","AVMAK","AVIR","AYEL","AYEV","AYLAK","AYLIK","EDENE","EMEL","EKEK","EKC","EKMEK","EKMEN","EKPAS","EKYAT","ELEB","ELENK","ELMEK","ELMK","ELTEK","ELTK","EMBER","EMREK","ENEN","ENEL","ENGEL","ENTK","ENTME","ERKE","ERKEZ","ERMK","ERV","ETEC","ETELE","EVGEN","EVR","EVREN","EVRK","EVRM","EYREK","FT","IALI","DEM","ILIK","LK","NEK","NEM","IKICI","IKKIN","IKMAK","IKMAZ","IKRIK","ILBIR","ILDIR","LEC","LEL","LEME","ILGIN","LSZ","IMACI","IMBAR","MEK","MM","MDK","MMEK","INGAR","NGEN","INGIL","NGL","NC","NL","INLAK","INTAR","IPLAK","PSZ","PURA","IRACI","IRALI","IRIL","IRIR","RKEF","RKN","IRNIK","IRPI","IRPMA","SEME","SKN","TAR","ITIT","TL","TME","ITLIK","TMEK","TMK","ITPIT","IVGAR","IVGIN","VC","VD","VL","IVMAK","VRL","ZC","ZL","ZMEK","MEK","OKGEN","KKN","OKLUK","KMEK","OKTAN","LLK","OLPAN","LYAK","MLEK","MMEK","PLK","PSZ","RDEK","RTEN","OTRA","ZGN","ZMEK","ZC","UHACI","UHALI","UHUH","ULAK","ULLUK","ULPAN","ULSUZ","ULTAR","NG","URUR","RME","DADACI","DADILI","DACIL","DALI","DALIK","DAHASI","DAHCE","DAHL","DAKKA","DAKSL","DALAMA","DALCIK","DALDIZ","DALFES","DALGI","DALGIN","DALGIR","DALICI","DALIN","DALMAK","DALSIZ","DALYAN","DAMACI","DAMALI","DAMBIL","DAMPER","DAMSIZ","DANACI","DANDK","DANSI","DANSLI","DANSR","DANSZ","DANTEL","DAPDAR","DARGIN","DARICA","DARLIK","DASNK","DAVACI","DAVALI","DAVUD","DAYALI","DAYAMA","DAYAN","DAYLAK","DAZKIR","DAZLAK","DEALER","DEBBA","DEBBOY","DECCAL","DEFAAT","DEFANS","DEFLE","DEFNE","DEFOLU","DEFTER","DEGAJE","DEGN","DEN","DEMEK","DENEK","DEHDEH","DEHHA","DEHLZ","DEHET","DEJAVU","DEKONT","DEKORE","DELEGE","DELGE","DELG","DELCE","DELC","DELMEK","DEMEV","DEMR","DEMKE","DEMLK","DEMODE","DENAET","DENDEN","DENEME","DENK","DENMEK","DENSZ","DENTN","DEPOCU","DEPREM","DERCEP","DERECE","DEREKE","DEREL","DERGAH","DERHAL","DERC","DERL","DERKEN","DERLEM","DERMAN","DERMEK","DERNEK","DERP","DERTL","DERTOP","DERUN","DERV","DEARJ","DESSE","DEMEK","DESPOT","DESSAS","DESTAN","DESTAR","DESTEK","DESTUR","DETANT","DETONE","DEVASA","DEVEC","DEVEL","DEVLET","DEVRAN","DEVREK","DEVREN","DEVRK","DEVRM","DEYYUS","DBACE","DDONA","DFANA","DIDIK","DER","DKGEN","DKC","DKL","DKNE","DKKAT","DKLK","DKMEK","DKMEN","DLBAZ","DLBER","DLCK","DLDA","DLEME","DLHUN","DLLEK","DLMA","DLMEK","DLOTU","DLSEL","DLSZ","DMDK","DMMER","DMNT","DMYAT","DNAMO","DNDAR","DNDA","DNER","DNGL","DNGN","DNMEK","DNSEL","DNSZ","DPK","DPDAM","DPNOT","DPSZ","DIRDIR","DREKT","DREME","DREN","DRGEN","DRHEM","DRCE","DRLK","DRSEK","DIARI","DK","DE","DEME","DSK","DSKET","DSKUR","DLEK","DLK","DSPE","DIRAK","DISAL","DSZ","DITAN","DTMEK","DVANE","DVAN","DZAYN","DZDAR","DIZDIK","DIZDIZ","DZEL","DZGN","DZC","DZL","DZLK","DIZMAN","DZMEK","DZMEN","DZYEM","DOENT","DOACI","DOMAK","DORAM","DOUCU","DOULU","DKMEK","DOKSAN","DOKTOR","DOKULU","DKL","DOKUMA","DOLAMA","DOLAYI","DOLGAN","DOLGUN","DOLMAK","DOLMEN","DOLMU","DOLUSU","DOMBAY","DOMBRA","DOMDOM","DOMNE","DOMNO","DONAMA","DONATI","DNGEL","DONMAK","DNMEK","DONSUZ","DOPNG","DRDER","DRDL","DRDN","DRDZ","DRTL","DEL","DEME","DOSTA","DVMEK","DOYGUN","DOYMAK","DOYMU","DRAGON","DRAHM","DRENAJ","DREZN","DUAHAN","DUASIZ","DUAYEN","DUBARA","DUBLAJ","DUBLR","DELLO","DUETTO","DMEK","DMK","DKKAN","DKLK","DLDL","DLGER","DULLUK","DUMAI","DMBK","DMDAR","DMDZ","DMTEK","DNDEN","DRBN","DURGUN","DURMAK","DRMEK","DRTME","DRT","DURUCU","DRL","DRST","DRT","DKN","DLEM","DMAN","DMEK","DSEL","DUSUZ","DSZ","DSTUR","DUTLUK","DUYGAN","DUYGUN","DUYMAK","DUYSAL","DUYURU","DZEME","DZGN","DZ","DZKO","DZNE","DZKY","DZLEM","DZLK","DZMEK","EBABL","EBELK","EBESZ","EBKE","EBONT","EBRUCU","EBRUL","EBRULU","ECNN","ECNEB","ECZACI","ECZALI","ECZANE","EDATLI","EDEBEN","EDEPL","EDEVAT","EDLG","EDLME","EDML","EDNM","EDNME","EDNT","EDRNE","EDTR","EFELEK","EFELER","EFELK","EFEND","EFLAN","EFSANE","EGEMEN","ELM","EL","ELME","EML","ENK","ENME","ENT","ERME","ETM","ET","ETME","ELEME","EGOST","EGOZM","ERET","ERCE","ERL","EGZAMA","EKABR","EKARTE","EKECEK","EKELK","EKENEK","EKL","EKLME","EKNC","EKNL","EKNT","EKLEME","EKOLOG","EKOSUZ","EKSER","EKSBE","EKL","EKME","EKSPER","EKSTRA","EKSTRE","ELAMAN","ELAZI","ELBSE","ELDEC","ELDEL","ELEK","ELEMAN","ELEMEK","ELEMGE","ELEML","ELEN","ELENME","ELENSE","ELENT","ELETME","ELEY","ELEZER","ELFBA","ELFBE","ELYLE","ELKIZI","ELLEME","ELLL","ELMACI","ELMALI","ELOLU","ELPEN","ELVEDA","EMANET","EMARET","EMBOL","EMEK","EMEKL","EMLME","EMME","EMLEME","EMPAT","EMPOZE","ENBER","ENBYA","ENDAZE","ENDEKS","ENDE","ENEMEK","ENENME","ENERJ","ENFYE","ENFS","ENGEBE","ENTE","ENLCE","ENSEST","ENTAR","ENTBE","EPEYCE","EPFT","EPLOG","EPTEL","EPZOT","EPRME","ERBAN","ERD","EREL","EREK","ERGAN","ERGENE","ERGME","ERGEN","ERKS","ERMEK","ERNME","ERM","ERME","ERTE","ERTEN","ERT","ERTME","ERYK","ERY","ERKETE","ERKSZ","ERMEN","EROSAL","EROSU","EROTK","ERSEME","ERTES","ESARET","ESASEN","ESASLI","ESASTA","ESATR","ESEFL","EEKE","EEK","EEKS","EELEK","ESERME","EEYL","ELME","ENME","ESNT","ESRC","ESRME","ET","ESKCE","ESKC","ESKME","ESKMO","EKIYA","ESKORT","ESKRM","ESLEME","ELEME","ESNEME","ESPER","ESPYE","ESRME","ESTAMP","ESTOMP","EYALI","ETAJER","ETALON","ETAMN","ETANOL","ETBBA","ETKET","ETLEN","ETKL","ETKME","ETOBUR","ETRYE","EVCARA","EVDEC","EVERME","EVNL","EVRME","EVLYA","EVSEME","EVVELA","EVVEL","EYALET","EYERC","EYERL","EYTME","EYLEME","EZANCI","EZBERE","EZGL","EZL","EZLME","EZNT","EZYET","EZKAZA","FAALI","FAETA","FACTOR","FAUNA","FAFUR","FAHE","FAZC","FAZL","FAKFON","FAKTR","FALAKA","FALANJ","FALLUS","FANFAN","FANFAR","FANFN","FANGR","FANLA","FANTOM","FANYOL","FARAZA","FARAZ","FARKA","FARIMA","FARS","FARZA","FARKLI","FARSA","FASILA","FASLE","FANG","FAST","FAZM","FASONE","FASSAL","FATHA","FATURA","FAULL","FAVOR","FAYANS","FAYRAP","FAYTON","FAZILA","FECAAT","FEDERE","FELL","FELKS","FELLAH","FENNEN","FEODAL","FERACE","FERAH","FERMAN","FERNEZ","FERSAH","FERSZ","FERTK","FERYAT","FETRET","FETTAN","FEYYAZ","FBRN","FBULA","FIICI","FDEC","FLEN","FIKDAN","FKREN","FKTF","FLATO","FILDIR","FLENK","FLETO","FLKA","FLZ","FLMC","FLTRE","FNANS","FNCAN","FINDIK","FNKE","FNTEK","FRAR","FIRFIR","FRKAT","FIRLAK","FIRSAT","FRUZE","FISFIS","FSKAL","FIKIN","FSKOS","FLK","FSZ","FSSR","FSTAN","FISTIK","FSTL","FITRAT","FYAKA","FYONK","FYORT","FZK","FLAMAN","FLAMBE","FLANEL","FLAR","FLAVTA","FLEBT","FLORN","FLORT","FLORR","FLORYA","FLT","FOLLUK","FONDAN","FONDP","FORNT","FORMAT","FORMEL","FORMEN","FORMOL","FORML","FORSLU","FORTU","FORVET","FOSFAT","FOSFOR","FOSGEN","FOSNOT","FTRL","FRAKLI","FRAPAN","FRENC","FRENG","FREZYA","FRJT","FRKK","FRKA","FRTZ","FRZB","FUARCI","FUKARA","FURGON","FUTBOL","FUTSAL","FZEC","FUZUL","FZYON","GABAR","GABYAR","GADDAR","GAFFAR","GAFLET","GAGALI","GAHCE","GALAGO","GALEBE","GALER","GALETA","GALBA","GALYOT","GALYUM","GAMALI","GAMBOT","GAMMAZ","GAMSIZ","GANALI","GANYAN","GARAP","GARAM","GARGAR","GARBE","GARPI","GARPLI","GARSON","GASPI","GASSAL","GAYEL","GAYRET","GAYZER","GAZEBO","GAZEK","GAZETE","GAZNO","GAZII","GAZSIZ","GECEC","GECEK","GEEL","GEGE","GEC","GEKN","GEMEK","GEMEZ","GEM","GEDMEK","GEREK","GEHGEH","GELEME","GELEN","GELGE","GELGEL","GELGT","GELMEK","GELM","GEMC","GEMLK","GENLK","GENSEL","GENZEK","GENZEL","GEREK","GERC","GERDAN","GERDEK","GERDEL","GEREDE","GERGEF","GERGER","GERGN","GERC","GERL","GERMEK","GERMEN","GERZEK","GETR","GEVEZE","GEVHER","GEVMEK","GEVREK","GEVEK","GEZGN","GEZC","GEZLK","GEZMEK","GEZMEN","GBL","GBS","GIDALI","GDC","GNEL","GRDAP","GRGN","GIRGIR","GRFT","GRMEK","GTMEK","GTSN","GIYAB","GIYBET","GIYGIY","GYMEK","GLADYO","GLAYL","GLKOL","GLKOZ","GLOBAL","GLOKOM","GLTEN","GOBLEN","GEBE","GER","GKN","GMEK","GMEN","GC","GOFRET","GKEK","GKL","GKEV","GKMEN","GKNAR","GKSEL","GKN","GKSUN","GLCK","GLCL","GOLF","GLKY","GOLLK","GLLK","GLOVA","GOLSZ","GMGK","GMLEK","GMMEK","GMC","GML","GNDER","GONDOL","GNEN","GRDEK","GRDES","GRECE","GREC","GRELE","GREL","GRGL","GRKEM","GRKL","GRMEK","GRMEZ","GRSEL","GRC","GOST","GOZM","GOTLAR","GTR","GVER","GOYGOY","GYMEK","GYNK","GZEL","GZEME","GZENE","GZEV","GZLEM","GZLK","GZSZ","GRABEN","GRAFK","GRAFT","GRAMAJ","GRAMER","GRAND","GRANT","GRANL","GRAVR","GREKA","GREKE","GREMSE","GRESR","GREVC","GRBAL","GRMS","GRPL","GLK","GSZ","GDER","GDC","GUFRAN","GULDEN","GLGUN","GLLA","GLLK","GLMEK","GLNAR","GLEN","GLN","GMRAH","GMRK","GM","GNCEK","GNCEL","GNDEM","GNDE","GNDZ","GNISI","GNLK","GNTE","GNSZ","GNC","GURBET","GRBZ","GRGEN","GRLEK","GRLK","GURUB","GTMEK","GVELA","GVEL","GVEN","GVEY","GVEZ","GZDE","GZLEK","GZLK","HABE","HACKER","HADEME","HADSE","HADSZ","HAFYE","HAFIZA","HANCE","HAKEZA","HAKK","HAKKAK","HAKSIZ","HALAZA","HALEB","HALEL","HALHAL","HALICI","HALFE","HALLE","HALTA","HALKI","HALLA","HALSZ","HALTER","HALVET","HAMAS","HAMLE","HAMLA","HAMLIK","HAMSN","HAMULE","HANER","HANDAN","HANEF","HANEL","HANGAR","HANLIK","HANN","HANTAL","HARABE","HARAB","HARAM","HARANI","HARAO","HARAZA","HARLI","HARDAL","HAREKE","HAREK","HAREL","HARC","HARKA","HARTA","HARLAK","HARMAN","HARNUP","HARRAN","HARTU","HAARI","HAEFE","HASEK","HAERE","HAHA","HASILA","HASILI","HAYE","HASKY","HALAK","HASLET","HASLIK","HAMET","HASRET","HASSAS","HAYET","HATALI","HATME","HATIRA","HATTAT","HAVACI","HAVALE","HAVALI","HAVAL","HAVAR","HAVHAV","HAVRAN","HAVYAR","HAYALI","HAYAL","HAYAT","HAYDN","HAYDUT","HAYHAY","HAYHUY","HAYLAZ","HAYRAN","HAYRAT","HAYRET","HAYVAN","HAZAR","HAZNE","HAZRE","HAZRET","HECCAV","HECEC","HECEL","HEDYE","HEKTAR","HELAL","HELLM","HELYUM","HEMAT","HEMDEM","HEMHAL","HEMN","HENDEK","HENGAM","HEPL","HEPTEN","HEPYEK","HERCA","HERHAL","HERKES","HERKL","HESAB","HEVENK","HEYBET","HEYHAT","HEYHEY","HEYKEL","HEYULA","HBRT","HBR","HLK","HCRAN","HCRET","HTEN","HDDET","HDRAT","HDRR","HJYEN","HKAYE","HKEM","HKMET","HLAL","HLEC","HLEL","HLKAT","HILTAN","HILTAR","HLVAN","HMAYE","HIMBIL","HIMHIM","HMMET","HINLI","HNLK","HNTE","HNTL","HINZIR","HPNOZ","HIRIN","HRFET","HIRGR","HIRSIZ","HIRSLI","HIRVAT","HSSET","HSSZ","HTABE","HZMET","HODBN","HODKAM","HOLZM","HLLK","HOPLAK","HRG","HORHOR","HORMON","HORTUM","HOBE","HOHO","HOLUK","HONUT","HOSTEL","HOSTES","HOYRAT","HCCET","HKMEN","HUKAT","HUKUK","HLASA","HUNHAR","HNKAR","HUNNAK","HNNAP","HUNRZ","HURAFE","HRLK","HRMET","HURUF","HSRAN","HUSUS","HTHT","HUYSUZ","HZZAM","IHLAMA","IKINMA","IKINTI","IKLAMA","ILGAMA","ILICAK","ILIKA","ILIMAK","ILIMAN","ILIMLI","ILINMA","ILITMA","IRAKA","IRAKLI","IRAMAK","IRGAMA","IRKSAL","IRKTA","IRLAMA","ISICAM","ISIDAM","IIAN","IIKI","IIKLI","IILAK","IILTI","IIMAK","IINIM","ISINI","IINLI","ISINMA","IINTI","ISIRIK","ISIRI","ISIRMA","IITIM","ISITI","ISITMA","IITMA","ISKAA","ISKOTA","ISKUNA","ISLAMA","ISTIFA","ITIRLI","ITTILA","IYDYE","IZGARA","ADEL","BADET","BARET","BBK","BKL","BKS","BRADI","BRAN","CABET","CAPI","CATI","CAZET","ECEK","ERK","ERME","GR","GD","L","LME","ML","NDE","RK","R","RME","KC","KL","MECE","RG","CRAAT","CRACI","TEP","TMA","YAI","FAAT","FTRA","NEC","NEL","REN","GUANA","HAMLI","HANET","HTDA","HTRA","HTVA","HZAR","KAMET","KLEM","KLK","KNC","KND","KER","KTEK","KZCE","KZL","KTFA","KTZA","LALI","LANCI","LANEN","LARYA","LEL","LEN","LENME","LETM","LET","LETK","LETME","LGL","LGN","LK","LKL","LKS","LMC","LNEK","LNT","LK","LM","LK","LME","LKEC","LKGZ","LKLK","LKTEN","LKYAZ","LLAK","LMYE","LTCA","MALAT","MAMET","MANIM","MANLI","MARCI","MARET","MGEC","MGEL","MLEME","MTNA","MZALI","NAKI","NANCA","NANCI","NANI","NANLI","NANMA","NATI","NATLA","NAYET","NCESU","NCL","NDEKS","NDFA","NEGL","NEK","NEKL","NFAL","NHNA","NKAS","NKAT","NLME","NLT","NL","NKITA","NLEME","NMEL","NAAT","NSAN","NTAN","NTERN","NTBA","NTFA","NTHA","NZVA","PEK","PEKL","PEKS","PLT","PNCE","POTEK","PSALA","PTDA","PTLA","RANLI","RBA","RLK","RNL","RNT","RKMEK","RONK","RTCA","RTFA","RTA","SABET","ARET","BAI","EMEK","ETME","EY","SLK","SMC","SML","TM","T","TME","SKELE","SKETE","KNE","SKOTA","SLAM","SLEME","LEME","SPAR","SPAT","SPEN","STEKA","STEME","STEN","STER","TAL","STAP","STDA","STFA","THA","STKA","STLA","TRA","STVA","VEL","TALK","TENEK","TBAR","TDAL","TKAF","TKAL","TKAT","TLAF","TL","TLME","TMAT","TRAF","TRAZ","TME","TYAT","TZAR","VAZLI","VECEN","VEEN","VNT","YELK","YCL","YLK","YODR","YONK","YOTLU","ZAFET","ZAHAT","ZAHLI","ZANLI","ZBRO","ZNL","ZLEME","ZOBAR","ZOMER","ZOTOP","JAGUAR","JAKUZ","JALUZ","JAMBON","JANJAN","JAPONE","JARGON","JEOLOG","JERSEY","JGOLO","JLEL","JORJET","JBLE","JUDOCU","JULLK","JLYEN","JURNAL","KABACA","KABALA","KABANA","KABARA","KABARE","KABLE","KABNE","KAG","KAKA","KAKIN","KALIK","KAMAK","KADEME","KADFE","KADM","KADR","KADRAJ","KADRAN","KADRAT","KADRL","KAFACA","KAFALI","KAFEN","KAFLE","KAFYE","KAFTAN","KAFURU","KAAK","KAHHAR","KANAT","KAKIMA","KAKIN","KAKLIK","KAKMAK","KAKNEM","KAKTS","KAKULE","KALABA","KALBEN","KALBUR","KALIN","KALEC","KALEV","KALGAY","KALICI","KALKO","KALTA","KALTE","KALKAN","KALKER","KALKIK","KALKI","KALKMA","KALLE","KALMAK","KALOMA","KALOR","KALPAK","KALP","KALPL","KALST","KALTAK","KALYON","KAMACI","KAMALI","KAMARA","KAMBER","KAMBUR","KAMERA","KAMER","KAMKAZ","KAMPI","KAMPS","KAMYON","KANAAT","KANAMA","KANARA","KANATA","KANCIK","KANCIL","KANCUR","KANDA","KANDL","KANEPE","KANGAL","KANKAN","KANMAK","KANSER","KANSIZ","KANTAR","KANTAT","KANTI","KANTN","KANTON","KANUN","KANYAK","KANYON","KAOLN","KAOTK","KAPALI","KAPAMA","KAPAR","KAPAK","KAPIK","KAPELA","KAPICI","KAPIDA","KAPILI","KAPKA","KAPLAM","KAPLAN","KAPLIK","KAPMAK","KAPORA","KAPRS","KAPSAM","KAPSIZ","KAPSL","KAPTAN","KARACA","KARACI","KARAFA","KARAI","KARAM","KARALI","KARAMA","KARASU","KARATE","KARAYA","KARBON","KARBR","KARDE","KAREL","KARES","KARGIN","KARGR","KARGI","KARHA","KARILI","KARIMA","KARNA","KARNE","KARKAS","KARLIK","KARLUK","KARMA","KARMAK","KARMIK","KAROA","KARPT","KARPUZ","KARSAK","KARIN","KARIT","KARSIZ","KARSLI","KARTAL","KARTA","KARTEL","KARTLI","KARTON","KARTU","KASABA","KASACI","KAAI","KASALI","KAANE","KASARA","KAEL","KASDE","KAIMA","KASIN","KASKAT","KASKET","KAKOL","KASLAN","KASMAK","KAMER","KAMR","KASNAK","KASSIL","KASSIZ","KASIZ","KASTAR","KASTEN","KASTOR","KASVET","KATANA","KATGT","KATBE","KATMAK","KATMAN","KATMER","KATRAK","KATRAN","KATRAT","KATYON","KAUUK","KAVAT","KAVALA","KAVARA","KAVATA","KAVELA","KAVLAK","KAVLI","KAVLIK","KAVRA","KAVRAK","KAVRAM","KAVRUK","KAVAK","KAYGAN","KAYGIN","KAYISI","KAYKA","KAYKAY","KAYMAK","KAYNA","KAYNAK","KAYNAR","KAYPAK","KAYRAK","KAYRAN","KAYAT","KAYSER","KAYTAK","KAYTAN","KAYYIM","KAYYUM","KAYZER","KAZAEN","KAZAI","KAZALI","KAZAN","KAZARA","KAZEN","KAZEV","KAZGI","KAZILI","KAZIMA","KAZYE","KAZMA","KAZMAK","KEBERE","KEEC","KEEL","KEFEK","KEFEL","KEFERE","KEFYE","KEKEME","KEKLK","KELEC","KELEME","KELME","KELKT","KELLK","KEMANE","KEMAN","KEMENT","KEMERE","KEMLK","KENDR","KENGEL","KENGER","KENTAL","KENT","KENTER","KENTET","KENTL","KEPAZE","KEPENK","KEPMEK","KEPSUT","KERATA","KERHEN","KERME","KERKES","KERMEN","KERMES","KERP","KERRAT","KERTK","KERTME","KERVAN","KESEL","KESENE","KESC","KEDE","KEKEK","KEKEM","KESKN","KEKL","KESMEK","KESMK","KESRET","KEAF","KESTEL","KESYAP","KETAP","KEVGR","KEVSER","KEZZAP","KBRT","KBUTZ","KKLON","KILADE","KILAI","KILBAZ","KILCAL","KILCAN","KILIK","KLDAN","KILGIN","KLSE","KILMAK","KLOLU","KILSIZ","KLSZ","KMS","KIMKIM","KMLK","KMONO","KMYON","KINALI","KINAMA","KNAYE","KNDAR","KNZM","KINNAP","KINSIZ","KNSZ","KIPAK","KIPKIP","KPLK","KIPMAK","KIRAAT","KRACI","KIRAI","KRALI","KIRBA","KIRIL","KIRCIN","KIRGIN","KIRGIZ","KIRICI","KIRKAR","KIRKIM","KRKT","KIRKLI","KIRKMA","KIRLIK","KRLO","KIRMAK","KRMEN","KIRMIZ","KIRNAK","KIRNAV","KIRPIK","KRPK","KIRPIM","KIRPI","KIRPMA","KIRSAL","KIRTIK","KRTL","KISACA","KISKA","KILAK","KILIK","KISMA","KISMAK","KISMEN","KISMET","KISMIK","KM","KN","KSPET","KISRAK","KISTAK","KISTAS","KITAAT","KTABE","KTAB","KTARA","KITAV","KITLIK","KITMR","KIVAN","KIVRAK","KIVRIK","KIVRIM","KIYACI","KIYAS","KIYGIN","KIYICI","KIYMAK","KIYMET","KIYMIK","KIZARI","KIZCIK","KIZEV","KIZGIN","KIZLIK","KIZMAK","KLASK","KLASR","KLAVYE","KLK","KLNK","KLORK","KLORLU","KLOROZ","KLORR","KLOET","KLOZET","KOBALT","KOCALI","KOCAMA","KOKAR","KOLUK","KODEN","KODEKS","KOFANA","KOFAZ","KOFLUK","KFTER","KFTN","KOKAN","KOKART","KKK","KOKMAK","KOKMU","KKNAR","KOKONA","KOKPT","KKSEL","KKSZ","KKTEN","KKTE","KOKUCU","KOKULU","KOLACI","KOLALI","KOLAK","KLER","KOLDA","KLEC","KLEL","KOLERA","KOLHOZ","KOLLUK","KOLOT","KOLON","KOLSUZ","KOLTUK","KOLYOZ","KOMBN","KOMED","KOMTA","KOMTE","KOMPLE","KOMPLO","KOMUTA","KONLU","KONDOM","KONDOR","KONFOR","KONGRE","KONKAV","KONKEN","KONKRE","KONKUR","KONMAK","KONSER","KONSEY","KONSOL","KONSON","KONSL","KONTAK","KONTES","KONTR","KONTRA","KONTUR","KONULU","KONUU","KONVOY","KONYAK","KOPMAK","KORDON","KREBE","KORECE","KOREL","KREE","KRFEZ","KORGAN","KORGUN","KORDA","KORST","KORKAK","KORKMA","KORKU","KORKUT","KORLUK","KRLK","KORNEA","KORNER","KORNET","KORN","KORONA","KORPUS","KORSAJ","KORSAN","KORTEJ","KORUCU","KORUMA","KORVET","KSE","KSELE","KEL","KKER","KKL","KOMAK","KONL","KSNK","KSNL","KOSTAK","KSTEK","KOSTER","KOSTK","KOSTM","KOUCU","KOTLET","KOVBOY","KOVMAK","KOVUCU","KOYCUK","KYDE","KOYGUN","KYLK","KOYMAK","KOYUCA","KOZACI","KOZALI","KOZLUK","KOZMK","KOZMOS","KRAKER","KRALCI","KRATER","KRAVAT","KREMS","KREPON","KRETEN","KRETON","KREZOL","KRKET","KRPTO","KRTER","KRTK","KROMAJ","KROMLU","KROMSU","KRONK","KRUTON","KSENON","KUAFR","KBALI","KBST","KBZM","KUMAK","KUDEMA","KUDRET","KFEC","KFEK","KFEL","KFFAR","KFRAN","KKRT","KULEL","KLFET","KLHAN","KULLAP","KULLUK","KLLK","KULPLU","KLTR","KULBE","KULUN","KLNK","KULVAR","KULYU","KUMALI","KMBET","KUMCUL","KMEL","KUMLUK","KUMPAS","KUMPR","KUMRAL","KUMSAL","KUMSUZ","KUNDAK","KUNDUZ","KNEFE","KUNGFU","KPEL","KPKK","KPSZ","KURACI","KURADA","KURALI","KURAMA","KRASO","KURBAN","KRDAN","KREME","KREV","KURGAN","KRKAS","KRK","KRKL","KURMAK","KURMAY","KURNAZ","KURSAK","KRSR","KURUN","KRTAJ","KURTA","KRTE","KURTLU","KRTN","KURUCU","KURULU","KURUMA","KRME","KADE","KUANE","KUBAZ","KUSKUN","KSKN","KUSKUS","KSKT","KULAK","KULAR","KULUK","KSLK","KUSMAK","KUMAR","KSMEK","KUSMUK","KSTAH","KSL","KTLK","KUTSAL","KUTSUZ","KUTUCU","KUTULU","KUVARS","KUVVET","KUYMAK","KUYRUK","KUYUCU","KUZGUN","KUZNE","KUZULU","LAAKAL","LABADA","LABROS","LADN","LADNO","LAEDR","LAFZEN","LAHANA","LAHKA","LAHUR","LAHUT","LAKACI","LAKAYT","LAKLAK","LAKTAZ","LAKTOZ","LALEL","LAMACI","LAMBR","LAMSE","LANGUR","LANTAN","LAPACI","LAPIN","LAPNA","LAPTOP","LASTK","LATALI","LATEKS","LATFE","LAVABO","LAVMAN","LAYHA","LAZIME","LAZLIK","LEGATO","LEGORN","LEHTAR","LEJANT","LEJYON","LEKEC","LEKEL","LEKTR","LENGER","LEOPAR","LERZAN","LEL","LEKER","LEVENT","LEVREK","LEYLAK","LEYLEK","LEZYON","LEZZET","LBERO","LBDO","LFK","LFTL","LGNN","LKDE","LMAK","LMON","LNEER","LNYT","LPAR","LPSOS","LRZM","LSAN","LSANS","LSEL","LTYUM","LVATA","LOADER","LOBC","LOHUSA","LOJMAN","LOKAVT","LOLOLO","LOMBAR","LOMBOZ","LONGOZ","LOPUK","LSEM","LOLUK","LOSTRA","LOSYON","LKNET","LLEC","LLEL","LMPEN","LPTEN","LTFEN","LUTYE","LZUC","MAALE","MAARF","MAALI","MABLAK","MABUDE","MACERA","MAUNA","MADAMA","MADARA","MADEN","MADRUP","MAFEVK","MAFSAL","MAARA","MAAZA","MADUR","MAFUR","MALUP","MAMUM","MARP","MARUR","MAU","MAHBES","MAHBUP","MAHCUP","MAHCUR","MAHCUZ","MAHDUM","MAHDUT","MAHFL","MAHFUZ","MAHYE","MAHKUK","MAHKUM","MAHLAS","MAHLEP","MAHLUK","MAHLUL","MAHLUT","MAHMUL","MAHMUR","MAHMUZ","MAHPUS","MAHRE","MAHREK","MAHREM","MAHRUM","MAHRUT","MAHER","MAHSUL","MAHSUP","MAHSUR","MAHSUS","MAHZAR","MAHZEN","MAHZUN","MAHZUR","MAHZUZ","MAET","MAYET","MAKALE","MAKARA","MAKBER","MAKBUL","MAKBUZ","MAKNA","MAKNE","MAKSAT","MAKSUT","MAKTEL","MAKTUL","MAKULE","MAKYAJ","MAKYR","MAKYZ","MALAFA","MALAGA","MALAMA","MALK","MALYE","MALKAR","MALKO","MALTIZ","MALTOZ","MAMURE","MANACA","MANALI","MANDAL","MANDAR","MANEV","MANGAL","MANGAN","MANGIR","MANGZ","MANC","MANKA","MANSA","MANTA","MANKEN","MANET","MANSIP","MANON","MANTAR","MANTIK","MANTN","MANTS","MANUEL","MANYAK","MANYAS","MANYAT","MANYOK","MANZUM","MARABA","MARAZA","MARAZ","MARDN","MARNA","MARNE","MARJLI","MARKAJ","MARKET","MARKZ","MARKKA","MARKR","MARLEY","MARPU","MARSIK","MARTN","MARUN","MAACI","MAALA","MASALI","MAALI","MASARA","MAER","MASKO","MASKOT","MALAH","MASLAK","MASLUP","MASRAF","MARIK","MASRUF","MASTAR","MASTER","MASTOR","MASTUR","MAUKA","MASUME","MASURA","MATARA","MATBAA","MATBUA","MATNE","MATKAP","MATLIK","MATLUP","MATRAH","MATRAK","MATRS","MATRU","MATRUT","MAVERA","MAVL","MAVZER","MAYALI","MAYHO","MAYMUN","MAYOCU","MAYOR","MAYTAP","MAZBUT","MAZGAL","MAZHAR","MAZLUM","MAZMUN","MAZNUN","MAZRUF","MEALEN","MEBLA","MEBZUL","MECAZ","MECBUR","MEHUL","MECLS","MECLUP","MECMUA","MECNUN","MECRUH","MECUS","MECZUP","MEDDAH","MEDEN","MEDLUL","MEDYUM","MEDYUN","MEFHUM","MEFLU","MEFRET","MEFRU","MEFSUH","MEFTUN","MEHTAP","MEHTER","MEKNUZ","MEKRUH","MEKTEP","MEKTUP","MELAM","MELEKE","MELEME","MELFUF","MELHEM","MELHUZ","MELKE","MELSA","MELOD","MELTEM","MEMEL","MEMLUK","MEMNUN","MEMURE","MENAF","MENDL","MENENT","MENFEZ","MENFUR","MENGEN","MENHUS","MENSK","MENKUL","MENSUP","MENSUR","MENUR","MENTOL","MENZL","MERBUT","MERCAN","MERCEK","MERGUP","MERHEM","MERHUM","MERHUN","MERKAT","MERKEP","MERKEZ","MERKUM","MERKUP","MERKR","MERMER","MERSN","MERTE","MERTEK","MESABE","MESAFE","MESAHA","MESAL","MEALE","MESAME","MESANE","MESCT","MESELA","MESELE","MEGUL","MEHER","MEHET","MEHUR","MEHUT","MEME","MESRE","MESKEN","MEKUK","MESKUN","MEKUR","MESKUT","MESLEK","MESNET","MEREP","MESRUR","MERUT","MEST","MESTUR","METEOR","METFEN","METFUN","METHAL","METRAJ","METRES","METRK","METRS","METRUK","MEVAL","MEVCUT","MEVHUM","MEVZE","MEVKUF","MEVKUT","MEVLT","MEVLUT","MEVRUT","MEVSM","MEVSUF","MEVSUK","MEVZ","MEVZUN","MEYANE","MEYDAN","MEYYAL","MEYYT","MEZEC","MEZGT","MEZHEP","MEZKUR","MEZMUR","MEZURA","MBZER","MDEC","MDEV","MDYAT","MFTAH","MFER","MGREN","MHENK","MHMAN","MHNET","MHRAK","MHRAP","MIHSIZ","MHVER","MKADO","MKAL","MKALI","MIKLEP","MKRON","MKROP","MKSER","MKTAR","MKYAS","MLAD","MLFY","MLLET","MLSZ","MLYAR","MLYEM","MLYON","MMAR","MMOZA","MNARE","MNBER","MINCIK","MNDER","MNEC","MNEL","MNNET","MNNO","MNTAN","MNVAL","MNYON","MRC","MRLK","MIRMIR","MIRNAV","MISDAK","MSNA","MISKAL","MSKAL","MSKET","MSKN","MISMIL","MIMI","MSTK","MSVAK","MSYON","MTNG","MTRAL","MZAH","MZANA","MIZIKA","MIZIMA","MIZMIZ","MIZRAK","MIZRAP","MOBBER","MOBESE","MODACI","MODERN","MOLALI","MOMENT","MONBEY","MONDEN","MONST","MONZM","MONOKL","MONER","MONTAJ","MONTR","MORDUT","MORFEM","MORFN","MORNA","MORLUK","MORULA","MOSKOF","MOSMOR","MOSTRA","MOTVE","MOTRS","MOYMUL","MOZAK","MOZOLE","MUADL","MUALLA","MUAMMA","MUARIZ","MUASIR","MUAVN","MBREM","MCBR","MUCZE","MCMEL","MCRM","MCVER","MDAF","MDANA","MDARA","MDAV","MDDEA","MDDE","MDDET","MDRE","MDRK","MDRR","MFLS","MUFLON","MFRET","MFREZ","MFRT","MFST","MUBER","MULAK","MUHBR","MUHDES","MUHKEM","MHLET","MHLK","MUHLS","MHMEL","MUHRK","MUHRP","MUHTA","MUHTAR","MUHTEL","MUHZIR","MUNL","MJGAN","MUKAAR","MUKOZA","MKRM","MUKRZ","MLAK","MLHAK","MLHEM","MLHT","MLKL","MMBT","MMKN","MUMLUK","MMTAZ","MNAD","MNCER","MUNDAR","MNHAL","MNHAT","MNKR","MUNSAP","MUNZAM","MPHEM","MURANA","MURDAR","MRDM","MURGUL","MRT","MRTET","MRVER","MSAT","MSAV","MUSEV","MFK","MUSHAF","MSHL","MUSK","MUSKAT","MKL","MSLM","MUSLN","MUSLUK","MSMR","MSNET","MSPET","MSRF","MRK","MTAK","MUTANT","MUTENA","MUTFAK","MTH","MUTLAK","MUTSUZ","MUVAZ","MZEC","MUZLM","MUZLUK","MZMN","MUZTAR","NADDE","NAFAKA","NAFLE","NAHYE","NAKAVT","NAKDEN","NAKSA","NAKKA","NAKLEN","NAKZEN","NALBUR","NALSIZ","NAMDAR","NAMEC","NAMERT","NAMINA","NAMZET","NANEL","NANKR","NANSUK","NAPALM","NARCIL","NARDN","NAREN","NARKOZ","NARMAN","NARVAL","NARVEN","NASFET","NATIKA","NATRON","NATURA","NAVLUN","NAYLON","NAZAR","NAZRE","NAZST","NAZZM","NAZMEN","NEBAT","NEBBA","NEBEV","NEDME","NEDRET","NEFRET","NEFRT","NEFT","NEHAR","NEKAS","NEKROZ","NEKTAR","NEMCL","NEMRUT","NEODM","NEOJEN","NEPTN","NEREDE","NEREL","NERES","NEREYE","NERGS","NERVR","NEEL","NEDE","NESNEL","NESREN","NEREN","NETER","NETCE","NETLK","NEVALE","NEVMT","NEVROZ","NEVRUZ","NEVTON","NEVZAT","NEYM","NEYZEN","NEZGEP","NHALE","NKBET","NKBN","NKRS","NKRZ","NKSAR","NMBUS","NANE","NSPET","NSYAN","NTRAT","NZALI","NZAM","NOBRAN","NOHUD","NOKSAN","NORDK","NORMAL","NOSYON","NTRON","NDST","NDZM","NHFT","NUMARA","NUMUNE","NURAN","NURHAK","NURSUZ","OBRUMA","OBUACI","OBURCA","OCAKI","OCAKLI","OCUMAK","ODACIK","ODALIK","ODAIK","ODUNCU","ODUNLU","ODUNSU","OFLAMA","OFSAYT","OULLU","OUZCA","OHLAMA","OJESZ","OKEYC","OKKALI","OKLAMA","OKLAVA","OKRAMA","OKAMA","OKSDE","OKTANT","OKTRUA","OKLER","OKULLU","OKUMAK","OKUMU","OKUNMA","OKUNTU","OKUNU","OKUTMA","OKUTU","OKUYU","OLACAK","OLAAN","OLAMAZ","OLANAK","OLANCA","OLAYCI","OLAYLI","OLEFN","OLGUCU","OLVN","OLTACI","OLUKLU","OLUMLU","OLUNMA","OLUMA","OLUUK","OLUUM","OMURGA","OMUZLU","ONAMAK","ONANMA","ONARIM","ONARI","ONARLI","ONARMA","ONAMA","ONATMA","ONAYLI","ONBAI","ONCASI","ONDLE","ONEJT","ONULMA","ONUNCU","ONUNK","ONURLU","OOSFER","OPALN","OPERET","ORACIK","ORAKI","ORANCA","ORANLA","ORANLI","ORANTI","ORDNO","ORDVR","ORDUCU","ORDULU","ORGAZM","ORJN","ORKDE","OROSPU","ORTACA","ORTADA","ORTALI","ORULU","OSMAN","OSURMA","OSURUK","OSURU","OTACI","OTAMAK","OTARMA","OTARS","OTELC","OTLAMA","OTOBAN","OTOBUR","OTOBS","OTOGAR","OTOGAZ","OTOKAR","OTOLT","OTOMAN","OTOMAT","OTONOM","OTOPS","OTORAY","OTOYOL","OTURAK","OTURMA","OTURUM","OTURU","OTUZAR","OTUZLU","OVACIK","OVALIK","OVASIZ","OVOGON","OVOLT","OVULMA","OVUNMA","OYLAMA","OYMACI","OYMALI","OYNAMA","OYSAK","OYUKLU","OYULGA","OYULMA","OYULU","OYUNCU","OYUNTU","OZALT","OZANCA","OZANSI","OZONLU","OZONR","BRK","DEGE","DEMEK","DEM","DEML","DENCE","DENEK","DEN","DENME","DENT","DEME","DETME","DEVL","DEY","DNC","DNL","FKEL","GLENA","LEYE","RET","RME","RT","R","T","TME","T","KEL","KELK","KSEME","LMEK","LL","LEV","LLK","LML","LNME","MERL","MRL","NAYAK","NCEC","NCEK","NEML","NERGE","NER","NERME","NERT","NGR","NLEME","NOLOG","NSEZ","PCK","PLME","PL","PME","RGC","RGL","RMEL","RTBAS","RTMEK","RTC","RTL","RLME","RL","RMCE","RNT","RK","STAK","RC","TLE","TML","TRME","TRK","TME","VGC","VLME","VL","VNCE","VNEK","VNME","VNT","VN","YKC","YLECE","YLES","ZBEZ","ZCES","ZELGE","ZELK","ZEMEK","ZEN","ZENLE","ZENL","ZENME","ZENT","ZEZER","ZGEC","ZLEME","ZNL","ZRL","ZVER","PAACI","PAALI","PAGODA","PAHACI","PAHALI","PAKLIK","PALDIM","PALUZE","PALYO","PANAMA","PANCAR","PANDF","PANDK","PANDUF","PANDL","PANEL","PANJUR","PANTER","PANZER","PAPARA","PAPAYA","PAPAZ","PAPURA","PAPYON","PARACA","PARACI","PARAD","PARALI","PARDON","PARFM","PARTE","PARKI","PARKUR","PARLAK","PARMAK","PAROD","PAROLA","PARSEL","PARTAL","PARTER","PAALI","PASATA","PASKAL","PASPAL","PASPAS","PASSIZ","PASTAL","PASTAV","PASTEL","PASTL","PASTS","PAST","PASTRA","PATENT","PATKA","PATLAK","PATNOS","PATPAT","PATRK","PATRON","PAVYON","PAYDA","PAYDOS","PAYTAK","PAYTON","PAZILI","PAZVAL","PEEL","PEETE","PEHPEH","PEKALA","PEKENT","PEKY","PEKLK","PEKMEZ","PEKTN","PELEME","PELENK","PELTEK","PENCK","PENDK","PENTAN","PENTR","PEPEME","PEPSN","PEPTON","PEREM","PERN","PERDAH","PEREME","PERESE","PERGEL","PERHZ","PERL","PERLT","PERLON","PERTEK","PERUKA","PERULU","PERVAZ","PERVN","PESETA","PEKE","PEKR","PEREV","PESTL","PETROL","PEYDAH","PEYNR","PEYREV","PEYZAJ","PANTA","PLK","PUTA","PDEC","PDEL","PJAMA","PKNK","PKOCU","PKOLO","PKSEL","PLAK","PLEL","PLNG","PNK","PNHAN","PNPON","PPOLU","PRANA","PIRASA","PREL","PRNA","PRN","PIRLAK","PIRNAL","PIRPIR","PIRPIT","PRUH","PRYOL","PDAR","PKN","PSLK","PISMAK","PMAN","PMEK","PIPI","PSTON","PTOV","PTAYA","PITRAK","PYADE","PYALE","PYANO","PYASA","PYATA","PYORE","PLAKA","PLAKI","PLAKET","PLANCI","PLANET","PLANLI","PLANR","PLANYA","PLATN","PLAZMA","PLEVRA","PLSZ","PLTON","PODYUM","POETK","POAA","POGROM","POHPOH","POLE","POMELO","POMPAJ","PONK","PONPON","PONTON","POPLN","PORFR","PORSUK","PRSK","PORTAL","PORTMA","PORTR","PORTRE","POSALI","POSTAL","POSTER","POST","POSTLU","POULU","POTALI","POTKAL","POTLA","POTLUK","POYRAZ","POZSUZ","PRANGA","PRATK","PRELT","PRES","PRESTO","PRMAT","PRZMA","PROFAN","PROFL","PROLOG","PROML","PROPAN","PROSES","PROTEZ","PROTON","PSKOZ","PSK","PUANLI","PUDNG","PULCUK","PULLUK","PULMAN","PULSUZ","PUNU","PUNTEL","PREK","PRK","PRST","PRZM","PRMZ","PRTK","PSKL","PUSMAK","PUSSUZ","PSTL","PUSUCU","PUSULA","PUSVAL","PUTREL","PUZZLE","RABITA","RADKA","RADYAN","RADYUM","RAFNE","RAFIZ","RAFSIZ","RABET","RAMEN","RAHBE","RAHMAN","RAHMET","RAHVAN","RAKBE","RAKICI","RAKKAS","RANTI","RAPTEN","RASST","RASZM","RASTIK","RASYON","RATNG","RATTAN","RAVENT","RAYHA","RAYSIZ","RAZAKI","RAZMOL","REBAB","REETE","RENA","RENE","RECMEN","REDOKS","REFKA","REFORM","REFTAR","REGLAN","REHBER","REHNE","REKLAM","REKTR","REKTUM","RELAKS","REMKS","RENK","RENKL","RENYUM","REOMR","REOSTA","REPLK","REPOCU","RESMEN","RESSAM","RETNA","REVAN","REVZE","REVNAK","REYHAN","REZEDE","REZENE","REZERV","RAYET","RCACI","RIHDAN","RIHTIM","RKKAT","RNTE","RSALE","RSKL","RTMK","RTEL","RYALE","RYAZ","RZEL","RZKO","ROBALI","RODYUM","ROKOKO","RLANS","RLVE","RLYEF","ROMALI","ROMANS","RMORK","RONDEL","RVAN","ROZBF","RHAN","RFEKA","RUGAN","RUHAN","RUHBAN","RUHSAL","RUHSAT","RUHSUZ","RUJSUZ","RULMAN","RUMLUK","REYM","RUSLUK","RUSTA","RUSTK","RVET","RZGAR","SAADET","SAAT","SAATL","SABAHA","SABIKA","SABTE","SABOTE","SABURA","SAMAK","SASIZ","SAULA","SADAKA","SADECE","SADST","SADZM","SAFAR","SAFDL","SAFFET","SAFHA","SAFKAN","SAFLIK","SAFRAN","SADI","SAKOL","SALAM","SALIK","SAMAK","SAMAL","SAGUCU","SAYA","SAHABE","SAHACA","SAHBE","SAHC","SAHFE","SAHLEP","SAKAI","SAKALI","SAKLIK","SALATA","SALGIN","SALSE","SALKIM","SALMAK","SALPAK","SALTI","SALTIK","SAMAN","SAMN","SAMM","SAMSAT","SAMSUN","SANAY","SANCAK","SANMA","SANDAL","SANDIK","SANYE","SANKM","SANMAK","SANSAR","SANSIZ","SANSR","SANTM","SANTRA","SANTUR","SAPIK","SAPIN","SAPKIN","SAPMAK","SAPSIZ","SARAKA","SARALI","SARBAN","SARDUN","SARGA","SARGIN","SARHO","SARICA","SARILI","SARKA","SARKIK","SARKIL","SARKI","SARKIT","SARKMA","SARKOM","SARMA","SARMAK","SARMAL","SARMAN","SARNI","SARPIN","SARRAF","SARSAK","SARSIK","SARSIM","SARSI","SARSMA","SASIMA","SATICI","SATMAK","SATRAP","SATRN","SATVET","SAVACI","SAVANA","SAVLET","SAVMAK","SAVRAN","SAVRUK","SAVSAK","SAVUNU","SAYACI","SAYDAM","SAYGIN","SAYICA","SAYICI","SAYILI","SAYKAL","SAYLAV","SAYMAK","SAYMAN","SAYRIL","SAYVAN","SAZEV","SAZKAR","SAZLIK","SAZSIZ","SEC","SECYE","SEKN","SEMEK","SEMEN","SEDALI","SEFALI","SEFER","SEFLE","SEFNE","SEFRE","SEGMAN","SEMEN","SEHVEN","SEKANS","SEKANT","SEKBAN","SEKENE","SEKL","SEKLEM","SEKMEK","SEKMEN","SEKOYA","SEKSEK","SEKSEN","SEKTER","SEKTR","SELCK","SELUK","SELFE","SELKA","SELM","SEMAV","SEMBOL","SEMERE","SENATO","SENDEN","SENDK","SENEV","SENEYE","SENSEN","SENSZ","SENSR","SENTEZ","SENYR","SEPC","SEPL","SEPKEN","SEPTK","SERACI","SERAPA","SERBAZ","SERN","SERDAR","SERGEN","SERGN","SERHAT","SERAN","SERL","SERKE","SERMEK","SERP","SERPME","SERPU","SERSEM","SERTAP","SERTE","SERVER","SERVET","SERVS","SERYUM","SESL","SESLEM","SESLK","SESSZ","SESTE","SETL","SEVC","SEVN","SEVYE","SEVMEK","SEYHAN","SEYLAP","SEYRAN","SEYREK","SEYYAH","SEYYAL","SEYYAR","SEYYE","SEZMEK","SEZYUM","SFENKS","SIMAK","SESTA","SFTAH","SGALA","SGARA","SILIK","SIMAK","SIHHAT","SIKICA","SIKICI","SIKKIN","SIKLET","SIKLIK","SKLON","SIKMA","SIKMAK","SKMEK","SILACI","SLGE","SLG","SLKME","SLMEK","SLOP","SLET","SLVAN","SMAEN","SMALI","SMSAR","SMURG","SINAAT","SINAMA","SNARA","SINCAN","SNCAN","SNCAP","SNCK","SNEMA","SINGIN","SNGN","SNGLE","SNZM","SNKAF","SNLK","SINMAK","SNMEK","SNSN","SNYAL","SNYOR","SPAH","SIRACA","SIRACI","SIRALI","SIRDA","SIRIMA","SRKAT","SRKEN","SROKO","SIRPA","SRRUS","SIRSIZ","SIRTAR","SIRTI","SSMK","SSTEM","SSTT","SSTOL","SIVACI","SIVALI","SIVAMA","SVR","SYAH","SYASA","SYAS","SYMEK","SIYRIK","SZDEN","SIZGIT","SIZICI","SIZILI","SIZMAK","SZSZ","SKAVUT","SLALOM","SLAVCA","SLOGAN","SLOVAK","SLOVEN","SMAR","SMOKN","SOBACI","SOBALI","SODALI","SODYUM","SOFALI","SOFST","SOFZM","SOFORA","SOFUCA","SODCA","SOUMA","SOHBET","SOKMAK","SOKMAN","SKMEK","SOKUCU","SOKULU","SOLFEJ","SOLGUN","SOLHAN","SOLST","SOLLUK","SOLMAK","SOLOCU","SLPK","SOLUMA","SOMAK","SOMATA","SMR","SONCUL","SONDAJ","SONER","SNMEK","SONNOT","SONSAL","SONSUZ","SOPALI","SRF","SORGU","SORGUN","SORMAK","SORMUK","SORUMA","SOSLUK","SOSYAL","SOVHOZ","SVMEK","SVC","SOVYET","SOYADI","SOYDA","SOYGUN","SYLEM","SYLEV","SOYMAK","SOYMUK","SOYSAL","SOYSUZ","SZCK","SZLK","SZSEL","SZSZ","SPERMA","SPKER","SPRAL","SPRL","SPORCU","SPOTU","SPRNT","STABL","STADYA","STATK","STATOR","STEPNE","STEREO","STERL","STEROL","STOACI","STOKU","STOPAJ","STOPER","STORLU","STDYO","SUALL","SUBAI","SUBRET","SBYAN","SUSUZ","SUDOKU","SUFLR","SUFLZ","SMEK","SHEYL","SUZAN","SKUT","SLALE","SULAMA","SLFAT","SLFT","SLFR","SULHU","SULHEN","SLNE","SULTAN","SUMBAS","SMBL","SUMSUK","SMSK","SMTER","SNDS","SNEPE","SNGER","SUNGUR","SUNMAK","SNMEK","SNNET","SUNUCU","SUPARA","SUPLES","SRAH","SRME","SREL","SURETA","SRGT","SRGN","SRMEK","SRSAT","SRTME","SRTK","SRT","SRC","SRME","SUSAMA","SUSKUN","SUSMAK","SSMEK","SUSPUS","SSSZ","STANA","STKIZ","STLA","STLK","STSZ","SUTYEN","STYEN","SVAR","SVMEK","SUYOLU","SUZEN","SZGE","SZGN","SZMEK","SZC","ABLON","AHANE","AHBAZ","AHKA","AHLIK","AHN","AHSEN","AHTUR","AKACI","AKALI","AKIMA","AKRT","AKRAK","AKAK","AKUL","ALAK","ALGAM","ALLAK","ALOPA","ALTER","ALUPA","ALVAR","AMALI","AMAMA","AMAN","AMATA","AMDAN","ANDEL","ANSIZ","ANSLI","ANSON","ANTAJ","ANTR","ANTZ","APLAK","APAL","ARAB","ARBON","ARJR","ARKI","ARKLI","ARKY","ARTLI","AKIN","ALIK","AMAK","AMAZ","AULA","AVAT","EAMET","EBBOY","EBEKE","EBNEM","ECAAT","ECERE","EFAAT","EFFAF","EFKAT","EFLK","EHEV","EHNAZ","EHVET","EKLEN","ELALE","EMAL","ENAAT","ENLK","ERAT","ERARE","ERBET","EREFE","ERGL","ERAT","ERYE","EBE","EPER","ED","ESE","EYEK","EVKET","EVKL","EVVAL","EYTAN","DDET","FAH","FALI","LK","RCE","RL","RS","KEL","IKLIK","IKIK","ILLIK","MAL","MEK","MR","INGIL","PAK","IPIP","IRACI","IRALI","RAZE","RDEN","REL","RKET","IRNAK","RRET","RVAN","RYAN","EC","KN","LK","MAN","MEK","STL","VEL","IVGIN","ZOT","LEMPE","OFBEN","HRET","OKOLA","MNE","OMLUK","OROLO","VALE","OVMEN","UBARA","HEDA","UHLUK","KRAN","UNDAN","UNLAR","UNSUZ","URALI","URASI","REKA","UURLU","TABAAT","TABAKA","TABELA","TABAT","TABN","TABYE","TABLET","TABURE","TASIZ","TAFLAN","TAFSL","TA","TAYR","TAHDT","TAHFF","TAHN","TAHKK","TAHKM","TAHKR","TAHLF","TAHLL","TAHLS","TAHML","TAHMN","TAHMS","TAHNT","TAHRF","TAHRK","TAHRL","TAHRP","TAHRR","TAHR","TAHSL","TAHSN","TAHSS","TAHVL","TAKACI","TAKAZA","TAKBH","TAKDM","TAKDR","TAKDS","TAKILI","TAKYE","TAKLP","TAKLT","TAKMAK","TAKRP","TAKRR","TAKRZ","TAKSM","TAKSR","TAKST","TAKTK","TAKTR","TAKVM","TAKYT","TALEBE","TALKA","TALKIM","TALKIN","TALTF","TALVEG","TALYUM","TAMBUR","TAMLIK","TAMPON","TAMTAM","TAMTUR","TANDEM","TANDIR","TANEL","TANIMA","TANITI","TANKI","TANKER","TANNAN","TANSIK","TANTAL","TANZM","TANZR","TAOZM","TAPALI","TAPMAK","TAPUCU","TAPULU","TARABA","TARAA","TARALI","TARAMA","TARIN","TARHUN","TARFE","TARH","TARPAN","TARSN","TARSUS","TARTAR","TARTIL","TARTIM","TARTI","TARTMA","TASALI","TASARI","TAIL","TASDK","TASGR","TASHH","TAIMA","TAZM","TAKIN","TASLAK","TALIK","TAMAK","TASMM","TASNF","TAOVA","TASRF","TASRH","TASIZ","TASTR","TASVP","TASVR","TATARI","TATAVA","TATBK","TATMAK","TATMN","TATSAL","TATSIZ","TATULA","TATVAN","TAVA","TAVAN","TAVSF","TAVSIZ","TAVZF","TAVZH","TAYDA","TAYFUN","TAYLAK","TAYYAR","TAYYR","TAZECE","TAZICI","TAZYE","TAZMN","TAZYK","TEADL","TEAKUP","TEAML","TEARUZ","TEAVN","TEBCL","TEBDL","TEBL","TEBRK","TEBR","TEBYZ","TECDT","TEHL","TEHZ","TECRT","TECVT","TECVZ","TEDAV","TEDBR","TEDFN","TEDH","TEDYE","TEDR","TEDRS","TEDVN","TEDVR","TEENN","TEFCR","TEFEC","TEFEL","TEFEL","TEFHM","TEFRK","TEFR","TEFRT","TEFSR","TEFTH","TEFT","TEFVZ","TEMEN","TEHCR","TEHDT","TEHY","TEHZL","TEKAPU","TEKAT","TEKBR","TEKDR","TEKFN","TEKFR","TEKFUR","TEKLA","TEKLF","TEKLK","TEKMAN","TEKML","TEKNK","TEKRAR","TEKRR","TEKSF","TEKSR","TEKTA","TEKVN","TEKZP","TELAF","TELAK","TELARO","TELAE","TELCK","TELEKE","TELEKS","TELEME","TELET","TELFN","TELHS","TELKH","TELKN","TELLAK","TELLAL","TELLR","TELMH","TELSEL","TELSZ","TELTK","TELVS","TEMAD","TEMAA","TEMBEL","TEMBH","TEMBUL","TEMCT","TEMDT","TEMHR","TEMKN","TEMLK","TEMMUZ","TEMREN","TEMRN","TEMSL","TEMYZ","TENDER","TENDON","TENEKE","TENFZ","TENKL","TENKS","TENKT","TENSEL","TENSK","TENSL","TENSP","TENTR","TENVR","TENZH","TENZL","TEOLOG","TEOREM","TEORK","TEPEL","TEPHR","TEPKN","TEPMEK","TERANE","TERAP","TERAV","TERAZ","TERCAN","TERCH","TERDT","TEREC","TEREKE","TERFH","TERFK","TERGAL","TERHN","TERHS","TERKN","TERKP","TERLK","TERMAL","TERMK","TERMN","TERMT","TERMOS","TERSM","TERTP","TERV","TERZL","TEBH","TESCL","TESDS","TEDT","TESHL","TESHN","TESHR","TEHR","TEHS","TEKL","TESKN","TESLM","TESLS","TEML","TESPH","TESPT","TERF","TERH","TER","TERK","TERN","TESTS","TEVK","TEV","TESVT","TETBE","TETKK","TEVAB","TEVAL","TEVAZU","TEVBH","TEVCH","TEVFK","TEVHT","TEVKF","TEVKL","TEVLT","TEVRAT","TEVH","TEVSK","TEZENE","TEZGAH","TEZHP","TEZLK","TEZVR","TEZYF","TEZYN","TEZYT","TIBBEN","TCAN","TCAR","TFTK","TIGALA","TILIK","TIKALI","TIKAMA","TIKMAK","TIKNAZ","TLMZ","TILSIM","TMBAL","TMNG","TMSAH","TMSAL","TINGIR","TINMAK","TINNET","TNSEL","TIPALI","TPL","TPOCU","TRFL","TRHOS","TIRINK","TRNK","TIRKAZ","TRLN","TIRMIK","TIRNAK","TROT","TIRPAN","TIRSIK","TIRSMA","TIRTIK","TIRTIL","TIRTIR","TRYAK","TRT","TTREK","TTREM","TIYNET","TOGOLU","THMET","TOKALI","TOKLUK","TOKMAK","TOKSK","TOKSN","TOLERE","TOLEN","TOMBAK","TOMBAZ","TOMBK","TOMBUL","TOMRUK","TONLUK","TONSUZ","TONTON","TOPBA","TOPLA","TOPLAM","TOPLUM","TOPRAK","TOPSUZ","TOPTAN","TREC","TREL","TORERO","TORLAK","TORLUK","TORNET","TORPL","TORTOP","TORTUL","TORTUM","TORYUM","TOSTU","TOYAKA","TOYDAN","TOYGAR","TOYLUK","TOYNAK","TOZLUK","TOZMAK","TOZUMA","TRAFK","TRAHOM","TRAJK","TRAKT","TRAMPA","TRANA","TRAPEZ","TRAVMA","TRBN","TRPOT","TRN","TRTON","TRYAS","TROLC","TROPK","TROYKA","TCCAR","TUFACI","TUFALI","TUBAY","TUGRK","TURUL","TUYAN","TULAN","TLEME","TULUAT","TULYUM","TUMAI","TMBEK","TMDEN","TMLE","TMLER","TMLK","TMSEK","TUMUK","TUNDRA","TNEME","TUNGUZ","TPLK","TURAN","TRBAN","TRBN","TRDE","TRED","TREME","TURGAY","TURGOR","TURHAL","TURST","TURZM","TRKE","TRK","TURUN","TULUK","TUSUZ","TUTEK","TUTKAL","TUTKUN","TUTMA","TUTMAK","TTMEK","TUTSAK","TUTSAT","TUTUCU","TUTULU","TUVACA","TVANA","TVEY","TYCK","TYMEK","TYSZ","TYTOP","TUZCUL","TZEC","TUZLAK","TUZLUK","TUZSUZ","UAKLI","UCUBK","UURMA","UURUM","UURU","UUMA","UCUZCA","UCUZCU","UFACIK","UFAKA","UFALI","UFALMA","UFANTI","UFARAK","UFLAMA","UFUKLU","UFUNET","URAMA","URAI","UULTU","UUNMA","UURLU","UHREV","UKRAYN","UKUBET","ULAHA","ULAMAK","ULANI","ULANMA","ULANTI","ULAIM","ULAMA","ULAYI","ULUBEY","ULULUK","ULUMAK","ULUSAL","ULUSA","ULUSU","ULUSLU","ULUTMA","ULUYU","UMREC","UMULMA","UMUTLU","UNLAMA","UNUTMA","UNUTU","UPUSLU","UPUZUN","URAAN","URANS","URBALI","URDUCA","URFALI","URODEL","URUMCA","UAKLI","USANI","USANMA","USANTI","USKURU","USTACA","USTUKA","USTUN","USTURA","USULCA","USULEN","USULET","UTANI","UTANMA","UTART","UTERUS","UTKULU","UTULMA","UYAKLI","UYANIK","UYANI","UYANMA","UYARAN","UYARCI","UYARIM","UYARI","UYARLI","UYARMA","UYARTI","UYDUCU","UYDURU","UYKUCU","UYKULU","UYLAMA","UYMACA","UYMACI","UYULMA","UYUMAK","UYUMLU","UYUNMA","UYUNTU","UYUMA","UYUUK","UYUUM","UYUTMA","UYUTUM","UYUYU","UYUZLU","UZAKA","UZAMAK","UZANIM","UZANI","UZANMA","UZANTI","UZATIM","UZATI","UZATMA","UZAYI","UZAYLI","UZLAI","UZUNCA","UZUVCA","AYAK","ERL","LEME","NC","ZL","FLEME","FRME","FRK","FRM","FR","LEME","LKECE","LKC","MTL","NTER","NLEME","NLL","REMEK","REMK","RETE","RETM","RET","RETME","RETRA","REY","RKMEK","RKL","RKN","ROLOG","RMEK","RNL","RME","RYAN","EN","ENME","SKRE","STLK","STSZ","STTEN","STNE","STP","MEK","NT","RME","ME","TME","TK","TOPK","TOPYA","TLME","TLK","TSZ","VEYK","VEYME","YELK","ZENG","ZENT","ZGL","ZLME","ZL","ZMC","ZML","ZMS","ZNT","VADEL","VAFTZ","VAHDET","VAHET","VAJNA","VAKETA","VAKVAK","VALDE","VAMPR","VANDAL","VANDZ","VANTUZ","VARAKA","VARGEL","VARDE","VARLIK","VARMAK","VARSIL","VARYOS","VASAT","VASITA","VATAN","VATLIK","VATMAN","VATVAT","VAZFE","VEBALI","VECBE","VECZE","VECTL","VEFALI","VEKTR","VERESE","VERC","VERKA","VERMEK","VERMUT","VERNK","VESAK","VESAR","VESAT","VESKA","VESLE","VESTON","VETRE","VCAH","VCDAN","VDALA","VDALI","VDOLU","VKAYE","VKONT","VLAD","VNL","VNTER","VNYET","VRANE","VRGL","VRMAN","VSKOZ","VNAP","VTRAY","VTRN","VYOLA","VYOLO","VZTE","VZYER","VZYON","VODVL","VOLKAN","VOLTAJ","VOMBAT","VUALET","VKELA","VUKUAT","VURGUN","VURKA","VURMAK","VURTUT","VURUCU","VUSLAT","VZERA","YABAN","YALIK","YAMAK","YAMUR","YARIN","YASIZ","YAHUD","YAKALI","YAKARI","YAKAZA","YAKICI","YAKMA","YAKMAK","YALAKA","YALAMA","YALAZA","YALIN","YALDIZ","YALGIN","YALIN","YALLAH","YALMAN","YALNIZ","YALOVA","YALPAK","YALPIK","YALTAK","YALVA","YAMACI","YAMALI","YAMAMA","YAMYAM","YAMYA","YANCIK","YANDA","YANDIK","YANGIN","YANICI","YANLIK","YANLI","YANMAK","YANMAZ","YANAK","YANSIZ","YAPAI","YAPBOZ","YAPICI","YAPILI","YAPMAK","YAPRAK","YAPSAT","YARALI","YARAMA","YARASA","YARATI","YARBAY","YARDAK","YARDIM","YARGI","YARICI","YARLIK","YARLK","YARMAK","YARPUZ","YASALI","YASAMA","YAAMA","YASEV","YALIK","YASMAK","YAMAK","YASMIK","YASTIK","YATILI","YATKIN","YATMAK","YAVAA","YAVAK","YAVAN","YAYGIN","YAYILI","YAYLAK","YAYLIM","YAYMAK","YAYSIZ","YAYVAN","YAZBOZ","YAZICI","YAZILA","YAZILI","YAZLIK","YAZMAK","YAZMAN","YEDL","YEDSU","YEDMEK","YEGANE","YELK","YEREK","YEKSAN","YEKTEN","YELEL","YELEME","YELKEN","YELLOZ","YELMEK","YELPK","YELTEK","YEMEN","YEMLK","YENGE","YENGEN","YENCE","YENC","YENMEK","YENSZ","YERDE","YERNE","YERKY","YERMEK","YERTE","YERSEL","YERSZ","YETME","YETKN","YETMEK","YETM","YEZD","YDD","YIILI","YIMAK","YIKAMA","YIKICI","YIKKIN","YIKMAK","YLBK","YILDIZ","YILGIN","YILLIK","YILMAK","YILMAZ","YIPRAK","YIRTIK","YIRTIM","YIRTI","YIRTMA","YTMEK","YYC","YORUM","YOURT","YOKLUK","YOKSUL","YOKSUN","YOKSUZ","YOLBL","YOLBUL","YOLDA","YOLLUK","YOLMAK","YOLSUZ","YOMSUZ","YNBUL","YNDER","YNDE","YONGAR","YONMAK","YNSZ","YNTEM","YONTMA","YONTUK","YORDAM","YORGAN","YORGUN","YORMAK","YORTMA","YOZGAT","YOZLUK","YRK","YUKARI","YKLEM","YKLER","YKLK","YKSEK","YKSK","YKSZ","YLME","YUMMAK","YUMRUK","YUMULU","YUNMAK","YNSZ","YRME","YUTMAK","YUVALI","YZGE","YZLER","YZLK","YZMEK","YZSZ","YZC","YZYIL","ZABITA","ZAFRAN","ZAARA","ZASIZ","ZAHRE","ZAHR","ZAHMET","ZAHTER","ZAKKUM","ZAMANE","ZAMBAK","ZAMBIR","ZAMKLI","ZAMSIZ","ZANAAT","ZANGO","ZARFI","ZARFLI","ZARUR","ZAVYE","ZAYAT","ZAYE","ZAZACA","ZEAMET","ZEBAN","ZECREN","ZEDEL","ZEKALI","ZEKCE","ZELBER","ZEMBL","ZEMZEM","ZENGN","ZEPLN","ZERRN","ZEVAL","ZEVKE","ZEVKL","ZEVZEK","ZEYBEK","ZEYREK","ZEYTN","ZBD","ZFR","ZHNEN","ZIHSIZ","ZIKKIM","ZKZAK","ZILGIT","ZLLET","ZLSZ","ZLYET","ZMMET","ZIMNEN","ZNCR","ZNDAN","ZINDIK","ZNHAR","ZIPKIN","ZIPZIP","ZRAAT","ZIRHLI","ZRKON","ZIRLAK","ZIRNIK","ZRZOP","ZITLIK","ZIVANA","ZYADE","ZYALI","ZYNET","ZIYPAK","ZODYAK","ZOOLOG","ZORAK","ZORLUK","ZRT","ZUHUR","ZULACI","ZULMET","ZMRT","ZRAFA","ZREFA"]')};let Rt=null;async function Un(n){console.log("Skor tablosu alyor..."),Lt(),J("scoreboard-screen");const e=document.getElementById("round-winner-display"),t=document.getElementById("match-winner-display"),r=document.getElementById("correct-word-display"),s=document.getElementById("word-meaning-display"),i=document.getElementById("final-scores"),o=document.getElementById("new-round-btn"),c=document.getElementById("new-word-rematch-btn"),l=document.getElementById("main-menu-btn"),u=F();i&&(i.innerHTML=""),o&&o.classList.add("hidden"),c&&c.classList.add("hidden"),t&&t.classList.add("hidden");const h=n.currentRound||1,d=n.matchLength||(n.gameType==="multiplayer-br"?10:1);let T=!1;n.gameType==="multiplayer-br"?T=h>=d||n.matchWinnerId!==void 0:T=!(d>1&&h<d);let g="",K="";if(n.gameType==="multiplayer-br")if(T)g="OYUN TAMAMLANDI",K="text-yellow-400",We("win");else{const M=n.players[u];M&&M.hasSolved?(g="BLDNZ! ",K="text-green-400",We("win")):(g="BLEMEDNZ",K="text-red-400",We("lose"))}else{const M=n.roundWinner===u,_=n.roundWinner?n.players[n.roundWinner]?.username||"Rakip":"Kimse";M?(g="TEBRKLER! ",K="text-green-400",We("win")):n.roundWinner===null?(g="SRE BTT / BERABERE",K="text-gray-400",We("lose")):(g=`${_} KAZANDI`,K="text-red-400",We("lose"))}e&&(e.textContent=g,e.className=`text-3xl font-black mb-2 tracking-wide uppercase drop-shadow-md ${K}`),r&&(r.textContent=n.secretWord),s&&(s.textContent="Anlam ykleniyor...",mA(n.secretWord).then(M=>{s.textContent=M})),zT(n.secretWord),i&&Object.values(n.players).sort((_,C)=>(C.score||0)-(_.score||0)).forEach((_,C)=>{const v=_.username===dt(),w=document.createElement("div");w.className=`flex justify-between items-center p-2 rounded ${v?"bg-indigo-900/50 border border-indigo-500/50":"bg-gray-800 border-b border-gray-700"}`,w.innerHTML=`
                <div class="flex items-center gap-2">
                    <span class="text-xs font-bold text-gray-500 w-4">${C+1}.</span>
                    <span class="font-bold ${v?"text-white":"text-gray-300"}">${_.username}</span>
                </div>
                <span class="font-mono font-bold text-yellow-400">${_.score||0} P</span>
            `,i.appendChild(w)}),T?(t&&(t.classList.remove("hidden"),t.textContent="MA SONA ERD"),o&&(o.textContent="Ana Men",o.disabled=!1,o.onclick=ut,o.classList.remove("hidden"),o.className="w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-4 rounded-lg text-lg shadow-lg transition")):o&&(o.disabled=!1,o.style.opacity="1",o.style.cursor="pointer",o.textContent="Sonraki Tur",o.onclick=async()=>{if(n.gameType==="multiplayer-br"&&n.creatorId!==u){D("Oyun kurucunun turu balatmas bekleniyor...",!1);return}o.disabled=!0,o.textContent="Hazrlanyor...";try{await YT()}catch(M){console.error("Yeni tur hatas:",M),D("Bir hata olutu, tekrar dene.",!0),o.disabled=!1,o.textContent="Tekrar Dene"}},o.classList.remove("hidden"),o.className="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg text-lg shadow-lg transition"),l&&(l.onclick=ut)}let Ni=null;async function _M(){if(Ni)return Ni;try{const n=await fetch("/kelime_anlamlari.json");if(!n.ok)throw new Error("Yerel anlam dosyas bulunamad.");return Ni=await n.json(),Ni}catch{return null}}async function mA(n){try{const e=await _M(),t=n.toLocaleUpperCase("tr-TR");return e&&e[t]?e[t]:"Anlam bulunamad."}catch{return"Anlam yklenirken bir sorun olutu."}}const Le=6,BT=8;let dr=5;const Mo=[4,5,6],Vs=()=>Mo[Math.floor(Math.random()*Mo.length)];function Yt(n){return n==="multiplayer-br"}function pA(){const n=new Date,e=10800*1e3,t=new Date(n.getTime()+e),r=new Date("2024-01-01"),s=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((s-r)/(1e3*60*60*24))}function yt(n){n.secretWord&&n.secretWord.length>0&&n.wordLength!==n.secretWord.length&&(n.wordLength=n.secretWord.length),dr=n.wordLength,rt&&(rt.innerHTML="",n.gameType==="multiplayer-br"?rt.classList.add("br-mode-grid"):rt.classList.remove("br-mode-grid"),dr===4?rt.style.maxWidth="220px":dr===5?rt.style.maxWidth="260px":rt.style.maxWidth="300px"),MT(dr,Le),NT(Is);const e=lt();if(n.status==="playing"&&e!=="daily"&&setTimeout(()=>{pr()},200),e==="vsCPU"){const t=document.getElementById("leave-game-button"),r=document.getElementById("player2-score");t&&(t.classList.remove("hidden"),t.className="bg-red-600/80 hover:bg-red-600 text-white text-[10px] font-bold py-0.5 px-2 rounded shadow-sm",t.textContent="k",r&&!r.contains(t)&&r.appendChild(t))}}function vT(n){if(!ce||!dn)return;const e=lt(),t=F(),r=n.creatorId===t;if(e!=="league"){if(Yt(e)){if(!St||!tt)return;St.textContent=n.timeLimit||60;const s=document.getElementById("br-waiting-for-players"),i=n.players[t]||{},o=Object.keys(n.players).length;if(n.status==="waiting"){if(tt.textContent=`Oyuncu bekleniyor (${o}/${BT})...`,r){ce.classList.remove("hidden"),o>=2?(ce.disabled=!1,ce.textContent=`Balat (${o} Kii)`,ce.className="w-full bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-4 rounded-lg text-lg my-1 flex-shrink-0 cursor-pointer shadow-lg transform active:scale-95 transition",ce.onclick=Uo):(ce.disabled=!0,ce.textContent="Oyuncu Bekleniyor...",ce.className="w-full bg-gray-600 text-gray-400 font-bold py-3 px-4 rounded-lg text-lg my-1 flex-shrink-0 cursor-not-allowed");const c=document.getElementById("invite-to-lobby-btn");c&&(c.classList.remove("hidden"),c.onclick=()=>Q(()=>Promise.resolve().then(()=>Be),void 0).then(l=>l.openLobbyInviteModal()))}else{ce.classList.add("hidden");const c=document.getElementById("invite-to-lobby-btn");c&&c.classList.add("hidden")}dn.classList.remove("hidden"),s&&s.classList.remove("hidden")}else if(n.status==="playing"){ce.classList.add("hidden");const c=document.getElementById("invite-to-lobby-btn");c&&c.classList.add("hidden"),i.isEliminated?(tt.textContent=" Elendin!",tt.classList.remove("pulsate")):i.hasSolved?(tt.textContent=" zdn! Bekle...",tt.classList.add("pulsate","text-green-500")):i.hasFailed?(tt.textContent=" Hak Bitti! Bekle...",tt.classList.remove("pulsate")):(tt.textContent="Tahmin Yap!",tt.classList.add("pulsate")),s&&s.classList.add("hidden")}else n.status==="finished"&&(n.matchWinnerId!==void 0?tt.textContent=" MA BTT!":tt.textContent="TUR BTT",ce.classList.add("hidden"));return}if(!(!Fe||!qe)&&e!=="daily")if(n.status==="waiting"||n.status==="invited"){const s=Object.keys(n.players).length;n.status==="invited"?Fe.textContent="Arkadan bekleniyor...":Fe.textContent=s>1?"Balatmak iin bekleniyor...":"Rakip bekleniyor...",r?(ce.classList.remove("hidden"),s<2&&e!=="vsCPU"?(ce.disabled=!0,ce.textContent="Oyuncu Bekleniyor...",ce.className="w-full bg-gray-600 text-gray-400 font-bold py-3 px-4 rounded-lg text-lg my-1 flex-shrink-0 cursor-not-allowed"):(ce.disabled=!1,ce.textContent="Oyunu Balat",ce.className="w-full bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-4 rounded-lg text-lg my-1 flex-shrink-0 cursor-pointer",ce.onclick=Uo)):ce.classList.add("hidden"),dn.classList.remove("hidden")}else if(n.status==="playing"){if(ce.classList.add("hidden"),dn.classList.add("hidden"),e==="multiplayer"||e==="friend"||e==="random_series"||e==="random_loose"){const s=n.players[t];s&&s.hasSolved?(Fe.textContent=" Buldun! Bekleniyor...",Fe.className="font-bold text-green-400 animate-pulse text-sm"):s&&s.hasFailed?(Fe.textContent=" Hakkn Bitti",Fe.className="font-bold text-red-400 text-sm"):(Fe.textContent="Tahmin Yap!",Fe.className="font-bold text-white pulsate text-md")}else if(e==="vsCPU"){const s=n.players[t];s&&(s.hasSolved||s.hasFailed)?(Fe.textContent="Bilgisayar Bekleniyor...",Fe.className="font-bold text-yellow-400 animate-pulse text-sm"):(Fe.textContent="Sra Sende!",Fe.className="font-bold text-white pulsate text-md")}}else n.status==="finished"&&(Fe.textContent="Oyun Bitti",ce.classList.add("hidden"),dn.classList.add("hidden"))}}async function Zt(n,e=!1){if(!n)return;const t=F(),r=lt(),s=r==="multiplayer-br",o=Ee()?.currentPlayerId,c=n.currentPlayerId===t;!s&&r!=="vsCPU"&&o&&o!==t&&c&&Q(()=>Promise.resolve().then(()=>JS),void 0).then(R=>R.playSound("turn"));const l=document.getElementById("sequential-game-info"),u=document.getElementById("joker-container"),h=document.getElementById("copy-game-id-btn"),d=document.getElementById("share-game-btn"),T=document.getElementById("game-id-display"),g=document.getElementById("leave-game-button"),K=document.getElementById("multiplayer-score-board"),M=document.getElementById("timer-display"),_=document.getElementById("turn-display"),C=document.getElementById("round-counter"),v=document.getElementById("keyboard");if(s?(K&&K.classList.remove("hidden"),l&&l.classList.add("hidden"),Q(()=>Promise.resolve().then(()=>Be),void 0).then(R=>R.updateMultiplayerScoreBoard(n))):(K&&K.classList.add("hidden"),l&&l.classList.remove("hidden"),Q(()=>Promise.resolve().then(()=>Be),void 0).then(R=>R.updateMultiplayerScoreBoard(n))),g&&(g.classList.remove("hidden"),g.className="bg-gray-600 hover:bg-gray-500 text-white font-bold py-1 px-3 rounded text-sm",g.textContent="Men",g.onclick=R=>{R.stopPropagation(),Q(()=>Promise.resolve().then(()=>Ze),void 0).then(N=>N.leaveGame())}),r==="daily"||r==="league"){l&&l.classList.remove("hidden"),r==="league"?(M&&(M.style.display="block",M.parentElement&&(M.parentElement.className="w-full flex justify-center items-center"),M.className="font-mono font-black text-6xl text-yellow-400 tracking-widest drop-shadow-lg"),document.getElementById("player1-score").style.display="none",document.getElementById("player2-score").style.display="none",_&&(_.style.display="none"),C&&(C.style.display="none")):(M&&M.parentElement&&(M.parentElement.className="text-center w-1/5"),_&&(_.style.display="block",_.textContent="Gnn Kelimesi"),C&&(C.style.display="block",C.textContent=new Date().toLocaleDateString("tr-TR")));const R=document.getElementById("game-info-bar");R&&(R.style.display="flex",T&&(T.textContent=""),h&&(h.style.display="none"),d&&(d.style.display="none")),u&&(u.style.display=r==="league"?"flex":"none")}else if(r==="vsCPU"){M&&(M.style.display="block",M.className="font-bold text-xl font-mono text-gray-300",M.parentElement&&(M.parentElement.className="text-center w-1/5 flex flex-col items-center")),_&&(_.style.display="block"),C&&(C.style.display="block"),document.getElementById("player1-score").style.display="block";const R=document.getElementById("player2-score");R&&(R.style.display="flex",R.style.flexDirection="column",R.style.alignItems="flex-end",R.style.gap="4px",g&&!R.contains(g)&&(R.appendChild(g),g.className="bg-red-600/80 hover:bg-red-600 text-white text-[10px] font-bold py-0.5 px-2 rounded shadow-sm",g.textContent="k")),u&&(u.style.display="flex"),C&&(C.textContent=`Tur ${n.currentRound}/${n.matchLength}`)}else M&&(M.style.display="block",M.className="font-bold text-xl font-mono text-gray-300",M.parentElement&&(M.parentElement.className="text-center w-1/5 flex flex-col items-center")),_&&(_.style.display="block"),C&&(C.style.display="block"),document.getElementById("player1-score").style.display="block",document.getElementById("player2-score").style.display="block",u&&(u.style.display="flex"),C&&(n.gameType==="random_loose"?C.textContent="Gevek Oyun":C.textContent=`Tur ${n.currentRound}/${n.matchLength}`);const w=n.players[t]||{};let k=!1;if(r==="vsCPU"){const R=n.players[t];R&&(R.hasSolved||R.hasFailed)&&(k=!0)}else s?(w.isEliminated||w.hasSolved||w.hasFailed)&&(k=!0):n.status==="finished"&&(k=!0);v&&(v.style.pointerEvents=k?"none":"auto"),vT(n),Q(()=>Promise.resolve().then(()=>Be),void 0).then(R=>{R.updateKeyboard&&R.updateKeyboard(n)});const $=document.getElementById("tile-0-0"),G=$?$.querySelector(".front"):null,I=!G||G.textContent===""&&!$.classList.contains("flip");if(e||I){const R=n.players[t]?.guesses||[],N=R.length,p=n.wordLength||5,be=n.GUESS_COUNT||6;for(let Re=0;Re<be;Re++){for(let Oe=0;Oe<p;Oe++){const et=document.getElementById(`tile-${Re}-${Oe}`);if(!et)continue;const gt=et.querySelector(".front"),xe=et.querySelector(".back"),nr=xe.querySelector(".meaning-icon");if(nr&&nr.remove(),et.classList.remove("flip","correct","present","absent","failed","shake","static"),Re!==N&&(gt.textContent="",xe.textContent="",xe.className="tile-inner back"),R[Re]){const ft=R[Re];gt.textContent=ft.word[Oe],xe.textContent=ft.word[Oe],xe.className="tile-inner back "+ft.colors[Oe];const It=Re===R.length-1;e&&It?setTimeout(()=>{et.classList.add(ft.colors[Oe]),et.classList.add("flip")},Oe*250):(et.classList.add(ft.colors[Oe]),et.classList.add("flip"))}else Re===N&&n.status==="playing"&&Q(()=>Promise.resolve().then(()=>Sh),void 0).then(ft=>{const It=ft.getKnownCorrectPositions();It&&It[Oe]&&(gt.textContent=It[Oe],xe.textContent=It[Oe],xe.className="tile-inner back correct",et.className="tile static correct")})}if(R[Re]&&R[Re].colors.indexOf("failed")===-1){const Oe=R[Re].word,et=document.getElementById(`tile-${Re}-${p-1}`);if(et){const gt=et.querySelector(".back"),xe=se("button",{className:"meaning-icon",innerHTML:"?",onclick:nr=>{nr.stopPropagation(),Q(()=>Promise.resolve().then(()=>Ze),void 0).then(ft=>ft.fetchWordMeaning(Oe).then(It=>alert(`${Oe}:

${It}`)))}});Object.assign(xe.style,{position:"absolute",right:"2px",top:"2px",width:"18px",height:"18px",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",border:"1px solid white",fontSize:"12px",fontWeight:"bold",cursor:"pointer",zIndex:"10",padding:"0",lineHeight:"16px"}),gt&&gt.appendChild(xe)}}}}if((r==="multiplayer"||r==="vsCPU"||r==="friend"||r==="random_series")&&!s&&l&&!l.classList.contains("hidden")){let R=Object.keys(n.players).find(N=>N!==t);if(r==="vsCPU"&&(R="cpu"),R&&n.players[R]){const N=n.players[R].guesses||[];Q(()=>Promise.resolve().then(()=>Be),void 0).then(p=>{p.updateOpponentMiniGrid&&p.updateOpponentMiniGrid(N,n.wordLength,6)})}}else{const R=document.getElementById("opponent-mini-grid");R&&R.classList.add("hidden")}const L=s?!w.isEliminated&&!w.hasSolved&&!w.hasFailed:r==="vsCPU"?!w.hasSolved&&!w.hasFailed:!0,S=n.players[t]?.jokersUsed||{};Q(()=>Promise.resolve().then(()=>Be),void 0).then(R=>{R.updateJokerUI&&R.updateJokerUI(S,L,n.status)})}function bT(n){if(!n||n.length===0)return Ss()||{};const t={...Ss()||{}};return n.forEach(r=>{r.colors.forEach((s,i)=>{s==="correct"&&(t[i]=r.word[i])})}),Fs(t),t}function ii(n){const e=yc();e&&e();const t=W(Y,"games",n),r=Ds(t,s=>{const i=s.data();if(!i){D("Oyun sonlandrld."),ut();return}const o=F(),c=Ee();if(c&&i.currentRound>c.currentRound&&(console.log(`LOG: Yeni tur (${i.currentRound}) algland.`),Ht(),mt(),Q(()=>Promise.resolve().then(()=>Be),void 0).then(K=>{K.resetUIForNewRound&&K.resetUIForNewRound(),K.createGrid(i.wordLength,i.GUESS_COUNT)}),Se&&(Se.style.pointerEvents="auto")),(c?.status==="waiting"||c?.status==="invited")&&i.status==="playing"){const K=document.getElementById("matchmaking-screen");K&&!K.classList.contains("hidden")&&J("game-screen"),yt(i),setTimeout(()=>{i.gameType==="multiplayer-br"?(console.log("BR Sayac balatlyor..."),Fa()):(console.log("Standart saya balatlyor..."),pr())},500)}if(i.status==="playing"){const K=Object.keys(i.players).find(_=>_!==o),M=i.players[K];M&&M.isBot&&i.creatorId===o&&ks(K)}if(He(i),i.players&&i.players[o]&&bT(i.players[o].guesses),i.status==="playing"&&Object.keys(i.players).every(_=>{const C=i.players[_];return C?_==="cpu"?!0:C.isEliminated||C.hasSolved||C.hasFailed:!1})&&i.creatorId===o){console.log("Herkes tamamlad. Tur bitiriliyor...");let _={};if(i.gameType==="multiplayer-br")if(i.currentRound>=(i.matchLength||10)){const C=Object.values(i.players);C.sort((w,k)=>(k.score||0)-(w.score||0));const v=C[0];_={status:"finished",matchWinnerId:v.userId||Object.keys(i.players).find(w=>i.players[w]===v)}}else _={status:"finished"};else{const v=Object.entries(i.players).map(([G,I])=>({...I,userId:G})).filter(G=>G.hasSolved);let w=null;v.length>0&&(v.sort((G,I)=>(G.guesses?G.guesses.length:99)-(I.guesses?I.guesses.length:99)),w=v[0].userId);const k=i.currentRound||1,$=i.matchLength||1;k<$?_={roundWinner:w,status:"finished"}:_={status:"finished",roundWinner:w,matchWinnerId:w}}_.roundWinner===void 0&&i.gameType!=="multiplayer-br"&&(_.roundWinner=null),_.matchWinnerId===void 0&&delete _.matchWinnerId,Ue(t,_).catch(C=>console.error("Tur bitirme hatas:",C))}const u=c?.status==="finished",h=i.status==="playing";!c&&h&&setTimeout(()=>{i.gameType==="multiplayer-br"?Fa():pr()},500),u&&h&&(J("game-screen"),yt(i),setTimeout(()=>{i.gameType==="multiplayer-br"?Fa():pr()},500));const d=i.players[o]?.guesses||[],T=c?.players[o]?.guesses.length||0,g=d.length>T;g&&mt(),i.status==="playing"&&(i.players[o]?.guesses||[]).length>=i.GUESS_COUNT&&(Lt(),Se&&(Se.style.pointerEvents="none")),i.status==="finished"?(Lt(),Zt(i,g).then(()=>{const K=Yt(lt())?2500:1500;setTimeout(()=>Un(i),K)})):Zt(i,g)},s=>{console.error("Oyun dinlenirken hata:",s)});Nc(r)}async function No(n,e=1){Ht(),mt();const{timeLimit:t,matchLength:r,gameType:s}=n,i=F();if(!i)return D("Ltfen nce giri yapn.",!0);e===1&&Q(()=>Promise.resolve().then(()=>Be),void 0).then(u=>u.openMatchmakingScreen());let o=!1;const c=document.getElementById("cancel-matchmaking-btn"),l=()=>{o=!0;const u=Et();u&&Q(()=>Promise.resolve().then(()=>Ze),void 0).then(h=>h.abandonGame(u)),Q(()=>Promise.resolve().then(()=>Be),void 0).then(h=>h.showScreen("new-game-screen",!0))};c&&(c.onclick=l);try{const u=ht(Y,"games"),h=pt(u,we("status","==","waiting"),we("gameType","==",s),we("timeLimit","==",t),Ll(5)),d=await kt(h);if(o)return;let T=null;if(d.forEach(g=>{g.data().creatorId!==i&&(T=g)}),T)await oi(T.id);else{if(e===1){const K=Math.floor(Math.random()*1500)+500;return console.log(`LOG: Oyun bulunamad. ${K}ms bekleniyor...`),await new Promise(M=>setTimeout(M,K)),o?void 0:No(n,2)}await Fr({invitedFriendId:null,timeLimit:t,matchLength:r,gameType:s});const g=Et();console.log("LOG: 45 Saniyelik Bot Sayac Balatld..."),setTimeout(()=>{const K=Ee();K&&K.gameId===g&&K.status==="waiting"&&zM(g)},45e3)}}catch(u){if(o)return;console.error("Rastgele oyun aranrken hata:",u),D("Oyun aranrken bir hata olutu.",!0),Q(()=>Promise.resolve().then(()=>Be),void 0).then(h=>h.showScreen("new-game-screen"))}}async function Fr(n={}){Ht(),mt();const{invitedFriendId:e=null,timeLimit:t=45,matchLength:r=5,gameType:s="friend"}=n;if(!Y||!F())return D("Sunucuya balanlamyor.",!0);const i=F(),o=dt(),c=Vs(),l=await Wn(c);if(!l)return;const u=Math.random().toString(36).substring(2,8).toUpperCase(),h=[i];e&&h.push(e);const d={gameId:u,wordLength:c,secretWord:l,timeLimit:t,creatorId:i,isHardMode:!1,matchLength:r,currentRound:1,players:{[i]:{username:o,guesses:[],score:0,jokersUsed:{present:!1,correct:!1,remove:!1}}},playerIds:h,currentPlayerId:i,status:e?"invited":"waiting",roundWinner:null,createdAt:Qe(),turnStartTime:Qe(),GUESS_COUNT:Le,gameType:s};e&&(d.invitedPlayerId=e);try{await Ft(W(Y,"games",u),d),Jn("multiplayer"),localStorage.setItem("activeGameId",u),Ur(u),He(d),J("game-screen"),yt(d),d.status==="playing"?(J("game-screen"),yt(d)):console.log("LOG: Oyun kuruldu, rakip bekleniyor. Radar ekrannda kalnyor."),ii(u)}catch(T){console.error("Error creating game:",T),D("Oyun oluturulamad!",!0)}}async function oi(n){if(Ht(),mt(),!Y||!F())return D("Sunucuya balanlamyor.",!0);const e=dt(),t=W(Y,"games",n),r=F();try{let s;if(await ei(Y,async o=>{const c=await o.get(t);if(!c.exists())throw new Error("Oyun bulunamad!");const l=c.data();if(l.gameType==="multiplayer-br"){if(l.players[r]){s=l;return}throw new Error("Bu bir Battle Royale oyunu. Ltfen lobiden katln.")}if(l.players[r]){s=l;return}if(Object.keys(l.players).length<2){const u={username:e,guesses:[],score:0,jokersUsed:{present:!1,correct:!1,remove:!1}},h={[`players.${r}`]:u,playerIds:Vr(r),status:"playing",turnStartTime:Qe(),invitedPlayerId:Il()};o.update(t,h),s={...l,players:{...l.players,[r]:u},playerIds:[...l.playerIds,r],status:"playing"}}else throw new Error("Bu oyun dolu veya balam.")}),!s){const o=await st(t);if(o.exists())s=o.data();else throw new Error("Oyun verisi bulunamad.")}Jn("multiplayer"),localStorage.setItem("activeGameId",n),Ur(n),He(s),s.status==="waiting"&&(s.gameType==="random_loose"||s.gameType==="random_series")?(console.log("LOG: joinGame iinde 'waiting' durumu algland. Radar ekran alyor."),Q(()=>Promise.resolve().then(()=>Be),void 0).then(o=>o.openMatchmakingScreen())):(J("game-screen"),yt(s)),ii(n)}catch(s){console.error("Error joining game:",s),D(s.message,!0),localStorage.removeItem("activeGameId"),ut()}}function VT(){const n=pA(),e=Mo[n%Mo.length],t=In[String(e)];return!t||t.length===0?In[5][n%In[5].length]:t[n%t.length]}async function zn(n){Ht(),mt(),Jn(n.mode);let e;const t=n.initialGuesses||[],r={isHardMode:!1};switch(n.mode){case"vsCPU":r.wordLength=Vs(),r.timeLimit=120,r.matchLength=5,setTimeout(ks,1e3);break;case"league":if(e=n.secretWord,!e){D("Lig kelimesi yklenemedi.",!0);return}r.wordLength=e.length,r.timeLimit=120,r.matchLength=1;break;case"daily":if(e=VT(),!e){D("Gnn kelimesi bulunamad.",!0);return}const i=UM();if(i&&i.secretWord===e){OM(i);return}r.wordLength=e.length,r.timeLimit=120,r.matchLength=1;break;default:D("Bilinmeyen oyun modu!",!0);return}if(e||(e=await Wn(r.wordLength)),!e){D("Oyun iin kelime alnamad.",!0);return}if(e.length!==r.wordLength){console.error(`Senkronizasyon Hatas: ${r.wordLength} harfli istendi, ${e.length} harfli alnd.`),D("Sunucu hatas. Oyun yeniden balatlyor...",!0),setTimeout(()=>zn(n),1e3);return}const s={wordLength:r.wordLength,secretWord:e,timeLimit:r.timeLimit,isHardMode:r.isHardMode,currentRound:1,matchLength:r.matchLength,players:{[F()]:{username:dt(),guesses:t,score:0,jokersUsed:{present:!1,correct:!1,remove:!1}}},...n.mode==="vsCPU"?{players:{[F()]:{username:dt(),guesses:[],score:0,jokersUsed:{present:!1,correct:!1,remove:!1}},cpu:{username:"Bilgisayar",guesses:[],score:0,jokersUsed:{present:!1,correct:!1,remove:!1}}}}:{},currentPlayerId:F(),status:"playing",turnStartTime:new Date,GUESS_COUNT:Le,gameType:n.mode};if(He(s),t.length>0){const i={};t.forEach(o=>{o.colors.forEach((c,l)=>{c==="correct"&&(i[l]=o.word[l])})}),Fs(i)}J("game-screen"),yt(s),await Zt(s),n.mode==="vsCPU"&&(typeof Rt<"u"&&Rt&&clearTimeout(Rt),console.log("vsCPU Balatlyor: Bot 1.5sn sonra devreye girecek."),setTimeout(()=>ks("cpu"),1500))}function UM(){const n=localStorage.getItem(`dailyGameState_${F()}`);if(!n)return null;try{const e=JSON.parse(n),t=e.secretWord,r=VT();return t===r?e:null}catch{return null}}function ki(n){const e={date:new Date().toDateString(),guesses:n.players[F()].guesses,status:n.status,secretWord:n.secretWord,jokersUsed:n.players[F()].jokersUsed};localStorage.setItem(`dailyGameState_${F()}`,JSON.stringify(e))}function OM(n){console.log("Gnn kelimesi hafzadan ykleniyor..."),Ht(),mt();const e={};n.guesses&&n.guesses.forEach(r=>{r.colors.forEach((s,i)=>{s==="correct"&&(e[i]=r.word[i])})}),Fs(e);const t={wordLength:n.secretWord.length,secretWord:n.secretWord,timeLimit:60,isHardMode:!1,currentRound:1,matchLength:1,roundWinner:n.status==="finished"&&n.guesses.length<Le?F():null,players:{[F()]:{username:dt(),guesses:n.guesses,score:0,jokersUsed:n.jokersUsed||{present:!1,correct:!1,remove:!1}}},currentPlayerId:F(),status:n.status,turnStartTime:new Date,GUESS_COUNT:Le,gameType:"daily"};Jn("daily"),He(t),J("game-screen"),yt(t),Zt(t,!0).then(()=>{t.status==="finished"&&setTimeout(()=>Un(t),500)})}function PM(n,e){const t={},r=new Set;e.forEach(s=>{for(let i=0;i<s.word.length;i++)s.colors[i]==="correct"?t[i]=s.word[i]:s.colors[i]==="present"&&r.add(s.word[i])});for(const s in t)if(n[s]!==t[s])return D(`Zor Mod: ${parseInt(s)+1}. harf "${t[s]}" olmal!`,!0),!1;for(const s of r)if(!n.includes(s))return D(`Zor Mod: Kelime "${s}" harfini iermeli!`,!0),!1;return!0}function yo(n,e){return n<1||n>Le?0:{1:1e3,2:800,3:600,4:400,5:200,6:100}[n]||0}function DM(n,e){return{1:100,2:80,3:60,4:40,5:20,6:10}[n]||0}async function _o(n,e,t,r,s,i){const o=pA(),c=t.length,l=`${o}_${c}_${n}`,u=W(Y,"daily_leaderboard",l);if((await st(u)).exists())return{success:!1,message:"Skor zaten kaydedilmi."};try{return await Ft(u,{dayIndex:o,wordLength:c,userId:n,username:e,secretWord:t,didWin:r,guessCount:s,score:i,completedAt:Qe()},{merge:!0}),D("Gnlk skorunuz kaydedildi!"),{success:!0}}catch(d){return console.error("Gnlk skor kayd baarsz:",d),D("Gnlk skorunuz kaydedilemedi.",!0),{success:!1,message:d.message}}}async function CM(){const n=Ee();if(!n||n.status!=="playing")return;const e=lt(),t=F(),r=n.players[t];if(!r||r.isEliminated||r.hasSolved||r.hasFailed||r.guesses&&r.guesses.length>=Le)return;let s="";const i=r.guesses?r.guesses.length:0,o=n.wordLength||5;for(let g=0;g<o;g++){const K=document.getElementById(`tile-${i}-${g}`);if(!K)break;const M=K.querySelector(".front");if(!M||M.textContent===""){D("Kelime yeterince uzun deil!",!0),Vi(o,i);return}s+=M.textContent}if(n.isHardMode&&r.guesses.length>0&&!PM(s,r.guesses)){Vi(o,i);return}if(Se&&(Se.style.pointerEvents="none"),!await XS(s)){D("Kelime szlkte bulunamad!",!0),Vi(o,i),Se&&(Se.style.pointerEvents="auto");return}const l=n.secretWord,u=FT(s,l),h={word:s,colors:u};n.players[t].guesses||(n.players[t].guesses=[]),n.players[t].guesses.push(h),bT(n.players[t].guesses),mt();const d=s===l,T=n.players[t].guesses.length;if(e==="multiplayer"||Yt(e)||e==="friend"||e==="random_series"||e==="random_loose"){const g={[`players.${t}.guesses`]:n.players[t].guesses};if(d){g[`players.${t}.hasSolved`]=!0;const K=yo(T),M=n.players[t].score||0;g[`players.${t}.score`]=M+K}else T>=Le&&(g[`players.${t}.hasFailed`]=!0);try{await Ue(W(Y,"games",Et()),g)}catch(K){console.error("Tahmin gnderilemedi:",K),D("Balant hatas.",!0)}}else if(e==="league"){const g=n.leagueWeekID,K=n.leagueMatchId,M=F();if(g&&K){const _=W(Y,"leagues",g,"matches",K);try{await ei(Y,async C=>{const v=await C.get(_);if(!v.exists())throw"Ma bulunamad";const k=v.data().p1===M?"p1_data":"p2_data",$={};$[`${k}.guesses`]=n.players[t].guesses,d?($[`${k}.completed`]=!0,$[`${k}.failed`]=!1):T>=Le&&($[`${k}.completed`]=!0,$[`${k}.failed`]=!0),C.update(_,$)}),(d||T>=Le)&&(n.status="finished",n.roundWinner=d?t:null,He(n),Lt(),setTimeout(()=>Un(n),1e3))}catch(C){console.error("Lig gncelleme hatas:",C)}}}else if(e==="vsCPU"){if(d){n.players[t].hasSolved=!0;const g=yo(T);n.players[t].score+=g,await Es(!0,T),D("Tebrikler! Bilgisayar bekleniyor...",!1)}else T>=Le&&(n.players[t].hasFailed=!0,await Es(!1,T),D("Hakkn bitti! Bilgisayar bekleniyor...",!0));He(n),JT()}else if(e==="daily")if(ki(n),d){n.status="finished",n.roundWinner=t,await Es(!0,T);const g=DM(T);await _o(t,dt(),l,!0,T,g),ki(n)}else T>=Le&&(n.status="finished",n.roundWinner=null,await Es(!1,T),await _o(t,dt(),l,!1,T,0),ki(n));(d||T>=Le)&&(Se&&(Se.style.pointerEvents="none"),(e==="multiplayer"||e==="league"||Yt(e))&&D(d?"Tebrikler! Dier oyuncular bekleniyor...":"Hakkn bitti! Dierleri bekleniyor...",!d)),Zt(n,!0).then(()=>{e==="daily"&&n.status==="finished"&&setTimeout(()=>Un(n),1500)})}async function kT(n=""){const e=Ee();if(!e||e.status!=="playing")return;const t=F(),r=lt(),s=e.players[t];if(!(s.hasSolved||s.hasFailed||s.isEliminated))if(Lt(),Se&&(Se.style.pointerEvents="none"),console.log("LOG: failTurn alt. Sre bitti."),r==="multiplayer"||Yt(r)){const i={[`players.${t}.hasFailed`]:!0};try{await Ue(W(Y,"games",Et()),i),D("Sre doldu!",!0)}catch(o){console.error(o)}}else if(r==="league"){const i=e.leagueWeekID,o=e.leagueMatchId;if(i&&o){const c=W(Y,"leagues",i,"matches",o);try{await ei(Y,async l=>{const u=await l.get(c);if(!u.exists())return;const d=u.data().p1===t?"p1_data":"p2_data";l.update(c,{[`${d}.guesses`]:e.players[t].guesses||[],[`${d}.completed`]:!0,[`${d}.failed`]:!0})}),e.status="finished",e.roundWinner=null,He(e),D("Sre doldu!",!0),setTimeout(()=>Un(e),1e3)}catch(l){console.error("Lig sre biti hatas:",l)}}}else e.status="finished",e.roundWinner=r==="vsCPU"?"cpu":null,await Es(!1,0),r==="daily"?(ki(e),await _o(t,dt(),e.secretWord,!1,Le,0)):r==="vsCPU"&&e.players.cpu&&(e.players.cpu.score+=100),Zt(e,!0).then(()=>{setTimeout(()=>Un(e),1500)})}function Is(n){const e=Ee();if(!e||e.status!=="playing")return;const t=F(),r=e.players[t];if(!r)return;if(r.isEliminated||r.hasSolved||r.hasFailed){D("Elenmi/zm/Hakk bitmi oyuncu tahmin yapamaz.",!0);return}if((r.guesses||[]).length<Le){const o=n.toLocaleUpperCase("tr-TR");o==="ENTER"?(We("click"),CM()):o===""||o==="BACKSPACE"?(We("click"),BM()):"ERTYUIOPASDFGHJKLZC VBNM".includes(o)&&wM(o)}}function wM(n){const e=Ee();if(!e)return;const t=(e.players[F()]?.guesses||[]).length;if(!(t>=Le)){Mc()||mh(!0);for(let r=0;r<dr;r++){const s=document.getElementById(`tile-${t}-${r}`);if(s){const i=s.querySelector(".front"),o=s.querySelector(".back"),c=s.classList.contains("static");if(i.textContent===""||c){c&&(s.classList.remove("static","correct"),o.className="tile-inner back",o.textContent=""),i.textContent=n,We("click");break}}}}}function BM(){const n=Ee();if(!n)return;const e=(n.players[F()]?.guesses||[]).length;if(!(e>=Le)&&Mc())for(let t=dr-1;t>=0;t--){const r=document.getElementById(`tile-${e}-${t}`);if(r&&r.querySelector(".front").textContent!==""&&!r.classList.contains("static")){r.querySelector(".front").textContent="";return}}}function FT(n,e){const t=e.split(""),r=n.split(""),s=Array(n.length).fill("absent"),i={};for(const o of t)i[o]=(i[o]||0)+1;for(let o=0;o<n.length;o++)r[o]===t[o]&&(s[o]="correct",i[r[o]]--);for(let o=0;o<n.length;o++)s[o]!=="correct"&&e.includes(r[o])&&i[r[o]]>0&&(s[o]="present",i[r[o]]--);return s}function vM(n="cpu"){const e=Ee(),t=e.players[n]?.guesses||[],r=String(e.wordLength);let s=[...In[r]||In[5]];const i={},o=new Set,c=new Set,l={};t.forEach(K=>{for(let M=0;M<K.word.length;M++){const _=K.word[M],C=K.colors[M];if(C==="correct")i[M]=_,o.add(_);else if(C==="present")o.add(_),l[_]||(l[_]=new Set),l[_].add(M);else if(C==="absent"){let v=!1;for(let w=0;w<K.word.length;w++)if((K.colors[w]==="correct"||K.colors[w]==="present")&&K.word[w]===_){v=!0;break}v||c.add(_)}}}),s=s.filter(K=>{for(const M in i)if(K[M]!==i[M])return!1;for(const M of c)if(K.includes(M))return!1;for(const M of o)if(!K.includes(M))return!1;for(const M in l)for(const _ of l[M])if(K[_]===M)return!1;return!0});const u=new Set(t.map(K=>K.word));let h=s.filter(K=>!u.has(K));const d=e.secretWord;if(h.length===0){const K=(In[r]||[]).filter(M=>!u.has(M));return K.length>0?K[Math.floor(Math.random()*K.length)]:"KALEM"}const T=h.indexOf(d);if(t.length<2&&T!==-1&&h.length>1)h.splice(T,1);else if(t.length>=3&&T!==-1&&Math.random()>.4)return d;const g=Math.floor(Math.random()*h.length);return h[g]}async function bM(n="cpu"){const e=Ee();if(!e||e.status==="finished")return;const t=e.players[n];if(t.hasSolved||t.hasFailed)return;const r=vM(n),s=e.secretWord,i=FT(r,s),o={word:r,colors:i};if(n==="cpu")e.players.cpu.guesses.push(o),r===s?(console.log("BOT: Doru bildi!"),e.players.cpu.hasSolved=!0,e.players.cpu.score+=yo(e.players.cpu.guesses.length)):e.players.cpu.guesses.length>=Le&&(e.players.cpu.hasFailed=!0),He(e),await Zt(e,!1),JT();else{const l=[...t.guesses||[],o],u={[`players.${n}.guesses`]:l};if(r===s){console.log(`BOT (${t.username}): KAZANDI!`),u[`players.${n}.hasSolved`]=!0;const h=yo(l.length);u[`players.${n}.score`]=(t.score||0)+h}else l.length>=Le&&(console.log(`BOT (${t.username}): KAYBETT!`),u[`players.${n}.hasFailed`]=!0);try{await Ue(W(Y,"games",Et()),u)}catch(h){console.error("Bot hamlesi yazlamad:",h)}}}async function Es(n,e){const t=F(),r=lt(),s=Xe();if(r==="multiplayer"||Yt(r)||!t)return;const i=W(Y,"users",t),o=Pl(s);o.played+=1,n?(o.wins+=1,o.currentStreak+=1,o.currentStreak>o.maxStreak&&(o.maxStreak=o.currentStreak),e>=1&&e<=6&&(o.guessDistribution[String(e)]+=1)):o.currentStreak=0;try{await Ft(i,{stats:o},{merge:!0});const c={...s,stats:o};jt(c)}catch(c){console.error("statistikler gncellenemedi:",c)}}async function VM(n,e){const t=pA(),r=e.length;try{const s=ht(Y,"daily_leaderboard"),i=pt(s,we("dayIndex","==",t),we("wordLength","==",r),we("score",">",0),Zn("score","desc"),Zn("guessCount","asc"),Zn("completedAt","asc")),o=await kt(i),c=[];let l=0,u=0;o.forEach((k,$)=>{const G=k.data();G.userId===n&&(l=$+1),c.push(G),u+=G.score});const h=pt(s,we("dayIndex","==",t),we("wordLength","==",r)),d=await kt(h),T=d.size;let g=0,K=0;c.forEach(k=>{g+=k.guessCount,K++});const M=K>0?(g/K).toFixed(1):"N/A",_=T>0?(u/T).toFixed(0):"N/A",C=d.docs.find(k=>k.data().userId===n)?.data(),v=C?.didWin?C.guessCount:"X",w=C?.score||0;return{userPosition:l,totalPlayers:T,userGuessCount:v,userScore:w,avgGuesses:M,avgScore:_,leaderboard:c.slice(0,3)}}catch(s){return console.error("Gnlk sralama verileri ekilirken hata:",s),null}}async function YT(){Ht(),mt();const n=lt(),e=Ee();if(n==="daily"){ut();return}if(!e)return;if(Yt(n)&&e.status==="finished"){if(e.matchWinnerId!==void 0||e.currentRound>=10){ut();return}if(e.creatorId===F()){const o=Vs(),c=await Wn(o),l={currentRound:(e.currentRound||1)+1,secretWord:c,wordLength:o,status:"playing",roundWinner:null,matchWinnerId:Il(),turnStartTime:Qe()};Object.keys(e.players).forEach(u=>{l[`players.${u}.guesses`]=[],l[`players.${u}.hasSolved`]=!1,l[`players.${u}.hasFailed`]=!1,l[`players.${u}.isEliminated`]=!1,l[`players.${u}.jokersUsed`]={present:!1,correct:!1,remove:!1}});try{await Ue(W(Y,"games",Et()),l)}catch(u){console.error(u)}}else D("Oyun kurucunun turu balatmas bekleniyor...",!1);return}if(e.currentRound>=e.matchLength){n==="multiplayer"?ut():zn({mode:n});return}const t=Vs(),r=await Wn(t);if(!r)return D("Yeni kelime alnamad.",!0);const s=(e.currentRound||0)+1,i={wordLength:t,secretWord:r,status:"playing",currentRound:s,roundWinner:null,turnStartTime:Qe()};if(Object.keys(e.players).forEach(o=>{i[`players.${o}.guesses`]=[],i[`players.${o}.hasSolved`]=!1,i[`players.${o}.hasFailed`]=!1,i[`players.${o}.jokersUsed`]={present:!1,correct:!1,remove:!1}}),n==="vsCPU"){i.turnStartTime=new Date;const o={...e,...i};Object.keys(o.players).forEach(c=>{o.players[c].guesses=[],o.players[c].hasSolved=!1,o.players[c].hasFailed=!1}),He(o),J("game-screen"),yt(o),pr(),setTimeout(ks,1e3),await Zt(o)}else n==="multiplayer"||n==="friend"||n==="random_series"?await Ue(W(Y,"games",Et()),i):zn({mode:n})}function pr(){const n=lt(),e=Ee(),t=F();if(Yt(n)||n==="daily"||(Lt(),!e||e.status!=="playing"))return;const r=e.players[t];if(r&&(r.hasSolved||r.hasFailed||r.isEliminated)){qe&&(qe.textContent="0");return}let s;const i=e.turnStartTime;i?i.toDate?s=i.toDate():i instanceof Date?s=i:s=new Date(i):(console.warn("Zaman verisi yok, saya manuel balatlyor."),s=new Date);const o=n==="league"?120:e.timeLimit||45;qe&&(qe.style.display="block",qe.textContent=o);const c=async()=>{let h=Math.floor((new Date-s)/1e3);h<0&&(h=0);let d=o-h;d<0&&(d=0),qe&&(qe.textContent=d,d<=10&&d>0?qe.classList.add("text-red-500","pulsate"):qe.classList.remove("text-red-500","pulsate")),d<=0&&(Lt(),r&&!r.hasFailed&&!r.hasSolved&&(console.log("Sre bitti, tur baarsz."),await kT("")))};c();const l=setInterval(c,1e3);Oo(l)}function Fa(){const n=Ee();if(!n||n.status!=="playing")return;Lt();const e=n.turnStartTime?.toDate?n.turnStartTime.toDate():new Date,t=setInterval(async()=>{let s=Math.floor((new Date-e)/1e3),i=(n.timeLimit||60)-s;if(St&&(St.textContent=i>0?i:0,i<=10?St.classList.add("text-red-500","pulsate"):St.classList.remove("text-red-500","pulsate")),i<=0){Lt(),Se&&(Se.style.pointerEvents="none"),D("Sre doldu!",!0);try{await eM(Et(),F())}catch(o){console.error("Sre bitimi sunucuya bildirilemedi:",o)}}},1e3);Oo(t)}function Lt(){clearInterval(ph()),Oo(null),Rt&&(clearTimeout(Rt),Rt=null),qe&&(qe.textContent="",qe.classList.remove("text-red-500")),St&&(St.textContent="",St.classList.remove("text-red-500"))}function ut(){console.log("LOG: leaveGame fonksiyonu alt.");const n=yc();n&&n(),Rt&&(clearTimeout(Rt),Rt=null),Lt(),localStorage.removeItem("activeGameId"),Nc(null),Ur(null),He(null),J("main-menu-screen");const e=document.getElementById("rejoin-game-btn");e&&e.classList.add("hidden")}function Uo(){const n=Et();if(!n)return;const e=W(Y,"games",n);Ue(e,{status:"playing",turnStartTime:Qe()})}async function ZT(n={}){Ht(),mt();const e=120,t=Vs(),{isHardMode:r=!1}=n;if(!Y||!F())return D("Sunucuya balanlamyor.",!0);const s=F(),i=dt(),o=await Wn(t);if(!o)return;const c=Math.random().toString(36).substring(2,8).toUpperCase(),l={gameId:c,wordLength:t,secretWord:o,timeLimit:e,creatorId:s,isHardMode:r,matchLength:10,players:{[s]:{userId:s,username:i,guesses:[],isEliminated:!1,hasSolved:!1,isWinner:!1,hasFailed:!1,jokersUsed:{present:!1,correct:!1,remove:!1}}},playerIds:[s],currentPlayerId:s,status:"waiting",roundWinner:null,createdAt:Qe(),turnStartTime:Qe(),GUESS_COUNT:Le,gameType:"multiplayer-br",maxPlayers:8,currentRound:1};try{await Ft(W(Y,"games",c),l),Jn("multiplayer-br"),localStorage.setItem("activeGameId",c),Ur(c),He(l),J("game-screen"),yt(l),ii(c),D("Battle Royale oyunu kuruldu! Arkadalarn davet et.",!1)}catch(u){console.error("Error creating BR game:",u),D("BR Oyunu oluturulamad!",!0)}}async function LA(n){if(Ht(),mt(),!Y||!F())return D("Sunucuya balanlamyor.",!0);const e=dt(),t=W(Y,"games",n),r=F();try{let s;if(await ei(Y,async i=>{const o=await i.get(t);if(!o.exists())throw new Error("Oyun bulunamad!");const c=o.data();if(c.gameType!=="multiplayer-br")throw new Error("Bu bir Battle Royale oyunu deil.");if(c.players[r]){s=c;return}if(c.status!=="waiting"){if(c.status==="playing"&&c.players[r]&&!c.players[r].isEliminated){s=c;return}throw new Error("Bu oyun oktan balad veya bitti.")}if(Object.keys(c.players).length>=(c.maxPlayers||BT))throw new Error("Oyun dolu.");const l={userId:r,username:e,guesses:[],isEliminated:!1,hasSolved:!1,isWinner:!1,hasFailed:!1,jokersUsed:{present:!1,correct:!1,remove:!1}},u={[`players.${r}`]:l,playerIds:Vr(r)};i.update(t,u),s={...c,players:{...c.players,[r]:l},playerIds:[...c.playerIds,r]}}),!s){const i=await st(t);if(i.exists())s=i.data();else throw new Error("Oyun verisi bulunamad.")}Jn("multiplayer-br"),localStorage.setItem("activeGameId",n),Ur(n),He(s),J("game-screen"),yt(s),ii(n),D(`Oyuna katldnz! Toplam ${Object.keys(s.players).length} oyuncu.`,!1)}catch(s){console.error("Error joining BR game:",s),D(s.message,!0),localStorage.removeItem("activeGameId"),ut()}}async function gA(n){const e=F(),t=Xe();if(!t||!t.inventory)return!1;const r=t.inventory[n]||0;if(r<=0)return!1;const s={...t.inventory};s[n]=r-1;const i={...t,inventory:s};jt(i),Q(()=>Promise.resolve().then(()=>Be),void 0).then(o=>{o.updateMarketUI();const l=Ee().currentPlayerId===e;o.updateJokerUI(null,l,"playing")});try{const o=W(Y,"users",e);await Ue(o,{inventory:s})}catch(o){console.error("Joker harcama hatas:",o)}return!0}async function HT(){const n=Ee();if(!n||n.status!=="playing")return;const t=Xe()?.inventory?.present||0;if(t<=0){D("Turuncu Kalem stokta yok! Krtasiyeden alabilirsin.",!0);return}const r=n.secretWord,s=new Set;document.querySelectorAll(".keyboard-key").forEach(u=>{(u.classList.contains("correct")||u.classList.contains("present"))&&s.add(u.dataset.key)});const i=[];for(const u of r)s.has(u)||i.push(u);if(i.length===0){D("Tm harfler zaten ipucu olarak ak!",!0);return}if(!await gA("present"))return;const c=i[Math.floor(Math.random()*i.length)],l=document.querySelector(`.keyboard-key[data-key="${c}"]`);l&&(l.classList.remove("absent"),l.classList.add("present"),l.style.transform="scale(1.2)",l.style.borderColor="#f59e0b",setTimeout(()=>{l.style.transform="scale(1)"},300),Q(()=>Promise.resolve().then(()=>Sh),void 0).then(u=>u.addPresentJokerLetter(c)),D(`pucu: "${c}" harfi kelimede var! (Kalan: ${t-1})`,!1))}async function GT(){const n=Ee();if(!n||n.status!=="playing")return;const t=Xe()?.inventory?.correct||0;if(t<=0){D("Yeil Kalem stokta yok! Krtasiyeden alabilirsin.",!0);return}const r=n.secretWord,s=n.players[F()],i=s.guesses?s.guesses.length:0,o=Ss(),c=[];for(let T=0;T<r.length;T++)o[T]||c.push(T);if(c.length===0){D("Tm harflerin yerini zaten biliyorsun!",!0);return}if(!await gA("correct"))return;const u=c[Math.floor(Math.random()*c.length)],h=r[u];o[u]=h,Fs(o),yT(i,u,h,"correct");const d=document.querySelector(`.keyboard-key[data-key="${h}"]`);d&&(d.classList.remove("present","absent"),d.classList.add("correct"),d.style.transform="scale(1.2)",setTimeout(()=>{d.style.transform="scale(1)"},300)),D(`pucu: ${u+1}. harf "${h}"! (Kalan: ${t-1})`,!1)}async function xT(){const n=Ee();if(!n||n.status!=="playing")return;const t=Xe()?.inventory?.remove||0;if(t<=0){D("Silgi stokta yok! Krtasiyeden alabilirsin.",!0);return}const r=n.secretWord,s=[];if(document.querySelectorAll(".keyboard-key").forEach(l=>{const u=l.dataset.key;u&&u.length===1&&u!==""&&u!=="ENTER"&&!l.classList.contains("correct")&&!l.classList.contains("present")&&!l.classList.contains("absent")&&(r.includes(u)||s.push(l))}),s.length===0){D("Elenecek harf kalmad!",!0);return}if(!await gA("remove"))return;const o=Math.min(s.length,4);s.sort(()=>.5-Math.random()).slice(0,o).forEach(l=>{l.classList.add("absent"),l.style.opacity="0.3",l.style.pointerEvents="none"}),D(`${o} adet yanl harf elendi! (Kalan: ${t-1})`,!1)}async function kM(n){try{await oi(n)}catch(e){console.error("Davet kabul edilemedi:",e),D(e.message||"Oyuna katlrken bir hata olutu.",!0)}}async function FM(n){try{await Xs(W(Y,"games",n)),D("Davet reddedildi.")}catch(e){console.error("Davet reddedilemedi:",e)}}async function YM(n,e){if(!n)return;Et()===n&&ut();const t=F(),r=W(Y,"games",n);if(e){e.style.opacity="0.5";const s=e.querySelector("button");s&&(s.disabled=!0)}try{const s=await st(r);if(!s.exists()){e&&e.remove();return}const i=s.data();let o={hiddenFrom:Vr(t)};if(i.status==="waiting"&&i.creatorId===t)await Xs(r),D("Oyun lobisi kapatld.");else if(!Yt(i.gameType)&&i.playerIds.length>1&&i.status!=="finished"){const c=i.playerIds.find(l=>l!==t);o.status="finished",o.roundWinner=c,o.matchWinnerId=c,await Ue(r,o),D("Oyundan ekildiniz. Rakibiniz kazand.")}else o.status="finished",Yt(i.gameType)&&(o[`players.${t}.isEliminated`]=!0),await Ue(r,o),D("Oyun bitenlere tand.");e&&e.remove()}catch(s){if(console.error("Oyundan ayrlrken hata:",s),D("Oyundan ayrlrken bir hata olutu.",!0),e){e.style.opacity="1";const i=e.querySelector("button");i&&(i.disabled=!1)}}}async function jT(){const n=Ee(),e=F();if(!n){D("Oyun verisi bulunamad.",!0);return}if(n.matchLength!==1){D("Rvan sadece 1 turluk oyunlarda geerlidir.",!0);return}if(n.gameType!=="friend"&&n.gameType!=="random_loose"){D("Bu oyun modu iin rvan geerli deildir.",!0);return}const t=n.playerIds.find(s=>s!==e);if(!t){D("Rvan iin rakip bulunamad.",!0);return}const r=document.getElementById("new-word-rematch-btn");r&&(r.disabled=!0,r.textContent="Davet gnderiliyor...");try{const s=Et();s&&await Xs(W(Y,"games",s))}catch(s){console.error("Eski oyun silinirken hata:",s)}try{await Fr({invitedFriendId:t,timeLimit:43200,matchLength:1,gameType:"friend"})}catch(s){console.error("Rvan daveti oluturulamad:",s),D("Hata: "+s.message,!0),r&&(r.disabled=!1,r.textContent="Yeni Kelime (Rvan)"),ut()}}function $T(){const n=new Date,e=n.getFullYear(),t=new Date(e,0,1),r=Math.floor((n-t)/(1440*60*1e3)),s=Math.ceil((n.getDay()+1+r)/7);return`${e}-W${s}`}async function ZM(){const n=F();if(!n)return;const e=$T(),t=W(Y,"leagues",e,"participants",n);try{if((await st(t)).exists())document.getElementById("league-intro-section").classList.add("hidden"),document.getElementById("league-dashboard-section").classList.remove("hidden"),await HM(e,n);else{const s=document.getElementById("join-league-btn");s&&(s.onclick=()=>qT(e))}}catch(r){console.error("Lig durumu kontrol hatas:",r)}}async function qT(n){const e=F(),t=dt();try{const r=document.getElementById("join-league-btn");r&&(r.disabled=!0,r.textContent="Lige giriliyor...");const s=ht(Y,"leagues",n,"participants");(await kt(pt(s,Ll(15)))).size<15&&await XT(n),await Ft(W(Y,"leagues",n,"participants",e),{username:t,joinedAt:Qe(),score:0}),await Ft(W(Y,"leagues",n),{isActive:!0},{merge:!0}),r&&r.classList.add("hidden");const o=document.getElementById("league-join-status");o&&o.classList.remove("hidden"),D("Lige katlm saland! Rakiplerin hazr.",!1),setTimeout(()=>{Q(()=>Promise.resolve().then(()=>Ze),void 0).then(c=>c.checkLeagueStatus())},1500)}catch(r){console.error("Lige katlma hatas:",r),D("Hata olutu.",!0);const s=document.getElementById("join-league-btn");s&&(s.disabled=!1,s.textContent="LGE KATIL ")}}async function HM(n,e){const t=ht(Y,"leagues",n,"participants"),r=await kt(t),s={};r.forEach(g=>{s[g.id]={id:g.id,username:g.data().username,stats:{O:0,G:0,B:0,M:0,P:0}}});const i=ht(Y,"leagues",n,"matches"),o=await kt(i),c=[];let l=0;o.forEach(g=>{const K=g.data(),M=K.p1,_=K.p2,C=K.p1_data,v=K.p2_data;if(C&&C.guesses&&v&&v.guesses){s[M]&&s[M].stats.O++,s[_]&&s[_].stats.O++;let w=0,k=0;C.failed&&v.failed?(w=1,k=1,s[M]&&s[M].stats.B++,s[_]&&s[_].stats.B++):C.failed?(w=0,k=3,s[M]&&s[M].stats.M++,s[_]&&s[_].stats.G++):v.failed||C.guesses.length<v.guesses.length?(w=3,k=0,s[M]&&s[M].stats.G++,s[_]&&s[_].stats.M++):C.guesses.length>v.guesses.length?(w=0,k=3,s[M]&&s[M].stats.M++,s[_]&&s[_].stats.G++):(w=1,k=1,s[M]&&s[M].stats.B++,s[_]&&s[_].stats.B++),s[M]&&(s[M].stats.P+=w),s[_]&&(s[_].stats.P+=k),M===e&&(l+=w),_===e&&(l+=k)}if(M===e||_===e){const k=s[M===e?_:M],$=M===e?C:v,G=M===e?v:C;let I=5;if(!$||!$.guesses)I=0;else if(!G||!G.guesses)I=1;else{let L=0;$.failed&&G.failed?L=1:$.failed?L=0:G.failed||$.guesses.length<G.guesses.length?L=3:$.guesses.length===G.guesses.length?L=1:L=0,L===3?I=2:L===1?I=3:I=4}let m={id:g.id,p1:M,p2:_,opponentName:k?k.username:"Bilinmiyor",sortCategory:I,...K};c.push(m)}}),Object.values(s).forEach(g=>{if(g.id===e)return;if(!c.find(M=>M.p1===g.id||M.p2===g.id)){const M=[e,g.id].sort().join("_");c.push({id:M,p1:e<g.id?e:g.id,p2:e<g.id?g.id:e,opponentName:g.username,sortCategory:0})}}),c.sort((g,K)=>g.sortCategory-K.sortCategory);const u=Object.values(s).map(g=>({id:g.id,username:g.username,...g.stats}));u.sort((g,K)=>K.P!==g.P?K.P-g.P:K.G!==g.G?K.G-g.G:(g.username||"").localeCompare(K.username||""));const{renderLeagueMatches:h,renderLeagueStandings:d}=await Q(async()=>{const{renderLeagueMatches:g,renderLeagueStandings:K}=await Promise.resolve().then(()=>Be);return{renderLeagueMatches:g,renderLeagueStandings:K}},void 0),T=document.getElementById("league-total-score");T&&(T.textContent=l),h(c,e),d(u,e)}async function GM(n,e,t){const r=$T(),s=F(),i=W(Y,"leagues",r,"matches",n),o=await st(i);let c,l;if(o.exists()){if(c=o.data(),l=c.secretWord,!l){try{l=await Wn(5)}catch{l=yi(5)}l||(l=yi(5)),c.secretWord=l,await Ft(i,{secretWord:l},{merge:!0})}}else{console.log("LOG: Ma veritabannda yok, yeni oluturuluyor...");const v=5;try{l=await Wn(v)}catch($){console.warn("Sunucu hatas, yerel kelime seiliyor:",$),l=yi(v)}l||(l=yi(v));const w=s<e?s:e,k=s<e?e:s;c={matchId:n,weekID:r,p1:w,p2:k,secretWord:l,createdAt:Qe(),p1_data:{},p2_data:{}},await Ft(i,c)}const u=c.p1===s?"p1":"p2",h=c.p1===s?"p1_data":"p2_data",d=`${u}_startedAt`;let T=c[d],g=[];if(c[h]&&c[h].guesses&&(g=c[h].guesses),T?T=T.toDate?T.toDate():new Date(T):(T=new Date,await Ue(i,{[d]:Qe()})),Math.floor((new Date-T)/1e3)>=120){D("Bu man sresi dolmu! Tekrar giremezsiniz.",!0);return}await zn({mode:"league",secretWord:l,initialGuesses:g});const C=Ee();C.leagueMatchId=n,C.leagueWeekID=r,C.turnStartTime=T,C.currentPlayerId=s,He(C),D(`${t} ile ma balad!`,!1),Q(()=>Promise.resolve().then(()=>Ze),void 0).then(v=>v.startTurnTimer())}async function xM(n,e,t){const r=F(),s=Xe();if(!s)return;const i=s.gold||0;if(i<t){D("Yetersiz bakiye! Altn kazanmalsn.",!0),We("lose");return}const o=i-t,c=s.inventory||{present:0,correct:0,remove:0};c[e]=(c[e]||0)+1;try{const l=W(Y,"users",r);await Ue(l,{gold:o,inventory:c});const u={...s,gold:o,inventory:c};jt(u);const{updateMarketUI:h}=await Q(async()=>{const{updateMarketUI:T}=await Promise.resolve().then(()=>Be);return{updateMarketUI:T}},void 0);h();const d=document.getElementById("main-menu-gold-display");d&&(d.textContent=o),D("Satn alma baarl!",!1),We("win")}catch(l){console.error("Satn alma hatas:",l),D("lem srasnda hata olutu.",!0)}}async function jM(n){const e=F(),t=Xe();if(!t)return;const r=(t.gold||0)+n;try{const s=W(Y,"users",e);await Ue(s,{gold:r});const i={...t,gold:r};jt(i);const{updateMarketUI:o}=await Q(async()=>{const{updateMarketUI:l}=await Promise.resolve().then(()=>Be);return{updateMarketUI:l}},void 0);o();const c=document.getElementById("main-menu-gold-display");c&&(c.textContent=r),D(`${n} Altn hesabna eklendi!`,!1),We("win")}catch(s){console.error("Altn ekleme hatas:",s)}}async function $M(){const n=F();if(n)try{const e=W(Y,"users",n),t=await st(e);if(t.exists()){const s=t.data().dictionary||[];s.reverse(),Q(()=>Promise.resolve().then(()=>Be),void 0).then(i=>i.renderDictionaryList(s))}}catch(e){console.error("Szlk ykleme hatas:",e),D("Szlk yklenemedi.",!0)}}async function WT(n){const e=F();if(!e||!n)return;const t=n.toLocaleUpperCase("tr-TR"),r=await mA(t);try{const s=W(Y,"users",e);await Ue(s,{dictionary:Vr({word:t,meaning:r,addedAt:new Date().toISOString()})});const i=document.getElementById("btn-add-word-to-dict");i&&(i.innerHTML="<span></span> Eklendi",i.classList.replace("bg-amber-600","bg-green-600"),i.disabled=!0),D("Szle eklendi!",!1)}catch(s){console.error("Kelime ekleme hatas:",s),D("Hata olutu.",!0)}}async function qM(n,e){const t=F();try{const r=W(Y,"users",t),s=await st(r);if(s.exists()){const o=(s.data().dictionary||[]).find(c=>c.word===n);o&&(await Ue(r,{dictionary:BI(o)}),e&&(e.style.transform="translateX(100%)",e.style.opacity="0",setTimeout(()=>e.remove(),300)),D("Silindi.",!1))}}catch(r){console.error(r)}}function zT(n){const e=document.getElementById("btn-add-word-to-dict");if(!e)return;e.classList.remove("hidden","bg-green-600"),e.classList.add("bg-amber-600"),e.innerHTML="<span></span> Szle Ekle",e.disabled=!1;const t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.onclick=()=>WT(n)}async function ks(n="cpu"){Rt&&clearTimeout(Rt);const e=Ee();if(!e||e.status!=="playing")return;const t=e.players[n];if(!t||t.hasSolved||t.hasFailed){console.log(`BOT (${t?.username}): Zaten bitirdi, dng durduruldu.`);return}const r=Math.floor(Math.random()*4e3)+8e3;console.log(`BOT (${t.username}): Bir sonraki tahmin ${r/1e3} sn sonra.`),Rt=setTimeout(async()=>{const s=Ee(),i=s?.players[n];!s||s.status!=="playing"||i.hasSolved||i.hasFailed||(await bM(n),ks(n))},r)}function JT(){const n=Ee(),e=F(),t=n.players[e],r=n.players.cpu;if(!t||!r)return;const s=t.hasSolved||t.hasFailed,i=r.hasSolved||r.hasFailed;s&&i&&(console.log("vsCPU: ki taraf da bitirdi. Oyun sonlanyor."),n.status="finished",t.hasSolved&&r.hasSolved?t.guesses.length<=r.guesses.length?n.roundWinner=e:n.roundWinner="cpu":t.hasSolved?n.roundWinner=e:r.hasSolved?n.roundWinner="cpu":n.roundWinner=null,He(n),Lt(),Zt(n,!0).then(()=>{setTimeout(()=>Un(n),1500)}))}function yi(n){const e=String(n),t=In[e]||In[5];return t&&t.length>0?t[Math.floor(Math.random()*t.length)]:"KALEM"}const Lc=["KelimeBaz","LgatEfendisi","HarfAvcs","BilginBayku","KitapKurdu","GeceMavisi","RzgarnOlu","SessizFrtna","Ahmet_1905","AyeGl_Tr","MehmetCan","Zeynep_K","Mustafa34","ElifSu","Burak_Ylmz","DenizMavi","Cem_Baba","Szlk","AklKp","BulmacaKral","anslKedi","YalnzKurt","irinPanda","HzlLeopar","DaKeisi","Gamer_Tr","ProOyuncu","Winner_01","Efsane","KralTac","Joker","Neo","Matrix","KaptanPilot","MaviBere","SonSava","GlgeHaramisi","YldzTozu","aylak","Uykusuz","Profesr","Editr","Yazarizer","OkurYazar","Heceleme","Alfabe","KlavyeDelisi","EkranKoruyucu","SanalZeka","Piksel"];function WM(){const n=Math.floor(Math.random()*Lc.length);return Lc[n]}async function zM(n){const e="bot_"+Date.now(),t=WM();console.log(`LOG: 45sn doldu. Bot atanyor: ${t}`);const r=W(Y,"games",n),s={username:t,guesses:[],score:0,jokersUsed:{present:!1,correct:!1,remove:!1},isBot:!0};try{await ei(Y,async i=>{const o=await i.get(r);if(!o.exists())return;const c=o.data();if(Object.keys(c.players).length>=2){console.log("LOG: Gerek oyuncu girdii iin bot iptal edildi.");return}const l={[`players.${e}`]:s,playerIds:Vr(e),status:"playing",turnStartTime:Qe(),invitedPlayerId:Il()};i.update(r,l)})}catch(i){console.error("Bot atama hatas:",i)}}async function QT(n){n&&(D("Oyun oluturuluyor...",!1),await Fr({invitedFriendId:n,timeLimit:120,matchLength:5,gameType:"friend"}))}async function XT(n){const r=[...Lc].sort(()=>.5-Math.random()).slice(0,15).map((s,i)=>{const o=`player_${Date.now()}_${i}`,c=new Date,l=Math.floor(Math.random()*72)+2;c.setHours(c.getHours()-l);const u={username:s,joinedAt:c,score:Math.floor(Math.random()*60),isBot:!0,stats:{O:0,G:0,B:0,M:0,P:0}};return Ft(W(Y,"leagues",n,"participants",o),u)});try{await Promise.all(r),console.log("Lig ortam hazrland: 15 sanal oyuncu yerletirildi.")}catch(s){console.error("Bot ekleme hatas:",s)}}async function JM(n){const e=Et();if(!(!e||!n))try{const t=W(Y,"games",e);await Ue(t,{invitedPlayerIds:Vr(n)}),D("Davet gnderildi!",!1)}catch(t){console.error("Davet gnderme hatas:",t),D("Davet gnderilemedi.",!0)}}const Ze=Object.freeze(Object.defineProperty({__proto__:null,abandonGame:YM,acceptInvite:kM,addGold:jM,addWordToDictionary:WT,buyItem:xM,checkLeagueStatus:ZM,createBRGame:ZT,createGame:Fr,failTurn:kT,fetchWordMeaning:mA,findOrCreateRandomGame:No,getDailyLeaderboardStats:VM,handleKeyPress:Is,initializeGameUI:yt,joinBRGame:LA,joinCurrentLeague:qT,joinGame:oi,leaveGame:ut,listenToGameUpdates:ii,loadDictionary:$M,populateLeagueWithBots:XT,rejectInvite:FM,removeWordFromDictionary:qM,renderGameState:Zt,saveDailyResultToDatabase:_o,sendLobbyInvite:JM,setupDictionaryButton:zT,showScoreboard:Un,startGame:Uo,startLeagueMatch:GM,startNewGame:zn,startNewRound:YT,startQuickFriendGame:QT,startRematch:jT,startTurnTimer:pr,stopTurnTimer:Lt,updateTurnDisplay:vT,useCorrectJoker:GT,usePresentJoker:HT,useRemoveJoker:xT},Symbol.toStringTag,{value:"Module"})),Ya=document.getElementById("friends-list"),Za=document.getElementById("friend-requests-list"),QM=document.getElementById("search-friend-input"),rs=document.getElementById("friend-search-results"),ss=document.getElementById("friend-request-count"),XE=document.getElementById("friends-list-placeholder"),eh=document.getElementById("friend-requests-placeholder");async function XM(){const n=QM.value.trim();if(n.length<3)return D("Arama iin en az 3 karakter girin.",!0);const e=F();rs.innerHTML='<p class="text-gray-400">Aranyor...</p>';try{const t=ht(Y,"users"),r=pt(t,we("username","==",n)),s=pt(t,we("email","==",n)),[i,o]=await Promise.all([kt(r),kt(s)]),c=new Map;i.forEach(l=>{l.id!==e&&c.set(l.id,{id:l.id,...l.data()})}),o.forEach(l=>{l.id!==e&&c.set(l.id,{id:l.id,...l.data()})}),c.size===0?rs.innerHTML='<p class="text-gray-400">Kullanc bulunamad.</p>':(rs.innerHTML="",c.forEach(l=>{const u=se("button",{className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded-lg text-xs",textContent:"Ekle",onclick:()=>eN(l.id)}),h=se("div",{className:"bg-gray-700 p-2 rounded flex justify-between items-center",innerHTML:`<span>${l.username} <span class="text-xs text-gray-400">(${l.fullname})</span></span>`});h.appendChild(u),rs.appendChild(h)}))}catch(t){console.error("Kullanc arama hatas:",t),rs.innerHTML='<p class="text-red-400">Arama srasnda bir hata olutu.</p>'}}async function eN(n){const e=F();if(!(!e||!n))try{const t={users:[e,n],senderId:e,receiverId:n,status:"pending",createdAt:Qe()};await PI(ht(Y,"friendships"),t),D("Arkadalk istei gnderildi!")}catch(t){console.error("stek gnderme hatas:",t),D("stek gnderilirken bir hata olutu.",!0)}}async function th(n,e){try{const t=W(Y,"friendships",n);e==="accept"?(await Ue(t,{status:"accepted"}),D("Arkadalk istei kabul edildi.")):e==="reject"&&(await Xs(t),D("Arkadalk istei reddedildi."))}catch(t){console.error("stek ileme hatas:",t),D("lem srasnda bir hata olutu.",!0)}}async function tN(n){if(confirm("Bu arkadanz silmek istediinizden emin misiniz?"))try{await Xs(W(Y,"friendships",n)),D("Arkada silindi.")}catch(e){console.error("Arkada silme hatas:",e),D("Arkada silinirken bir hata olutu.",!0)}}function nN(){const n=F();if(!n)return;const e=pt(ht(Y,"friendships"),we("users","array-contains",n));return Ds(e,async t=>{const r=[],s=[];let i=0;t.forEach(l=>{const u={id:l.id,...l.data()};if(u.status==="accepted"){const h=u.users.find(d=>d!==n);if(h){const d=st(W(Y,"users",h)).then(T=>({friendshipId:u.id,id:T.id,...T.data()}));r.push(d)}}else if(u.status==="pending"&&u.receiverId===n){i++;const h=st(W(Y,"users",u.senderId)).then(d=>({friendshipId:u.id,id:d.id,...d.data()}));s.push(h)}});const o=await Promise.all(r),c=await Promise.all(s);i>0?ss&&(ss.textContent=i,ss.classList.remove("hidden")):ss&&ss.classList.add("hidden"),sN(o,c)},t=>console.error("Arkadalklar dinlerken hata:",t))}function rN(n){QT(n.id)}function sN(n,e){!Ya||!Za||(Ya.innerHTML="",Za.innerHTML="",n.length>0?(XE.classList.add("hidden"),n.forEach(t=>{const r=se("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded-lg text-xs",textContent:"Profil",onclick:()=>oN(t.id)}),s=se("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-1 px-2 rounded-lg text-xs",textContent:"Davet Et",onclick:()=>rN(t)}),i=se("button",{className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-lg text-xs",textContent:"Sil",onclick:()=>tN(t.friendshipId)}),o=se("div",{className:"flex gap-2 items-center"});o.append(r,s,i);const c=se("div",{className:"bg-gray-700 p-2 rounded flex justify-between items-center"});c.innerHTML=`<span>${t.username}</span>`,c.appendChild(o),Ya.appendChild(c)})):XE.classList.remove("hidden"),e.length>0?(eh.classList.add("hidden"),e.forEach(t=>{const r=se("button",{className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1 px-2 rounded-lg text-xs",textContent:"Kabul Et",onclick:()=>th(t.friendshipId,"accept")}),s=se("button",{className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-lg text-xs",textContent:"Reddet",onclick:()=>th(t.friendshipId,"reject")}),i=se("div",{className:"flex gap-2"});i.append(r,s);const o=se("div",{className:"bg-gray-700 p-2 rounded flex justify-between items-center"});o.innerHTML=`<span>${t.username}</span>`,o.appendChild(i),Za.appendChild(o)})):eh.classList.remove("hidden"))}function iN(){const n=F();if(!n)return;const e=pt(ht(Y,"games"),we("playerIds","array-contains",n),Zn("createdAt","desc")),t=pt(ht(Y,"games"),we("invitedPlayerIds","array-contains",n),Zn("createdAt","desc"));let r=new Map;const s=()=>{const c=[],l=[],u=[];r.forEach(h=>{const d=h.invitedPlayerIds&&h.invitedPlayerIds.includes(n)&&!h.playerIds.includes(n),T=h.status==="invited"&&h.invitedPlayerId===n;d||T?h.status!=="finished"&&u.push(h):h.status==="finished"?l.push(h):(h.status==="waiting"||h.status==="playing"||h.status==="invited"&&h.creatorId===n)&&c.push(h)}),hr&&(hr.textContent=u.length,u.length>0?hr.classList.remove("hidden"):hr.classList.add("hidden")),_T(c,l,u)},i=Ds(e,c=>{c.docs.forEach(l=>r.set(l.id,{id:l.id,...l.data()})),s()}),o=Ds(t,c=>{c.docs.forEach(l=>r.set(l.id,{id:l.id,...l.data()})),s()});return()=>{i(),o()}}async function oN(n){try{const e=await st(W(Y,"users",n));if(e.exists()){const t=e.data(),r=document.getElementById("profile-fullname");r&&(r.textContent=t.fullname),RA(t),J("profile-screen")}else D("Kullanc profili bulunamad.",!0)}catch(e){D("Profil getirilirken hata olutu.",!0),console.error(e)}}async function aN(){const n=F();if(!n)return[];const e=pt(ht(Y,"friendships"),we("users","array-contains",n),we("status","==","accepted")),t=await kt(e),r=[];return t.forEach(s=>{const o=s.data().users.find(c=>c!==n);o&&r.push(st(W(Y,"users",o)).then(c=>({id:c.id,...c.data()})))}),await Promise.all(r)}"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(n=>{console.log("Service Worker baaryla kaydedildi, Scope:",n.scope)}).catch(n=>{console.error("Service Worker kayd baarsz:",n)});let Ks=null;function cN(){ST(),hN(),AN(),dN(),document.addEventListener("click",()=>{Q(()=>import("./notifications-D-cHOJUL.js"),[]).then(n=>n.requestNotificationPermission())},{once:!0})}function lN(){const n=F();if(!n)return;const e=pt(ht(Y,"games"),we("playerIds","array-contains",n),we("status","in",["waiting","playing"]));Ks&&Ks(),Ks=Ds(e,t=>{t.docChanges().forEach(r=>{const s=r.doc.data();if(r.type==="modified"&&s.status==="playing"){const i=document.getElementById("game-screen");if(i&&i.classList.contains("hidden")){D(` "${s.gameType==="friend"?"Arkadan":"Rakip"}" oyuna balad!`,!1),We("turn");const o=document.getElementById("game-invite-count");o&&(o.textContent="!",o.classList.remove("hidden"))}}})})}function AN(){bK(ta,async n=>{const e=document.getElementById("auth-loading");if(n){e.classList.add("hidden"),Ha(n.uid),lN();const t=W(Y,"users",n.uid),r=await st(t);if(r.exists()){const i=r.data();jt(i);const o=i.username||"Kullanc",c=i.avatarUrl||eR(),l=i.gold||0,u=document.getElementById("main-menu-gold-display");u&&(u.textContent=l),document.getElementById("main-menu-username").textContent=o,document.getElementById("main-menu-avatar").src=c,document.getElementById("profile-username-input").value=o,document.getElementById("profile-avatar-img").src=c,document.getElementById("profile-fullname-display").value=i.fullname||"...",document.getElementById("profile-email-display").value=i.email||"...";const h=i.stats||{played:0,wins:0,currentStreak:0},d=h.played>0?Math.round(h.wins/h.played*100):0;document.getElementById("main-menu-stats").textContent=`Baar: %${d} | Seri: ${h.currentStreak}`;const T=nN(),g=iN();Fi(T),Ga(g)}else console.warn("Kullanc profili bulunamad."),jt({email:n.email});const s=localStorage.getItem("activeGameId");if(s)try{const i=await st(W(Y,"games",s));i.exists()&&i.data().status!=="finished"?(D("Yarm kalan oyununa devam ediyorsun!"),i.data().gameType==="multiplayer-br"?await LA(s):await oi(s)):(localStorage.removeItem("activeGameId"),J("main-menu-screen"),history.replaceState({screen:"main-menu-screen"},"Ana Men","#main-menu-screen"))}catch(i){console.error("Yarm kalan oyuna girerken hata:",i),localStorage.removeItem("activeGameId"),J("main-menu-screen"),history.replaceState({screen:"main-menu-screen"},"Ana Men","#main-menu-screen")}else J("main-menu-screen"),history.replaceState({screen:"main-menu-screen"},"Ana Men","#main-menu-screen")}else e.classList.add("hidden"),Ha(null),jt(null),Yi()&&Yi()(),xa()&&xa()(),Ks&&Ks(),Fi(null),Ga(null),J("login-screen")})}async function uN(){const n=document.getElementById("global-ranking-list"),e=document.getElementById("global-ranking-loading");if(!(!n||!e)){n.innerHTML="",e.classList.remove("hidden"),e.textContent="Sralama ykleniyor...";try{const t=ht(Y,"users"),r=pt(t,Zn("stats.wins","desc"),Zn("stats.played","asc"),Ll(20)),s=await kt(r);let i=1;const o=F();if(s.empty){e.textContent="Henz sralamaya girecek kimse yok.";return}s.forEach(c=>{const l=c.data(),u=l.stats||{played:0,wins:0};if(!l.username)return;const h=document.createElement("div");h.className="ranking-row";const d=c.id===o;d&&h.classList.add("current-user");const T=u.played>0?Math.round(u.wins/u.played*100):0,g=u.wins||0;if(h.innerHTML=`
                <div class="rank-details">
                    <span class="rank-number">${i}.</span>
                    <span class="rank-username">${l.username}</span>
                </div>
                <div class="rank-actions">
                    <div class="rank-score">
                        <span>Baar: <strong>%${T}</strong></span>
                        <span>Kazanma: <strong>${g}</strong></span>
                    </div>
                </div>
            `,!d){const K=document.createElement("button");K.className="challenge-btn",K.textContent="Meydan Oku",K.dataset.opponentId=c.id,K.dataset.opponentName=l.username,K.addEventListener("click",RN),h.querySelector(".rank-actions").appendChild(K)}n.appendChild(h),i++}),e.classList.add("hidden")}catch(t){console.error("Sralama yklenirken hata:",t),e.textContent="Sralama yklenemedi."}}}function gc(n){const e=document.getElementById("personal-stats-tab"),t=document.getElementById("global-ranking-tab"),r=document.getElementById("show-personal-stats-tab-btn"),s=document.getElementById("show-global-ranking-tab-btn");n==="global"?(e.classList.add("hidden"),t.classList.remove("hidden"),r.classList.remove("text-white","border-indigo-500"),r.classList.add("text-gray-400"),s.classList.add("text-white","border-indigo-500"),s.classList.remove("text-gray-400"),uN()):(e.classList.remove("hidden"),t.classList.add("hidden"),r.classList.add("text-white","border-indigo-500"),r.classList.remove("text-gray-400"),s.classList.remove("text-white","border-indigo-500"),s.classList.add("text-gray-400"))}const nh=()=>{const n=Xe();n&&(RA(n),J("profile-screen"),gc("personal"))},EN=()=>{const n=Xe();n&&(document.getElementById("profile-avatar-img").src=n.avatarUrl||eR(),document.getElementById("profile-username-input").value=n.username||"Kullanc",document.getElementById("profile-fullname-display").value=n.fullname||"...",document.getElementById("profile-email-display").value=n.email||"...",J("edit-profile-screen"))};function hN(){ho&&ho.addEventListener("click",()=>{Q(()=>Promise.resolve().then(()=>Be),void 0).then(e=>e.openKirtasiyeScreen())}),fo&&fo.addEventListener("click",()=>J("main-menu-screen")),window.addEventListener("popstate",e=>{e.state&&e.state.screen?J(e.state.screen,!0):J("main-menu-screen",!0)}),Dl.addEventListener("click",AM),wl.addEventListener("click",EM),Cl.addEventListener("click",uM),Bl.addEventListener("click",()=>J("register-screen")),vl.addEventListener("click",()=>J("login-screen")),bl.addEventListener("click",()=>J("new-game-screen")),Vl.addEventListener("click",()=>J("my-games-screen")),kl.addEventListener("click",()=>J("friends-screen")),To&&To.addEventListener("click",()=>{UT()}),Ro&&Ro.addEventListener("click",()=>{J("main-menu-screen")}),Ko&&Ko.addEventListener("click",()=>{wT()}),So&&So.addEventListener("click",()=>{J("main-menu-screen")}),mo&&mo.addEventListener("click",()=>pc("fixtures")),po&&po.addEventListener("click",()=>pc("standings")),Fl.addEventListener("click",nh),Yl.addEventListener("click",nh),document.getElementById("show-personal-stats-tab-btn").addEventListener("click",()=>gc("personal")),document.getElementById("show-global-ranking-tab-btn").addEventListener("click",()=>gc("global")),Zl.addEventListener("click",()=>{J("how-to-play-screen"),PT()}),Hl.addEventListener("click",()=>{history.back(),DT()}),jl.addEventListener("click",()=>history.back()),document.getElementById("back-to-main-from-edit-profile-btn").addEventListener("click",()=>history.back()),Gl.addEventListener("click",()=>Ic("light")),xl.addEventListener("click",()=>Ic("dark")),$l.addEventListener("click",()=>history.back()),ql.addEventListener("click",()=>history.back()),Wl.addEventListener("click",()=>history.back()),nA.addEventListener("click",()=>zn({mode:"vsCPU"})),sA.addEventListener("click",()=>zn({mode:"daily"})),Xl.addEventListener("click",()=>No({timeLimit:43200,matchLength:1,gameType:"random_loose"})),eA.addEventListener("click",()=>No({timeLimit:120,matchLength:5,gameType:"random_series"})),tA.addEventListener("click",()=>{J("friends-screen"),us("friends")}),rA.addEventListener("click",()=>J("br-setup-screen")),zl.addEventListener("click",()=>history.back()),Jl.addEventListener("click",()=>history.back()),iA.addEventListener("click",()=>{const e=Rh();if(!e){D("Ltfen nce 'Arkadalar' listesinden birini seip 'Davet Et'e basn.",!0),J("friends-screen");return}Fr({invitedFriendId:e,timeLimit:parseInt(document.getElementById("time-select-multi").value,10),matchLength:parseInt(document.getElementById("match-length-select").value,10),isHardMode:document.getElementById("hard-mode-checkbox-multi").checked,gameType:"friend"}),Th(null)}),oA.addEventListener("click",()=>{const e=document.getElementById("game-id-input").value.toUpperCase();e&&oi(e)}),aA.addEventListener("click",()=>ZT()),cA.addEventListener("click",()=>{const e=document.getElementById("game-id-input-br").value.toUpperCase();e&&LA(e)}),EA.addEventListener("click",()=>Ls("active")),hA.addEventListener("click",()=>Ls("finished")),dA.addEventListener("click",()=>Ls("invites")),lA.addEventListener("click",()=>us("friends")),AA.addEventListener("click",()=>us("requests")),uA.addEventListener("click",()=>us("add")),Lo&&Lo.addEventListener("click",XM),Ql.addEventListener("click",ut),ce.addEventListener("click",Uo),fA.addEventListener("click",ut);const n=document.getElementById("new-word-rematch-btn");n&&n.addEventListener("click",jT),TA.addEventListener("click",()=>{const e=document.getElementById("game-id-display").textContent;navigator.clipboard&&navigator.clipboard.writeText(e).then(()=>{D("Oyun ID kopyaland!")})}),dn.addEventListener("click",()=>{const t=`Kelime Yarmas'na gel! Oyun ID: ${document.getElementById("game-id-display").textContent}`;navigator.share?navigator.share({title:"Kelime Yarmas",text:t}).catch(console.error):navigator.clipboard.writeText(t).then(()=>{D("Davet linki kopyaland!")})}),Bs&&Bs.addEventListener("click",HT),vs&&vs.addEventListener("click",GT),bs&&bs.addEventListener("click",xT),document.getElementById("main-menu-avatar").addEventListener("click",EN),document.getElementById("save-profile-btn").addEventListener("click",()=>tR()),document.getElementById("change-avatar-btn").addEventListener("click",TN),document.getElementById("close-avatar-modal-btn").addEventListener("click",()=>{document.getElementById("avatar-selection-modal").classList.add("hidden")}),window.addEventListener("keydown",e=>{document.activeElement.tagName!=="INPUT"&&(document.getElementById("game-screen").classList.contains("hidden")||(e.key==="Enter"?Is("ENTER"):e.key==="Backspace"?Is(""):e.key.length===1&&e.key.match(/[a-zA-Z]/i)&&Is(e.key.toLocaleUpperCase("TR"))))})}function Ic(n){n==="light"?(document.body.classList.add("theme-light"),localStorage.setItem("theme","light")):(document.body.classList.remove("theme-light"),localStorage.setItem("theme","dark"))}function dN(){const n=localStorage.getItem("theme")||"dark";Ic(n)}const fN=["https://api.dicebear.com/8.x/pixel-art/svg?seed=avatar1&background=%236b7280","https://api.dicebear.com/8.x/pixel-art/svg?seed=avatar2&background=%23ef4444","https://api.dicebear.com/8.x/pixel-art/svg?seed=avatar3&background=%23f59e0b","https://api.dicebear.com/8.x/pixel-art/svg?seed=avatar4&background=%2310b981","https://api.dicebear.com/8.x/pixel-art/svg?seed=avatar5&background=%233b82f6","https://api.dicebear.com/8.x/pixel-art/svg?seed=avatar6&background=%238b5cf6","https://api.dicebear.com/8.x/pixel-art/svg?seed=huso&background=%23ec4899","https://api.dicebear.com/8.x/pixel-art/svg?seed=gemini&background=%2314b8a6"];function eR(){return"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 100 100%27%3E%3Ccircle cx=%2750%27 cy=%2750%27 r=%2750%27 fill=%27%236B7280%27/%3E%3C/svg%3E"}function TN(){const n=document.getElementById("avatar-grid");n.innerHTML="";const e=document.getElementById("profile-avatar-img").src;fN.forEach(t=>{const r=document.createElement("img");r.src=t,r.className="avatar-option w-16 h-16",r.dataset.url=t,t===e&&r.classList.add("selected"),r.addEventListener("click",async()=>{try{await tR({avatarUrl:t},!0),document.getElementById("profile-avatar-img").src=t,document.getElementById("main-menu-avatar").src=t,n.querySelectorAll(".avatar-option").forEach(s=>s.classList.remove("selected")),r.classList.add("selected"),document.getElementById("avatar-selection-modal").classList.add("hidden")}catch(s){D("Avatar kaydedilemedi: "+s.message,!0)}}),n.appendChild(r)}),document.getElementById("avatar-selection-modal").classList.remove("hidden")}async function tR(n={},e=!1){const t=F();if(!t)return;const r=document.getElementById("save-profile-btn");e||(r.disabled=!0,r.textContent="Kaydediliyor...");try{const s=W(Y,"users",t);if(Object.keys(n).length===0){const c=document.getElementById("profile-username-input").value;if(!c||c.length<3){D("Kullanc ad en az 3 karakter olmaldr.",!0);return}n.username=c}await Ue(s,n);const o={...Xe(),...n};jt(o),n.username&&(document.getElementById("main-menu-username").textContent=n.username),D("Profil baaryla gncellendi!")}catch(s){console.error("Profil gncellenirken hata:",s),D("Hata: "+s.message,!0)}finally{e||(r.disabled=!1,r.textContent="Deiiklikleri Kaydet")}}async function RN(n){const e=n.currentTarget,t=e.dataset.opponentId,r=e.dataset.opponentName;if(!t){D("Rakip ID'si bulunamad!",!0);return}e.disabled=!0,e.textContent="...";try{await Fr({invitedFriendId:t,timeLimit:43200,matchLength:1,isHardMode:!1,gameType:"friend"}),D(`${r} adl oyuncuya meydan okundu!`),J("my-games-screen"),Ls("active")}catch(s){console.error("Meydan okuma baarsz:",s),D("Hata: "+s.message,!0),e.disabled=!1,e.textContent="Meydan Oku"}}cN();export{Gn as C,Ys as E,en as F,Lr as _,Pc as a,Te as b,mN as c,pN as d,W as e,Y as f,vh as g,F as h,sm as i,Vr as j,Jf as k,Um as o,mn as r,Ue as u,im as v};
