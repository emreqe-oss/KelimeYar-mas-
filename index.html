<!DOCTYPE html>
<html lang="tr">
<head>
    <meta name="color-scheme" content="light dark">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='10'%20rx='32'%20fill='%23b45309'/%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='6'%20rx='32'%20fill='%23f59e0b'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dy='.1em'%20dominant-baseline='central'%20text-anchor='middle'%20font-size='110'%20font-family='Inter,%20sans-serif'%20font-weight='bold'%20fill='%23ffffff'%3EK%3C/text%3E%3C/svg%3E">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Kelime Oyunu - √áok Oyunculu</title>
    <meta name="theme-color" content="#111827"/>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg' viewBox='0%200%20192%20192'%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='10'%20rx='32'%20fill='%23b45309'/%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='6'%20rx='32'%20fill='%23f59e0b'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dy='.1em'%20dominant-baseline='central'%20text-anchor='middle'%20font-size='110'%20font-family='Inter,%20sans-serif'%20font-weight='bold'%20fill='%23ffffff'%3EK%3C/text%3E%3C/svg%3E">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        .back-button-hitbox { padding: 8px !important; margin-left: -8px !important; cursor: pointer; display: flex; align-items: center; }
        #leave-game-button, #main-menu-btn { cursor: pointer; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #1f2937; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #6b7280; }
        
        /* Oyun i√ßi stiller */
        .tile { @apply w-full h-12 border-2 border-gray-600 bg-gray-800 flex items-center justify-center text-2xl font-bold uppercase select-none transition-all duration-300 relative; perspective: 1000px; }
        .tile.correct { @apply bg-green-600 border-green-600 text-white; }
        .tile.present { @apply bg-yellow-600 border-yellow-600 text-white; }
        .tile.absent { @apply bg-gray-600 border-gray-600 text-white; }
        .tile-inner { @apply w-full h-full flex items-center justify-center backface-hidden absolute top-0 left-0 transition-transform duration-500; backface-visibility: hidden; }
        .tile-inner.front { transform: rotateX(0deg); }
        .tile-inner.back { transform: rotateX(180deg); }
        .tile.flip .tile-inner.front { transform: rotateX(180deg); }
        .tile.flip .tile-inner.back { transform: rotateX(0deg); }
        .br-mode-grid .tile { height: 2.5rem !important; font-size: 1.25rem !important; } 
    </style>
    
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-900 text-gray-200 overflow-hidden">
    
    <div id="app" class="w-full max-w-md mx-auto flex flex-col h-screen max-h-screen relative">
    
        <div id="main-menu-screen" class="hidden flex-1 flex flex-col p-4 space-y-4 h-full overflow-y-auto custom-scrollbar">
            <header class="flex justify-between items-center bg-gray-800 p-3 rounded-xl shadow-lg border border-gray-700 flex-shrink-0">
                <div class="flex items-center gap-3">
                    <img id="main-menu-avatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%236B7280'/%3E%3C/svg%3E" class="w-12 h-12 rounded-full border-2 border-indigo-500 cursor-pointer hover:opacity-80 transition">
                    <div>
                        <p id="main-menu-username" class="font-extrabold text-lg text-white tracking-wide">Kullanƒ±cƒ±</p>
                        
                        <div class="flex items-center gap-1.5 font-bold text-sm my-0.5">
                            <div class="flex items-center gap-1 bg-gray-900/50 px-2 py-0.5 rounded-md border border-yellow-600/30">
                                <img src="/images/sikke.png" class="w-4 h-4 object-contain">
                                <span id="main-menu-gold-display" class="text-yellow-400">0</span>
                            </div>
                        </div>
                        <p id="main-menu-stats" class="text-[10px] text-gray-400 font-mono">Ba≈üarƒ±: %0 | Seri: 0</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button id="stats-btn" class="p-2 bg-gray-700 rounded-lg hover:bg-gray-600 transition text-gray-300">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                    </button>
                    <button id="logout-btn" class="p-2 bg-red-900/30 hover:bg-red-900/50 rounded-lg transition text-red-400">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                        </svg>
                    </button>
                </div>
            </header>
            
            <div class="flex-grow flex flex-col justify-center gap-4 w-full">
                <div class="grid grid-cols-2 gap-4">
                    <button id="new-game-btn" class="bg-green-600 hover:bg-green-500 rounded-xl py-4 text-xl font-black text-white shadow-lg shadow-green-900/50 border-b-4 border-green-800 active:scale-95 transition flex flex-col items-center justify-center gap-2 group h-32 overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-green-900/30 to-transparent"></div>
                        <img src="/images/yeni-oyun.png" alt="Yeni Oyun" class="w-16 h-16 object-contain drop-shadow-md z-10 group-hover:scale-110 transition duration-300">
                        <span class="z-10 drop-shadow-sm">YENƒ∞ OYUN</span>
                    </button>

                    <button id="my-games-btn" class="bg-orange-500 hover:bg-orange-400 rounded-xl py-4 text-xl font-black text-white shadow-lg shadow-orange-900/50 border-b-4 border-orange-700 active:scale-95 transition flex flex-col items-center justify-center gap-2 group h-32 overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-orange-800/30 to-transparent"></div>
                        <img src="/images/oyunlarim.png" alt="Oyunlarƒ±m" class="w-16 h-16 object-contain drop-shadow-md z-10 group-hover:rotate-12 transition duration-300">
                        <span class="z-10 drop-shadow-sm">OYUNLARIM</span>
                    </button>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <button id="kelimelig-btn" class="bg-purple-700 hover:bg-purple-600 rounded-xl p-2 text-white shadow-lg shadow-purple-900/50 border-b-4 border-purple-900 active:scale-95 transition flex flex-col items-center justify-center h-32 overflow-hidden relative group">
                        <div class="absolute inset-0 bg-gradient-to-t from-purple-900/50 to-transparent"></div>
                        <img src="/images/lig.png" alt="Lig" class="w-16 h-16 object-contain drop-shadow-md z-10 group-hover:scale-110 transition duration-300">
                        <span class="font-black text-lg z-10 leading-tight mt-1 drop-shadow-sm">Kelime<br>Lƒ∞G</span>
                    </button>

                    <button id="daily-word-btn" class="bg-teal-600 hover:bg-teal-500 rounded-xl p-2 text-white shadow-lg shadow-teal-900/50 border-b-4 border-teal-800 active:scale-95 transition flex flex-col items-center justify-center h-32 overflow-hidden relative group">
                        <div class="absolute inset-0 bg-gradient-to-t from-teal-900/50 to-transparent"></div>
                        <img src="/images/gunun-kelimesi.png" alt="G√ºnl√ºk" class="w-14 h-14 object-contain drop-shadow-md z-10 group-hover:rotate-12 transition duration-300">
                        <span class="font-black text-lg z-10 leading-tight mt-1 drop-shadow-sm">G√ºn√ºn<br>Kelimesi</span>
                    </button>
                </div>

                <button id="market-btn" class="w-full h-32 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 rounded-xl py-4 px-6 text-white shadow-lg shadow-red-900/50 border-b-4 border-red-800 active:scale-95 transition flex items-center justify-between overflow-hidden relative group">
                    
                    <div class="text-left z-10">
                        <span class="block font-black text-3xl tracking-wide drop-shadow-md">KIRTASƒ∞YE</span>
                        <span class="block text-sm text-red-100 font-medium">G√º√ßlendirici & Altƒ±n Al</span>
                    </div>

                    <img src="/images/kirtasiye.png" 
                         alt="Kƒ±rtasiye" 
                         class="w-32 h-32 object-contain drop-shadow-xl transform transition duration-300 group-hover:scale-110 group-hover:-rotate-12 -mr-6">
                </button>

                <button id="quests-btn" class="w-full bg-gradient-to-r from-pink-600 to-rose-500 hover:from-pink-500 hover:to-rose-400 rounded-xl py-3 px-6 text-white shadow-lg shadow-pink-900/50 border-b-4 border-pink-800 active:scale-95 transition flex items-center justify-between group relative overflow-hidden mt-4">
                    <div class="absolute inset-0 bg-white/10 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition duration-700"></div>
                    
                    <div class="flex items-center gap-3">
                        <span class="text-3xl filter drop-shadow-md">üìú</span>
                        <div class="text-left">
                            <span class="block font-black text-xl tracking-wide drop-shadow-sm">G√ñREVLER</span>
                            <span class="block text-xs text-pink-100 font-medium">√ñd√ºlleri Topla!</span>
                        </div>
                    </div>

                    <div id="quest-notification-badge" class="hidden bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full animate-bounce">
                        !
                    </div>
                </button>

                <div class="grid grid-cols-2 gap-4">
                    <button id="friends-btn" class="bg-blue-600 hover:bg-blue-500 rounded-xl py-4 text-white font-bold shadow-md border-b-4 border-blue-800 active:scale-95 transition flex flex-col items-center justify-center gap-2 h-28 group overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-blue-900/30 to-transparent"></div>
                        <img src="/images/arkadaslar.png" alt="Arkada≈ülar" class="w-12 h-12 object-contain drop-shadow-md z-10 group-hover:scale-110 transition duration-300">
                        <span class="text-lg z-10">ARKADA≈ûLARIM</span>
                    </button>

                    <button id="stats-btn-main" class="bg-gray-600 hover:bg-gray-500 rounded-xl py-4 text-white font-bold shadow-md border-b-4 border-gray-800 active:scale-95 transition flex flex-col items-center justify-center gap-2 h-28 group overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-gray-900/30 to-transparent"></div>
                        <img src="/images/istatistik.png" alt="ƒ∞statistikler" class="w-12 h-12 object-contain drop-shadow-md z-10 group-hover:scale-110 transition duration-300">
                        <span class="text-lg z-10">ƒ∞STATƒ∞STƒ∞KLER</span>
                    </button>
                </div>
            </div>
            
            <div class="flex justify-between items-center pt-2 border-t border-gray-800 flex-shrink-0">
                <button id="how-to-play-btn" class="text-sm font-bold text-gray-400 hover:text-white transition flex items-center gap-1">
                    <span>‚ùì</span> Nasƒ±l Oynanƒ±r?
                </button>
                
                <button id="dictionary-menu-btn" class="text-sm font-bold text-amber-500 hover:text-amber-400 transition flex items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" />
                    </svg>
                    S√∂zl√ºƒü√ºm
                </button>

                <div class="flex items-center gap-2">
                    <button id="theme-light-btn" class="w-6 h-6 rounded-full border-2 border-gray-500 bg-[#faedcd] hover:border-white transition"></button>
                    <button id="theme-dark-btn" class="w-6 h-6 rounded-full border-2 border-gray-500 bg-gray-900 hover:border-white transition"></button>
                </div>
            </div>
        </div>

        <div id="new-game-screen" class="hidden flex-1 flex flex-col p-4 space-y-4 h-full bg-gray-900">
            <header class="flex items-center mb-2 flex-shrink-0">
                <button id="back-to-main-menu-btn" class="p-2 bg-gray-800 rounded-full hover:bg-gray-700 transition text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                </button>
                <h1 class="text-2xl font-black text-center flex-grow -ml-10 text-white tracking-wider">OYUN MODU SE√á</h1>
            </header>
            
            <div class="flex-grow overflow-y-auto custom-scrollbar content-start">
                
                <div class="grid grid-cols-2 gap-4 mb-4">
                    
                    <button id="random-game-btn" class="bg-green-600 hover:bg-green-500 border-b-4 border-green-800 rounded-xl p-2 flex flex-col items-center justify-center gap-2 transition group active:scale-95 h-32 relative overflow-hidden shadow-lg shadow-green-900/50">
                        <div class="absolute inset-0 bg-gradient-to-t from-green-900/30 to-transparent"></div>
                        <div class="w-12 h-12 rounded-full bg-black/20 flex items-center justify-center z-10 group-hover:scale-110 transition">
                            <span class="text-3xl">üê¢</span>
                        </div>
                        <div class="text-center z-10">
                            <span class="block text-lg font-black text-white leading-tight">GEV≈ûEK<br>MOD</span>
                            <span class="block text-[10px] text-green-100 opacity-80">12 Saat S√ºre</span>
                        </div>
                    </button>

                    <button id="series-game-btn" class="bg-red-600 hover:bg-red-500 border-b-4 border-red-800 rounded-xl p-2 flex flex-col items-center justify-center gap-2 transition group active:scale-95 h-32 relative overflow-hidden shadow-lg shadow-red-900/50">
                        <div class="absolute inset-0 bg-gradient-to-t from-red-900/30 to-transparent"></div>
                        <div class="w-12 h-12 rounded-full bg-black/20 flex items-center justify-center z-10 group-hover:scale-110 transition">
                            <span class="text-3xl">üî•</span>
                        </div>
                        <div class="text-center z-10">
                            <span class="block text-lg font-black text-white leading-tight">SERƒ∞<br>OYUN</span>
                            <span class="block text-[10px] text-red-100 opacity-80">Hƒ±zlƒ± (2 Dk)</span>
                        </div>
                    </button>

                    <button id="with-friends-btn" class="bg-blue-600 hover:bg-blue-500 border-b-4 border-blue-800 rounded-xl p-2 flex flex-col items-center justify-center gap-2 transition group active:scale-95 h-32 relative overflow-hidden shadow-lg shadow-blue-900/50">
                        <div class="absolute inset-0 bg-gradient-to-t from-blue-900/30 to-transparent"></div>
                        <div class="w-12 h-12 rounded-full bg-black/20 flex items-center justify-center z-10 group-hover:scale-110 transition">
                            <span class="text-3xl">üë•</span>
                        </div>
                        <div class="text-center z-10">
                            <span class="block text-lg font-black text-white leading-tight">ARKADA≈ûLA<br>OYNA</span>
                            <span class="block text-[10px] text-blue-100 opacity-80">Davet Et</span>
                        </div>
                    </button>

                    <button id="multiplayer-br-btn" class="bg-yellow-600 hover:bg-yellow-500 border-b-4 border-yellow-800 rounded-xl p-2 flex flex-col items-center justify-center gap-2 transition group active:scale-95 h-32 relative overflow-hidden shadow-lg shadow-yellow-900/50">
                        <div class="absolute inset-0 bg-gradient-to-t from-yellow-900/30 to-transparent"></div>
                        <div class="w-12 h-12 rounded-full bg-black/20 flex items-center justify-center z-10 group-hover:scale-110 transition">
                            <span class="text-3xl">üëë</span>
                        </div>
                        <div class="text-center z-10">
                            <span class="block text-lg font-black text-white leading-tight">BATTLE<br>ROYALE</span>
                            <span class="block text-[10px] text-yellow-100 opacity-80">8 Ki≈üiye kadar</span>
                        </div>
                    </button>
                </div>

                <button id="vs-cpu-btn" class="w-full h-28 bg-purple-600 hover:bg-purple-500 border-b-4 border-purple-800 rounded-xl p-4 flex items-center justify-center gap-4 transition group active:scale-95 relative overflow-hidden shadow-lg shadow-purple-900/50">
                    <div class="absolute inset-0 bg-gradient-to-t from-purple-900/30 to-transparent"></div>
                    <div class="w-14 h-14 rounded-full bg-black/20 flex items-center justify-center z-10 group-hover:rotate-12 transition">
                        <span class="text-4xl">ü§ñ</span>
                    </div>
                    <div class="text-left z-10">
                        <span class="block text-2xl font-black text-white tracking-wide">Bƒ∞LGƒ∞SAYAR</span>
                        <span class="block text-xs text-purple-200">Yapay zeka ile antrenman</span>
                    </div>
                </button>

            </div>
        </div>
        
        <div id="my-games-screen" class="hidden flex-1 flex flex-col p-2">
             <header class="flex items-center mb-4">
                 <button id="back-to-main-menu-from-games-btn" class="back-button-hitbox">
                     <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                 </button>
                 <h1 class="text-2xl font-bold text-center flex-grow -ml-10">Oyunlarƒ±m</h1>
             </header>
             <div class="flex border-b border-gray-600 mb-4">
                 <button id="show-active-games-tab-btn" class="flex-1 py-2 text-center text-white border-b-2 border-indigo-500">Aktif</button>
                 <button id="show-finished-games-tab-btn" class="flex-1 py-2 text-center text-gray-400">Biten</button>
                 <button id="show-invites-tab-btn" class="flex-1 py-2 text-center text-gray-400">Davetler <span id="game-invite-count" class="hidden bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 ml-1">0</span></button>
             </div>
             <div id="active-games-tab" class="flex-1 overflow-y-auto"><p class="text-center text-gray-400 mt-16">Aktif oyununuz bulunmuyor.</p></div>
             <div id="finished-games-tab" class="hidden flex-1 overflow-y-auto"><p class="text-center text-gray-400 mt-16">Hen√ºz biten oyununuz yok.</p></div>
             <div id="invites-tab" class="hidden flex-1 overflow-y-auto"><p class="text-center text-gray-400 mt-16">Yeni davetiniz yok.</p></div>
        </div>

        <div id="login-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col justify-center">
            <h1 class="text-4xl font-bold text-center mb-6">Kelime Yarƒ±≈ümasƒ±</h1>
            <div class="space-y-4">
                <input type="email" id="email-input" placeholder="E-posta Adresiniz" class="w-full p-3 border rounded-md bg-gray-700 border-gray-600 text-center text-white text-lg">
                <input type="password" id="password-input" placeholder="≈ûifreniz" class="w-full p-3 border rounded-md bg-gray-700 border-gray-600 text-center text-white text-lg">
                <button id="login-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Giri≈ü Yap</button>
                <div class="text-right mb-4">
                    <button id="forgot-password-link" type="button" class="text-sm text-indigo-400 hover:text-indigo-300 transition cursor-pointer bg-transparent border-none">
                        ≈ûifremi Unuttum?
                    </button>
                </div>
                <button id="go-to-register-btn" class="text-sm text-gray-400 hover:text-white mt-2">Hesabƒ±n yok mu? Kayƒ±t Ol</button>
            </div>
            <p id="auth-loading" class="text-gray-400 mt-4 hidden">ƒ∞≈ülem yapƒ±lƒ±yor...</p>
        </div>

        <div id="register-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col justify-center">
            <h1 class="text-3xl font-bold text-center mb-4">Yeni Hesap Olu≈ütur</h1>
            <div class="space-y-3">
                <input type="text" id="register-fullname" placeholder="Ad Soyad" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                <input type="text" id="register-username" placeholder="Kullanƒ±cƒ± Adƒ±" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white" maxlength="12">
                <input type="email" id="register-email" placeholder="E-posta Adresi" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                
                <input type="tel" id="register-phone" placeholder="Telefon Numarasƒ±" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                <input type="password" id="register-password" placeholder="≈ûifre (en az 6 karakter)" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                <div class="flex gap-2">
                    <input type="number" id="register-age" placeholder="Ya≈ü" class="w-1/2 p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                    <input type="text" id="register-city" placeholder="≈ûehir" class="w-1/2 p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                </div>
                <button id="register-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Kaydƒ± Tamamla</button>
                <button id="back-to-login-btn" class="text-sm text-gray-400 hover:text-white mt-2">Zaten hesabƒ±m var</button>
            </div>
        </div>

        <div id="friends-screen" class="hidden bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col">
            <header class="flex items-center mb-4">
                 <button id="back-to-main-from-friends-btn" class="back-button-hitbox">
                     <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                 </button>
                 <h1 class="text-2xl font-bold text-center flex-grow -ml-10">Arkada≈ülar</h1>
             </header>
            <div class="flex border-b border-gray-600 mb-4">
                <button id="show-friends-tab-btn" class="flex-1 py-2 text-center text-white border-b-2 border-indigo-500">Arkada≈ülarƒ±m</button>
                <button id="show-requests-tab-btn" class="flex-1 py-2 text-center text-gray-400">ƒ∞stekler <span id="friend-request-count" class="hidden bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 ml-1">0</span></button>
                <button id="show-add-friend-tab-btn" class="flex-1 py-2 text-center text-gray-400">Arkada≈ü Ekle</button>
            </div>
            <div id="friends-tab" class="flex-1 overflow-y-auto"><p id="friends-list-placeholder" class="text-gray-500 text-center mt-8">Hen√ºz hi√ß arkada≈üƒ±n yok.</p><div id="friends-list" class="space-y-2"></div></div>
            <div id="requests-tab" class="hidden flex-1 overflow-y-auto"><p id="friend-requests-placeholder" class="text-gray-500 text-center mt-8">Yeni arkada≈ülƒ±k isteƒüi yok.</p><div id="friend-requests-list" class="space-y-2"></div></div>
            <div id="add-friend-tab" class="hidden flex-1">
                <div class="flex gap-2">
                    <input type="text" id="search-friend-input" placeholder="Kullanƒ±cƒ± adƒ± veya e-posta" class="flex-grow p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                    <button id="search-friend-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg">Ara</button>
                </div>
                <div id="friend-search-results" class="mt-4 space-y-2"></div>
            </div>
        </div>

        <div id="multiplayer-setup-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col justify-center">
            <button id="back-to-mode-multi-btn" class="back-button-hitbox absolute top-4 left-4">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
            </button>
            <h1 class="text-3xl font-bold text-center mb-6" id="multiplayer-setup-title">Online Oyun Kurulumu</h1>
            <div class="mb-4">
                <button id="invite-friend-btn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg text-lg mb-4 hidden">Arkada≈üƒ±na Meydan Oku</button>
                <hr class="border-gray-600 my-4">
                <h2 class="text-2xl font-semibold mb-3">Oyun Ayarlarƒ±</h2>
                <div class="grid grid-cols-3 gap-2">
                    <div>
                        <label for="word-length-select-multi" class="block text-sm font-medium text-gray-400">Harf</label>
                        <select id="word-length-select-multi" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                            <option value="4">4</option>
                            <option value="5" selected>5</option>
                            <option value="6">6</option>
                        </select>
                    </div>
                    <div>
                        <label for="time-select-multi" class="block text-sm font-medium text-gray-400">S√ºre</label>
                        <select id="time-select-multi" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                            <option value="45" selected>45 sn (Seri)</option>
                            <option value="43200">12 saat (Gev≈üek)</option>
                        </select>
                    </div>
                    <div>
                        <label for="match-length-select" class="block text-sm font-medium text-gray-400">Tur</label>
                        <select id="match-length-select" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                            <option value="1">1</option>
                            <option value="5" selected>5</option>
                            <option value="10">10</option>
                            <option value="15">15</option>
                            <option value="20">20</option>
                        </select>
                    </div>
                </div>
                <div class="mt-4 flex items-center justify-center">
                    <input id="hard-mode-checkbox-multi" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                    <label for="hard-mode-checkbox-multi" class="ml-2 block text-sm text-gray-300">Zor Mod</label>
                </div>
                <button id="create-game-btn" class="w-full mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Oyun Kur</button>
            </div>
            <hr class="my-4 border-gray-600">
            <div>
                <h2 class="text-2xl font-semibold mb-3">Oyuna Katƒ±l (ID ile)</h2>
                <input type="text" id="game-id-input" placeholder="Oyun ID'sini girin" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 mb-3 text-center uppercase text-white placeholder-gray-400">
                <button id="join-game-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Oyuna Katƒ±l</button>
            </div>
        </div>

        <div id="br-setup-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col justify-center">
            <button id="back-to-mode-br-btn" class="back-button-hitbox absolute top-4 left-4">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
            </button>
            <h1 class="text-3xl font-bold text-center mb-6 text-yellow-400">Battle Royale</h1>
            <p class="text-sm text-gray-400 mb-6">8 Ki≈üiye kadar 10 turluk yarƒ±≈üma modu</p>
            
            <div class="space-y-3 w-full">
                <button id="btn-create-public-br" class="w-full bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-4 px-4 rounded-xl text-lg shadow-lg flex items-center justify-center gap-2">
                    <span>üåç</span> Oyun Kur (Herkese A√ßƒ±k)
                </button>

                <button id="btn-create-private-br" class="w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-4 rounded-xl text-lg shadow-lg flex items-center justify-center gap-2 border border-gray-600">
                    <span>üîí</span> Oyun Kur (Sadece Arkada≈ülar)
                </button>

                <button id="btn-join-random-br" class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-4 px-4 rounded-xl text-lg shadow-lg flex items-center justify-center gap-2">
                    <span>‚ö°</span> Rastgele Oyuna Katƒ±l
                </button>
            </div>
            
            <div id="br-setup-invites-section" class="w-full mt-6 hidden border-t border-gray-600 pt-4">
                <h3 class="text-xs text-yellow-400 font-bold mb-2 uppercase text-left tracking-wider">üì© Gelen Davetler</h3>
                <div id="br-setup-invites-list" class="space-y-2"></div>
            </div>
            <div class="h-8"></div> 
¬† ¬† ¬† ¬† </div>

        <div id="profile-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col">
            <h2 class="text-3xl font-bold mb-4">ƒ∞statistikler</h2>
            
            <div class="flex border-b border-gray-600 mb-4">
                <button id="show-personal-stats-tab-btn" class="flex-1 py-2 text-center text-white border-b-2 border-indigo-500">Ki≈üisel</button>
                <button id="show-global-ranking-tab-btn" class="flex-1 py-2 text-center text-gray-400">Genel Sƒ±ralama</button>
            </div>

            <div id="personal-stats-tab" class="flex-1 flex flex-col overflow-y-auto">
                <div class="grid grid-cols-4 gap-2 text-center mb-4">
                    <div> <p id="stats-played" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">Oynanan</p> </div>
                    <div> <p id="stats-win-percentage" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">Kazanma %</p> </div>
                    <div> <p id="stats-current-streak" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">Seri</p> </div>
                    <div> <p id="stats-max-streak" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">En ƒ∞yi Seri</p> </div>
                </div>
                <h3 class="text-xl font-bold mb-2">Tahmin Daƒüƒ±lƒ±mƒ±</h3>
                <div id="stats-guess-distribution" class="w-full max-w-xs mx-auto space-y-1 text-xs text-left"></div>
            </div>

            <div id="global-ranking-tab" class="hidden flex-1 overflow-y-auto">
                <p id="global-ranking-loading" class="text-gray-400 mt-16">Sƒ±ralama y√ºkleniyor...</p>
                <div id="global-ranking-list" class="text-left">
                </div>
            </div>

            <button id="close-profile-btn" class="w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg flex-shrink-0">Kapat</button>
        </div>
        
        <div id="edit-profile-screen" class="hidden flex-1 flex flex-col p-4 bg-gray-800">
            <header class="flex items-center mb-4">
                <button id="back-to-main-from-edit-profile-btn" class="back-button-hitbox">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                </button>
                <h1 class="text-2xl font-bold text-center flex-grow -ml-10">Profili D√ºzenle</h1>
            </header>

            <div class="flex-1 flex flex-col items-center overflow-y-auto">
                <div class="mb-6 flex flex-col items-center">
                    <div class="relative mb-3">
                        <img id="profile-avatar-img" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%236B7280'/%3E%3C/svg%3E" 
                             class="w-24 h-24 rounded-full border-4 border-gray-600">
                        <button id="change-avatar-btn" class="absolute -bottom-2 -right-2 bg-indigo-600 hover:bg-indigo-700 p-2 rounded-full border-2 border-gray-800">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg>
                        </button>
                    </div>
                </div>

                <div class="w-full max-w-xs space-y-3">
                    <div>
                        <label for="profile-username-input" class="block text-sm font-medium text-gray-400 text-left mb-1">Kullanƒ±cƒ± Adƒ± (Deƒüi≈ütirilebilir)</label>
                        <input type="text" id="profile-username-input" placeholder="Kullanƒ±cƒ± Adƒ±" 
                               class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white" maxlength="12">
                    </div>
                    <button id="save-profile-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-md">
                        Deƒüi≈üiklikleri Kaydet
                    </button>
                    <hr class="border-gray-600">
                    <div>
                        <label for="profile-fullname-display" class="block text-sm font-medium text-gray-400 text-left mb-1">Ad Soyad</label>
                        <input type="text" id="profile-fullname-display" class="w-full p-2 border rounded-md bg-gray-600 border-gray-500 text-center text-gray-400" disabled>
                    </div>
                    <div>
                        <label for="profile-email-display" class="block text-sm font-medium text-gray-400 text-left mb-1">E-posta</label>
                        <input type="email" id="profile-email-display" class="w-full p-2 border rounded-md bg-gray-600 border-gray-500 text-center text-gray-400" disabled>
                    </div>
                </div>
            </div>
        </div>

        <div id="matchmaking-screen" class="hidden flex-1 flex flex-col h-full relative overflow-hidden bg-gray-900">
            
            <div class="flex-1 flex flex-col items-center justify-end pb-8 bg-gradient-to-b from-gray-800 to-gray-900 relative w-full">
                <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#4b5563 1px, transparent 1px); background-size: 20px 20px;"></div>
                
                <div class="relative z-10 flex flex-col items-center gap-3">
                    <div class="w-24 h-24 rounded-full bg-gray-700 border-4 border-gray-600 flex items-center justify-center shadow-2xl animate-pulse">
                        <span class="text-5xl font-black text-gray-500">?</span>
                    </div>
                    <div class="text-center">
                        <h2 class="text-3xl font-black text-gray-500 tracking-widest">???</h2>
                        <p class="text-xs text-gray-400 animate-pulse mt-1">RAKƒ∞P ARANIYOR...</p>
                    </div>
                </div>
            </div>

            <div class="absolute top-1/2 left-0 w-full h-1 bg-gray-700 flex items-center justify-center z-20 -mt-0.5">
                <div class="relative">
                    <div class="radar-ring"></div>
                    <div class="radar-ring delay-1"></div>
                    <div class="w-16 h-16 bg-gray-800 rounded-full border-4 border-gray-600 flex items-center justify-center shadow-xl relative z-10">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white animate-wiggle" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                </div>
            </div>

            <div class="flex-1 flex flex-col items-center justify-start pt-8 bg-gray-900 w-full">
                <div class="flex flex-col items-center gap-3">
                    <div class="relative">
                        <img id="matchmaking-my-avatar" src="" class="w-24 h-24 rounded-full border-4 border-indigo-500 shadow-2xl object-cover">
                        <div class="absolute bottom-0 right-0 w-6 h-6 bg-green-500 border-2 border-white rounded-full"></div>
                    </div>
                    <div class="text-center">
                        <h2 id="matchmaking-my-name" class="text-3xl font-black text-white tracking-wide">OYUNCU</h2>
                        <p class="text-xs text-indigo-400 font-bold mt-1">PROFESYONEL</p>
                    </div>
                </div>

                <button id="cancel-matchmaking-btn" class="mt-auto mb-8 bg-red-600/80 hover:bg-red-600 text-white px-8 py-3 rounded-full font-bold text-sm transition flex items-center gap-2 border border-red-500/50">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                    ARAMAYI DURDUR
                </button>
            </div>
        </div>

        <div id="how-to-play-screen" class="hidden bg-gray-800 p-4 shadow-lg flex-1 flex flex-col text-left overflow-y-auto">
                <h2 class="text-3xl font-bold mb-4 text-center">Nasƒ±l Oynanƒ±r?</h2>
                <p class="text-center mb-4">Gizli kelimeyi 6 tahminde bulun.</p>
            <div class="tutorial-container">
                <div id="tutorial-grid" class="grid gap-1 w-full" style="margin: 0 auto; max-width: 260px; grid-template-columns: repeat(5, 1fr);">
                     <div class="tutorial-tile" id="t-0-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-4"><div class="front"></div><div class="back"></div></div>
                </div>

                <div id="tutorial-joker-container" class="joker-container" style="padding: 10px 0;">
                    <button id="tutorial-joker-present" class="joker-button" style="border-color: #f59e0b; background-color: rgba(245, 158, 11, 0.2);">
                        <span class="joker-badge">x1</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" style="filter: drop-shadow(0 0 2px rgba(251, 191, 36, 0.5));"><path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712z" fill="#ffffff" /><path d="M19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z" fill="#fbbf24" /></svg>
                    </button>
                    <button id="tutorial-joker-correct" class="joker-button" style="border-color: #10b981; background-color: rgba(16, 185, 129, 0.2);">
                        <span class="joker-badge">x1</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" style="filter: drop-shadow(0 0 2px rgba(52, 211, 153, 0.5));"><path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712z" fill="#ffffff" /><path d="M19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z" fill="#34d399" /></svg>
                    </button>
                    <button id="tutorial-joker-remove" class="joker-button" style="border-color: #9ca3af; background-color: rgba(156, 163, 175, 0.1);">
                        <span class="joker-badge">x1</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-9 w-9" viewBox="0 0 24 24" style="filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));"><path d="M16.24 3.56l4.2 4.2c.78.78.78 2.05 0 2.83L13.5 17.5L6.5 10.5l6.94-6.94c.78-.78 2.05-.78 2.83 0z" fill="#f59e0b" /><path d="M6.5 10.5L13.5 17.5L8.81 22.19c-.78.78-2.05.78-2.83 0l-4.2-4.2c-.78-.78-.78-2.05 0-2.83L6.5 10.5z" fill="#ffffff" /></svg>
                    </button>
                </div>
                <div id="tutorial-keyboard" class="w-full flex-shrink-0" style="padding: 8px 2px 2px 2px; box-sizing: border-box;">
                    <div class="tutorial-key-row" style="display: flex; justify-content: center; gap: 4px; margin-bottom: 4px;">
                        <button class="tutorial-key" data-key="E">E</button><button class="tutorial-key" data-key="R">R</button><button class="tutorial-key" data-key="T">T</button><button class="tutorial-key" data-key="Y">Y</button><button class="tutorial-key" data-key="U">U</button><button class="tutorial-key" data-key="I">I</button><button class="tutorial-key" data-key="O">O</button><button class="tutorial-key" data-key="P">P</button><button class="tutorial-key" data-key="ƒû">ƒû</button><button class="tutorial-key" data-key="√ú">√ú</button>
                    </div>
                    <div class="tutorial-key-row" style="display: flex; justify-content: center; gap: 4px; margin-bottom: 4px;">
                        <button class="tutorial-key" data-key="A">A</button><button class="tutorial-key" data-key="S">S</button><button class="tutorial-key" data-key="D">D</button><button class="tutorial-key" data-key="F">F</button><button class="tutorial-key" data-key="G">G</button><button class="tutorial-key" data-key="H">H</button><button class="tutorial-key" data-key="J">J</button><button class="tutorial-key" data-key="K">K</button><button class="tutorial-key" data-key="L">L</button><button class="tutorial-key" data-key="≈û">≈û</button><button class="tutorial-key" data-key="ƒ∞">ƒ∞</button>
                    </div>
                    <div class="tutorial-key-row" style="display: flex; justify-content: center; gap: 4px; margin-bottom: 4px;">
                        <button class="tutorial-key" data-key="Z">Z</button><button class="tutorial-key" data-key="C">C</button><button class="tutorial-key" data-key="V">V</button><button class="tutorial-key" data-key="B">B</button><button class="tutorial-key" data-key="N">N</button><button class="tutorial-key" data-key="M">M</button><button class="tutorial-key" data-key="√ñ">√ñ</button><button class="tutorial-key" data-key="√á">√á</button>
                    </div>
                </div>
            </div>

            <ul class="text-left space-y-3 mt-4" style="padding: 0 10px;">
                <li><span class="tutorial-tile-mini correct">√ñ</span> Harf kelimede var ve <strong>doƒüru yerde</strong>.</li>
                <li><span class="tutorial-tile-mini present">N</span> Harf kelimede var ama <strong>yanlƒ±≈ü yerde</strong>.</li>
                <li><span class="tutorial-tile-mini absent">R</span> Harf kelimede <strong>yok</strong>.</li>
            </ul>
            <button id="close-how-to-play-btn" class="w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Anladƒ±m</button>
        </div>

        <div id="game-screen" class="hidden flex-1 flex flex-col items-center px-2 relative">
            
            <button id="leave-game-button" class="hidden absolute top-3 right-3 z-50 bg-gray-700/90 hover:bg-gray-600 text-white font-bold py-1.5 px-3 rounded-lg text-xs border border-gray-500/50 shadow-lg backdrop-blur-sm transition cursor-pointer">
                Men√º
            </button>

            <div id="multiplayer-score-board" class="hidden w-full bg-gray-800/80 p-1 rounded-lg shadow-sm flex-shrink-0 mb-1 mt-1 backdrop-blur-sm">
                <div class="grid grid-cols-5 gap-1 w-full items-start">
                    <div class="col-span-2 flex flex-col gap-1">
                        <div id="br-player-slot-0" class="h-7"><p></p><p></p></div>
                        <div id="br-player-slot-1" class="h-7"><p></p><p></p></div>
                        <div id="br-player-slot-2" class="h-7"><p></p><p></p></div>
                        <div id="br-player-slot-3" class="h-7"><p></p><p></p></div>
                    </div>
                    <div class="col-span-1 flex flex-col items-center justify-center pt-1">
                         <p id="br-timer-display" class="font-bold text-3xl font-mono text-amber-400 leading-none drop-shadow-md">60</p>
                         <p id="br-round-counter" class="text-[9px] text-gray-400 uppercase tracking-wider mt-1">Tur 1</p>
                         <p id="br-turn-display" class="text-[9px] text-gray-300 text-center leading-tight hidden">...</p>
                    </div>
                    <div class="col-span-2 flex flex-col gap-1">
                        <div id="br-player-slot-4" class="h-7"><p></p><p></p></div>
                        <div id="br-player-slot-5" class="h-7"><p></p><p></p></div>
                        <div id="br-player-slot-6" class="h-7"><p></p><p></p></div>
                        <div id="br-player-slot-7" class="h-7"><p></p><p></p></div>
                    </div>
                </div>
            </div>
            <h2 id="daily-game-title" class="hidden font-black text-3xl text-yellow-400 tracking-[0.2em] drop-shadow-md mb-2 mt-2 text-center uppercase">
                G√úN√úN KELƒ∞MESƒ∞
            </h2>
            <div class="w-full bg-gray-800 p-1 rounded-lg shadow flex items-center justify-between flex-shrink-0 mb-1 mt-1" id="sequential-game-info">
                <div id="player1-score" class="text-left w-2/5 truncate pl-1"></div>
                <div class="text-center w-1/5 flex flex-col items-center">
                    <div id="opponent-mini-grid" class="grid gap-0.5 mb-1 hidden"></div> 
                    <p id="timer-display" class="font-bold text-xl font-mono text-gray-300 leading-none"></p>
                    <p id="round-counter" class="text-[10px] text-gray-500 hidden"></p>
                </div>
                <div id="player2-score" class="text-right w-2/5 truncate pr-12"></div>
            </div>
            
            <div id="game-info-bar" class="w-full text-center py-1 flex justify-between items-center px-2 flex-shrink-0" style="display: none !important">
                 <div class="flex items-center gap-2">
                     <p class="text-xs">Oyun ID: <strong id="game-id-display" class="text-indigo-400"></strong></p>
                     <button id="copy-game-id-btn" class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-0 px-2 rounded text-xs">Kopyala</button>
                     <button id="share-game-btn" class="hidden bg-blue-600 hover:bg-blue-500 text-white font-bold py-0 px-2 rounded text-xs flex items-center gap-1"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"></path></svg><span>Payla≈ü</span></button>
                 </div>
            </div>

            <div class="w-full flex-grow flex flex-col justify-center overflow-y-auto min-h-0">
                <div id="guess-grid" class="grid gap-1 w-full" style="margin: 0 auto;"></div>
            </div>
            
            <button id="invite-to-lobby-btn" class="hidden w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg text-lg my-1 flex-shrink-0 flex items-center justify-center gap-2 shadow-lg">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
                </svg>
                Arkada≈ü Davet Et
            </button>

            <button id="start-game-btn" class="hidden w-full bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-4 rounded-lg text-lg my-1 flex-shrink-0">Oyunu Ba≈ülat</button>
            <div id="br-lobby-controls" class="hidden w-full flex flex-col items-center justify-center my-2 flex-shrink-0">
<div id="br-lobby-status-text" class="w-full flex flex-col items-center justify-center mb-4">
    <span class="text-gray-400 font-bold text-sm uppercase tracking-wide">Y√ºkleniyor...</span>
</div>
<div class="flex flex-col gap-2 items-center w-full px-10"> 
<button id="br-lobby-invite-btn" class="hidden bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-xl text-sm w-full flex items-center justify-center shadow-lg transition transform active:scale-95 whitespace-nowrap">
<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor">
<path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
</svg>
<span>Arkada≈ü Davet Et</span>
</button>
<button id="br-lobby-start-btn" class="hidden bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-2 px-4 rounded-xl text-sm w-full shadow-lg transition transform active:scale-95 whitespace-nowrap">
Oyunu Ba≈ülat
</button>
</div>
</div>
            <div id="joker-container" class="joker-container">
                <button id="joker-present" class="joker-button" style="border-color: #f59e0b; background-color: rgba(245, 158, 11, 0.2);">
                    <span class="joker-badge">x1</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" style="filter: drop-shadow(0 0 2px rgba(251, 191, 36, 0.5));"><path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712z" fill="#ffffff" /><path d="M19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z" fill="#fbbf24" /></svg>
                </button>
                <button id="joker-correct" class="joker-button" style="border-color: #10b981; background-color: rgba(16, 185, 129, 0.2);">
                    <span class="joker-badge">x1</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" style="filter: drop-shadow(0 0 2px rgba(52, 211, 153, 0.5));"><path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712z" fill="#ffffff" /><path d="M19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z" fill="#34d399" /></svg>
                </button>
                <button id="joker-remove" class="joker-button" style="border-color: #6b7280; background-color: rgba(156, 163, 175, 0.1);">
                    <span class="joker-badge">x1</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-9 w-9" viewBox="0 0 24 24" style="filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));"><path d="M16.24 3.56l4.2 4.2c.78.78.78 2.05 0 2.83L13.5 17.5L6.5 10.5l6.94-6.94c.78-.78 2.05-.78 2.83 0z" fill="#f59e0b" /><path d="M6.5 10.5L13.5 17.5L8.81 22.19c-.78.78-2.05.78-2.83 0l-4.2-4.2c-.78-.78-.78-2.05 0-2.83L6.5 10.5z" fill="#ffffff" /></svg>
                </button>
            </div>
            <div id="keyboard" class="w-full flex-shrink-0"></div>
        </div>

        <div id="scoreboard-screen" class="hidden flex-1 flex flex-col items-center justify-center p-4 bg-gray-900 overflow-y-auto">
            <div class="w-full max-w-md bg-gray-800 p-6 rounded-xl shadow-2xl border border-gray-700 text-center relative">
                
                <h2 id="round-winner-display" class="text-3xl font-black mb-2 tracking-wide uppercase drop-shadow-md"></h2>
                <h3 id="match-winner-display" class="text-2xl font-bold mb-6 text-yellow-400 hidden animate-pulse"></h3>
                
                <div id="default-word-display-container" class="mb-6 bg-gray-900/50 p-4 rounded-lg border border-gray-600">
                    <p class="text-xs text-gray-400 uppercase mb-1">Doƒüru Kelime</p>
                    <p id="correct-word-display" class="text-3xl font-black text-green-400 tracking-[0.2em]"></p>
                    <p id="word-meaning-display" class="text-sm text-gray-300 mt-2 italic font-serif leading-relaxed"></p>
                    <button id="btn-add-word-to-dict" class="hidden mt-3 text-xs bg-amber-600 hover:bg-amber-500 text-white py-1.5 px-4 rounded-full transition items-center gap-2 justify-center mx-auto shadow-md">
                        <span>üìñ</span> S√∂zl√ºƒüe Ekle
                    </button>
                </div>

                <div id="final-scores" class="w-full mb-6 space-y-2 text-sm bg-gray-700/30 p-3 rounded-lg max-h-40 overflow-y-auto custom-scrollbar"></div>
                
                <div class="flex flex-col gap-3 w-full" id="default-round-buttons">
                    <button id="new-round-btn" class="hidden w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg text-lg shadow-lg transition transform active:scale-95">Sonraki Tur</button>
                    <button id="new-word-rematch-btn" class="hidden w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-4 rounded-lg text-lg shadow-lg transition">Yeni Kelime (R√∂van≈ü)</button>
                    
                    <div class="flex gap-2">
                        <button id="share-results-btn" class="flex-1 bg-sky-600 hover:bg-sky-500 text-white font-bold py-3 px-4 rounded-lg text-sm shadow-md transition">Payla≈ü</button>
                        <button id="main-menu-btn" class="flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-4 rounded-lg text-sm shadow-md transition">Men√º</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="kelimelig-screen" class="hidden flex-1 flex flex-col p-4 bg-gray-800 h-screen max-h-screen">
             <header class="flex items-center mb-4 flex-shrink-0">
                 <button id="back-to-main-from-league-btn" class="back-button-hitbox">
                     <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                 </button>
                 <h1 class="text-2xl font-bold text-center flex-grow -ml-10 text-yellow-400">üèÜ KELƒ∞MELƒ∞G</h1>
             </header>

             <div class="flex-1 flex flex-col items-center justify-center overflow-hidden min-h-0">
                
                <div id="league-intro-section" class="w-full max-w-md text-center overflow-y-auto custom-scrollbar">
                    <p class="text-gray-400 text-sm mb-6">Haftalƒ±k Puan M√ºcadelesi</p>
                    <div class="bg-gray-700 p-4 rounded-lg text-left text-sm text-gray-300 space-y-3 mb-6 shadow-lg border border-gray-600">
                        <p>üìÖ <strong>Ba≈ülangƒ±√ß:</strong> Her Pazartesi 00:00</p>
                        <p>üèÅ <strong>Biti≈ü:</strong> Her Pazar 23:00</p>
                        <p>‚öîÔ∏è <strong>Format:</strong> Lige katƒ±lan herkesle 1 ma√ß.</p>
                        <p>‚è±Ô∏è <strong>S√ºre:</strong> Her ma√ß 120 saniye, 6 hak.</p>
                        <div class="border-t border-gray-600 pt-2 mt-2">
                            <p class="text-yellow-400 font-bold">üèÖ Puanlama:</p>
                            <ul class="list-disc list-inside pl-2 text-xs">
                                <li>Kazanma (Az Tahmin): <span class="text-green-400">3 Puan</span></li>
                                <li>Beraberlik (E≈üit Tahmin): <span class="text-blue-300">1 Puan</span></li>
                                <li>Kaybetme / Oynamama: <span class="text-red-400">0 Puan</span></li>
                            </ul>
                        </div>
                    </div>
                    <button id="join-league-btn" class="w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white font-bold py-4 rounded-lg text-xl shadow-lg transform transition active:scale-95">
                        Lƒ∞GE KATIL ‚úçÔ∏è
                    </button>
                    <p id="league-join-status" class="mt-4 text-green-400 font-bold hidden bg-gray-900 p-2 rounded border border-green-500/30">
                        ‚úÖ Kaydƒ±n alƒ±ndƒ±! Pazartesi 00:00'da ma√ßlar ba≈ülayacak.
                    </p>
                </div>

                <div id="league-dashboard-section" class="hidden w-full max-w-md flex flex-col h-full overflow-hidden">
                    
                    <div class="flex justify-between items-center mb-4 bg-gray-900 p-4 rounded-lg border border-yellow-500/30 shadow-lg flex-shrink-0">
                        <div class="text-left">
                            <p class="text-xs text-gray-400 uppercase">Senin Puanƒ±n</p>
                            <span id="league-total-score" class="text-3xl font-black text-yellow-400 drop-shadow-md">0</span>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-400 uppercase">Hafta</p>
                            <span id="league-week-display" class="text-xl font-bold text-white">1</span>
                        </div>
                    </div>
                    
                    <div class="flex border-b border-gray-600 mb-4 flex-shrink-0">
                        <button id="btn-show-fixtures" class="flex-1 py-2 text-center text-white border-b-2 border-yellow-500 transition-colors font-bold">
                            üìÖ Fikst√ºr
                        </button>
                        <button id="btn-show-standings" class="flex-1 py-2 text-center text-gray-400 hover:text-white transition-colors font-bold">
                            üèÜ Puan Durumu
                        </button>
                    </div>

                    <div id="tab-league-fixtures" class="flex-1 flex flex-col overflow-hidden min-h-0">
                        <div id="league-matches-list" class="space-y-3 overflow-y-auto flex-1 pr-1 pb-4 custom-scrollbar" style="touch-action: pan-y;">
                            </div>
                    </div>

                    <div id="tab-league-standings" class="hidden flex-1 flex flex-col overflow-hidden min-h-0">
                        <div class="overflow-y-auto custom-scrollbar pr-1 pb-4 flex-1" style="touch-action: pan-y;">
                            <table class="w-full text-sm text-left text-gray-300">
                                <thead class="text-xs text-gray-400 uppercase bg-gray-700 sticky top-0 z-10 shadow-sm">
                                    <tr>
                                        <th scope="col" class="px-3 py-2 rounded-tl-lg">Oyuncu</th>
                                        <th scope="col" class="px-2 py-2 text-center">O</th>
                                        <th scope="col" class="px-2 py-2 text-center">G</th>
                                        <th scope="col" class="px-2 py-2 text-center">B</th>
                                        <th scope="col" class="px-2 py-2 text-center">M</th>
                                        <th scope="col" class="px-3 py-2 text-center text-yellow-400 rounded-tr-lg">P</th>
                                    </tr>
                                </thead>
                                <tbody id="league-standings-body" class="bg-gray-800">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>

             </div>
        </div>

        <div id="kirtasiye-screen" class="hidden screen-container bg-gray-900 flex flex-col h-full w-full">
    
            <div class="flex justify-between items-center p-4 border-b border-gray-800 flex-shrink-0 h-28 relative">
                
                <button id="back-to-main-from-market-btn" class="text-gray-400 hover:text-white transition z-20">
                    <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>

                <div class="absolute inset-0 flex items-center justify-center z-10 pointer-events-none">
                    <div class="flex items-center gap-1"> 
                        <img src="/images/kirtasiye.png" 
                             alt="Kƒ±rtasiye" 
                             class="w-24 h-24 object-contain drop-shadow-xl filter brightness-110">
                        
                        <h2 class="text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 drop-shadow-sm">
                            KIRTASƒ∞YE
                        </h2>
                    </div>
                </div>

                <div class="w-8"></div> </div>


            <div class="p-4 overflow-y-auto flex-grow custom-scrollbar space-y-6">
                
                <div class="bg-gradient-to-r from-gray-800 to-gray-900 p-5 rounded-2xl shadow-lg border border-gray-700 flex justify-between items-center">
                    <div>
                        <p class="text-gray-400 text-xs font-bold uppercase tracking-wider mb-1">Mevcut Bakiye</p>
                        <p class="text-white text-sm">Alƒ±≈üveri≈üe Ba≈üla!</p>
                    </div>
                    <div class="bg-yellow-500/20 px-4 py-2 rounded-full border border-yellow-500/50 flex items-center gap-3">
                        <img src="/images/sikke.png" alt="Altƒ±n" class="w-8 h-8 animate-pulse drop-shadow-md">
                        <span id="user-gold-display" class="text-2xl font-black text-yellow-400 tracking-wide">0</span>
                    </div>
                </div>

                <div>
                    <h3 class="text-white font-bold mb-3 flex items-center gap-2 text-sm uppercase tracking-wider">
                        <span class="text-lg">üöÄ</span> G√ú√áLENDƒ∞Rƒ∞Cƒ∞LER
                    </h3>
                    <div class="space-y-3">
                        
                        <div class="bg-gray-800 p-3 rounded-xl border border-gray-700 flex justify-between items-center shadow-md transition hover:border-orange-500/50">
                            <div class="flex items-center gap-4 flex-grow">
                                <div class="w-20 h-20 flex-shrink-0 flex items-center justify-center relative">
                                    <div class="absolute inset-0 bg-orange-500/10 rounded-full blur-md"></div>
                                    <img src="/images/turuncu-kalem.png" alt="Turuncu Kalem" class="w-full h-full object-contain drop-shadow-lg z-10 scale-110">
                                </div>
                                <div class="flex-grow">
                                    <h4 class="text-white font-bold text-lg">Turuncu Kalem</h4>
                                    <p class="text-gray-400 text-xs mb-2">Harf var mƒ± diye bakar.</p>
                                    <div class="inline-flex items-center gap-1 bg-gray-900/50 px-2 py-0.5 rounded text-[10px] text-gray-400 font-medium border border-gray-700">
                                        Stok: <span id="stock-present" class="text-orange-400 font-bold">0</span>
                                    </div>
                                </div>
                            </div>
                            <button class="buy-item-btn bg-gradient-to-br from-green-500 to-green-700 hover:from-green-400 hover:to-green-600 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg active:scale-95 flex-shrink-0 ml-2" 
                                    data-type="item" data-item="present" data-price="100">
                                <div class="flex items-center gap-1">
                                    <span class="text-lg">100</span>
                                    <img src="/images/sikke.png" alt="Sikke" class="w-4 h-4">
                                </div>
                            </button>
                        </div>

                        <div class="bg-gray-800 p-3 rounded-xl border border-gray-700 flex justify-between items-center shadow-md transition hover:border-green-500/50">
                            <div class="flex items-center gap-4 flex-grow">
                                <div class="w-20 h-20 flex-shrink-0 flex items-center justify-center relative">
                                    <div class="absolute inset-0 bg-green-500/10 rounded-full blur-md"></div>
                                    <img src="/images/yesil-kalem.png" alt="Ye≈üil Kalem" class="w-full h-full object-contain drop-shadow-lg z-10 scale-110">
                                </div>
                                <div class="flex-grow">
                                    <h4 class="text-white font-bold text-lg">Ye≈üil Kalem</h4>
                                    <p class="text-gray-400 text-xs mb-2">Harfi yerine yazar.</p>
                                    <div class="inline-flex items-center gap-1 bg-gray-900/50 px-2 py-0.5 rounded text-[10px] text-gray-400 font-medium border border-gray-700">
                                        Stok: <span id="stock-correct" class="text-green-400 font-bold">0</span>
                                    </div>
                                </div>
                            </div>
                            <button class="buy-item-btn bg-gradient-to-br from-green-500 to-green-700 hover:from-green-400 hover:to-green-600 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg active:scale-95 flex-shrink-0 ml-2" 
                                    data-type="item" data-item="correct" data-price="250">
                                <div class="flex items-center gap-1">
                                    <span class="text-lg">250</span>
                                    <img src="/images/sikke.png" alt="Sikke" class="w-4 h-4">
                                </div>
                            </button>
                        </div>

                        <div class="bg-gray-800 p-3 rounded-xl border border-gray-700 flex justify-between items-center shadow-md transition hover:border-red-500/50">
                            <div class="flex items-center gap-4 flex-grow">
                                <div class="w-20 h-20 flex-shrink-0 flex items-center justify-center relative">
                                    <div class="absolute inset-0 bg-red-500/10 rounded-full blur-md"></div>
                                    <img src="/images/silgi.png" alt="Silgi" class="w-full h-full object-contain drop-shadow-lg z-10 scale-110">
                                </div>
                                <div class="flex-grow">
                                    <h4 class="text-white font-bold text-lg">Silgi</h4>
                                    <p class="text-gray-400 text-xs mb-2">Gereksiz harfleri eler.</p>
                                    <div class="inline-flex items-center gap-1 bg-gray-900/50 px-2 py-0.5 rounded text-[10px] text-gray-400 font-medium border border-gray-700">
                                        Stok: <span id="stock-remove" class="text-red-400 font-bold">0</span>
                                    </div>
                                </div>
                            </div>
                            <button class="buy-item-btn bg-gradient-to-br from-green-500 to-green-700 hover:from-green-400 hover:to-green-600 text-white font-bold py-2 px-4 rounded-lg text-sm shadow-lg active:scale-95 flex-shrink-0 ml-2" 
                                    data-type="item" data-item="remove" data-price="150">
                                <div class="flex items-center gap-1">
                                    <span class="text-lg">150</span>
                                    <img src="/images/sikke.png" alt="Sikke" class="w-4 h-4">
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-white font-bold mb-3 flex items-center gap-2 text-sm uppercase tracking-wider">
                        <span class="text-lg">üéÅ</span> ALTIN KAZAN
                    </h3>
                    
                    <div class="grid grid-cols-2 gap-3 mb-6">
                        
                        <button class="buy-gold-btn group bg-gray-800 p-2 rounded-xl border border-gray-700 flex flex-col items-center justify-between shadow-md transition hover:scale-[1.02] hover:border-indigo-500/50 relative overflow-hidden h-48"
                                data-amount="500">
                            <div class="absolute inset-0 bg-indigo-500/5 group-hover:bg-indigo-500/10 transition-colors z-0"></div>
                            <div class="relative w-full flex-grow flex items-center justify-center z-10 overflow-hidden">
                                <img src="/images/tv.png" alt="Reklam ƒ∞zle" class="w-full h-full object-contain drop-shadow-2xl transform transition group-hover:scale-110">
                            </div>
                            <div class="w-full flex flex-col items-center z-20 mt-2">
                                <div class="text-2xl font-black text-white flex items-center gap-2">
                                    <span>500</span>
                                    <img src="/images/sikke.png" alt="Altƒ±n" class="w-5 h-5 animate-bounce-slow">
                                </div>
                                <span class="text-[10px] text-indigo-300 font-bold uppercase tracking-wide">REKLAM ƒ∞ZLE</span>
                            </div>
                        </button>

                        <button id="btn-market-invite" class="group bg-gray-800 p-2 rounded-xl border border-gray-700 flex flex-col items-center justify-between shadow-md transition hover:scale-[1.02] hover:border-blue-500/50 relative overflow-hidden h-48">
                            <div class="absolute inset-0 bg-blue-500/5 group-hover:bg-blue-500/10 transition-colors z-0"></div>
                            <div class="relative w-full flex-grow flex items-center justify-center z-10 overflow-hidden">
                                <img src="/images/arkadaslar.png" alt="Davet Et" class="w-full h-full object-contain drop-shadow-2xl transform transition group-hover:scale-110">
                            </div>
                            <div class="w-full flex flex-col items-center z-20 mt-2">
                                <div class="text-2xl font-black text-white flex items-center gap-2">
                                    <span>5.000</span>
                                    <img src="/images/sikke.png" alt="Altƒ±n" class="w-5 h-5 animate-bounce-slow">
                                </div>
                                <span class="text-[10px] text-blue-300 font-bold uppercase tracking-wide">ARKADA≈ûINI √áAƒûIR</span>
                            </div>
                        </button>
                    </div>

                    <h3 class="text-white font-bold mb-3 flex items-center gap-2 text-sm uppercase tracking-wider">
                        <span class="text-lg">üíé</span> ALTIN SATIN AL
                    </h3>
                    
                    <div class="grid grid-cols-2 gap-3 pb-8"> 
                        
                        <button class="buy-gold-btn group bg-gray-800 p-2 rounded-xl border border-gray-700 flex flex-col items-center justify-between shadow-md transition hover:scale-[1.02] hover:border-green-500/50 relative overflow-hidden h-48"
                                data-amount="2000">
                            <div class="absolute inset-0 bg-green-500/5 group-hover:bg-green-500/10 transition-colors z-0"></div>
                            <div class="relative w-full flex-grow flex items-center justify-center z-10 overflow-hidden">
                                <img src="/images/kasa2.png" alt="Kasa" class="w-full h-full object-contain drop-shadow-2xl transform transition group-hover:scale-110">
                            </div>
                            <div class="w-full flex flex-col items-center z-20 mt-2">
                                <div class="text-2xl font-black text-white flex items-center gap-2">
                                    <span>2.000</span>
                                    <img src="/images/sikke.png" alt="Altƒ±n" class="w-5 h-5">
                                </div>
                                <span class="text-[10px] text-green-300 font-bold uppercase tracking-wide">20 TL</span>
                            </div>
                        </button>

                        <button class="buy-gold-btn group bg-gray-800 p-2 rounded-xl border border-gray-700 flex flex-col items-center justify-between shadow-md transition hover:scale-[1.02] hover:border-yellow-500/50 relative overflow-hidden h-48"
                                data-amount="10000">
                            <div class="absolute inset-0 bg-yellow-500/5 group-hover:bg-yellow-500/10 transition-colors z-0"></div>
                            <div class="relative w-full flex-grow flex items-center justify-center z-10 overflow-hidden">
                                <img src="/images/kasa2.png" alt="B√ºy√ºk Kasa" class="w-full h-full object-contain drop-shadow-2xl transform transition group-hover:scale-110 filter brightness-125">
                            </div>
                            <div class="w-full flex flex-col items-center z-20 mt-2">
                                <div class="text-2xl font-black text-white flex items-center gap-2">
                                    <span>10.000</span>
                                    <img src="/images/sikke.png" alt="Altƒ±n" class="w-5 h-5">
                                </div>
                                <span class="text-[10px] text-yellow-300 font-bold uppercase tracking-wide">50 TL</span>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="dictionary-screen" class="hidden flex-1 flex flex-col p-4 bg-gray-900 h-full">
            <header class="flex items-center mb-4">
                <button id="back-to-main-from-dictionary-btn" class="back-button-hitbox">
                    <svg class="w-8 h-8 text-gray-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                </button>
                <h1 class="text-2xl font-bold text-center flex-grow -ml-10 text-amber-500">S√∂zl√ºƒü√ºm</h1>
            </header>
            <div id="dictionary-list-container" class="flex-1 overflow-y-auto custom-scrollbar space-y-3">
                <p id="dictionary-empty-msg" class="text-center text-gray-500 mt-10">S√∂zl√ºƒü√ºn hen√ºz bo≈ü.</p>
            </div>
        </div>

        <div id="avatar-selection-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4">
            <div class="bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md">
                <h3 class="text-2xl font-bold text-white mb-4">Avatar Se√ß</h3>
                
                <div id="avatar-grid" class="grid grid-cols-4 gap-4 mb-4">
                </div>
                
                <button id="close-avatar-modal-btn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg">
                    Kapat
                </button>
            </div>
        </div>

        <div id="lobby-invite-modal" class="hidden fixed inset-0 bg-gray-900/90 flex items-center justify-center z-[60] p-4 backdrop-blur-sm">
            <div class="bg-gray-800 rounded-xl shadow-2xl w-full max-w-sm border border-gray-700 flex flex-col max-h-[80vh]">
                <div class="p-4 border-b border-gray-700 flex justify-between items-center">
                    <h3 class="text-xl font-bold text-white">Arkada≈ü Davet Et</h3>
                    <button id="close-lobby-invite-modal" class="text-gray-400 hover:text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                
                <div id="lobby-friends-list" class="p-4 overflow-y-auto custom-scrollbar space-y-2 flex-1">
                    <p class="text-center text-gray-500 py-4">Arkada≈ü listen y√ºkleniyor...</p>
                </div>
            </div>
        </div>

        <div id="daily-result-modal" class="hidden fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 backdrop-blur-md">
            <div class="bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden relative flex flex-col max-h-[90vh]">
                
                <div class="p-4 border-b border-gray-700 flex justify-between items-center bg-gray-900/50">
                    <h2 class="text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 tracking-wider">
                        G√úN√úN RAPORU
                    </h2>
                    <button id="close-daily-modal-btn" class="text-gray-400 hover:text-white transition">
                        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                    </button>
                </div>

                <div class="p-5 overflow-y-auto custom-scrollbar space-y-5">
                    
                    <div class="text-center">
                        <span class="text-gray-400 text-xs font-mono tracking-widest" id="daily-date-display">--.--.----</span>
                    </div>

                    <div class="bg-gray-700/30 rounded-xl p-3 border border-gray-600/50 relative">
                        <div class="absolute top-0 left-0 w-1 h-full bg-purple-500 rounded-l-xl"></div>
                        <h3 class="text-white font-bold text-sm mb-3 flex items-center gap-2 pl-2">
                            <span>üìÖ</span> BUG√úN√úN PERFORMANSI
                        </h3>

                        <div class="grid grid-cols-3 gap-2 text-center">
                            
                            <div class="bg-gray-800 p-2 rounded border border-indigo-500/30">
                                <div class="text-[10px] text-indigo-300 font-bold mb-1">SEN</div>
                                <div class="text-xl font-black text-white" id="d-my-score">0</div>
                                <div class="text-[9px] text-gray-500">PUAN</div>
                                <div class="mt-1 text-sm font-bold text-blue-300" id="d-my-guesses">X</div>
                                <div class="text-[9px] text-gray-500">DENEME</div>
                            </div>

                            <div class="bg-gray-800 p-2 rounded border border-gray-600">
                                <div class="text-[10px] text-gray-400 font-bold mb-1">GENEL</div>
                                <div class="text-xl font-bold text-gray-300" id="d-global-score">-</div>
                                <div class="text-[9px] text-gray-500">ORT. P</div>
                                <div class="mt-1 text-sm font-bold text-gray-400" id="d-global-guesses">-</div>
                                <div class="text-[9px] text-gray-500">ORT. D</div>
                            </div>

                            <div class="bg-purple-900/30 p-2 rounded border border-purple-500/40 flex flex-col justify-center items-center">
                                <div class="text-[10px] text-purple-300 font-bold mb-1">SIRALAMA</div>
                                <div class="text-2xl font-black text-purple-100" id="d-rank-pos">-</div>
                                <div class="w-full h-px bg-purple-500/30 my-1"></div>
                                <div class="text-xs text-purple-200" id="d-total-players">-</div>
                                <div class="text-[8px] text-purple-400 uppercase">OYUNCU</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-700/30 rounded-xl p-3 border border-gray-600/50 relative">
                        <div class="absolute top-0 left-0 w-1 h-full bg-yellow-500 rounded-l-xl"></div>
                        <h3 class="text-white font-bold text-sm mb-3 flex items-center gap-2 pl-2">
                            <span>üèÜ</span> HAFTALIK PERFORMANS
                        </h3>

                        <div class="grid grid-cols-3 gap-2 text-center">
                            
                            <div class="bg-gray-800 p-2 rounded border border-yellow-500/30">
                                <div class="text-[10px] text-yellow-500 font-bold mb-1">SEN (ORT)</div>
                                <div class="text-lg font-black text-white" id="w-my-score">-</div>
                                <div class="text-[9px] text-gray-500">PUAN</div>
                                <div class="mt-1 text-sm font-bold text-blue-300" id="w-my-guesses">-</div>
                                <div class="text-[9px] text-gray-500">DENEME</div>
                            </div>

                            <div class="bg-gray-800 p-2 rounded border border-gray-600">
                                <div class="text-[10px] text-gray-400 font-bold mb-1">GENEL (ORT)</div>
                                <div class="text-lg font-bold text-gray-300" id="w-global-score">-</div>
                                <div class="text-[9px] text-gray-500">PUAN</div>
                                <div class="mt-1 text-sm font-bold text-gray-400" id="w-global-guesses">-</div>
                                <div class="text-[9px] text-gray-500">DENEME</div>
                            </div>

                            <div class="bg-yellow-900/20 p-2 rounded border border-yellow-600/40 flex flex-col justify-center items-center">
                                <div class="text-[10px] text-yellow-200 font-bold mb-1">SIRALAMA</div>
                                <div class="text-2xl font-black text-yellow-100" id="w-rank-pos">-</div>
                                <div class="w-full h-px bg-yellow-600/30 my-1"></div>
                                <div class="text-xs text-yellow-200" id="w-total-players">-</div>
                                <div class="text-[8px] text-yellow-500 uppercase">OYUNCU</div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="p-4 border-t border-gray-700 bg-gray-900/80 flex gap-3">
                    <button id="daily-menu-btn" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-xl font-bold transition text-sm">
                        ANA MEN√ú
                    </button>
                    <button id="daily-share-btn" class="flex-[2] bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded-xl font-bold transition shadow-lg shadow-indigo-500/30 flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/></svg>
                        SONUCU PAYLA≈û
                    </button>
                </div>
            </div>
        </div>

        <div id="reset-password-modal" class="hidden fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm">
            <div class="bg-gray-800 border border-gray-700 p-6 rounded-xl shadow-2xl max-w-sm w-full relative">
                <button id="close-reset-modal" class="absolute top-3 right-3 text-gray-400 hover:text-white text-xl font-bold">&times;</button>
                
                <h3 class="text-xl font-bold text-white mb-2 text-center">≈ûifre Sƒ±fƒ±rlama</h3>
                <p class="text-gray-400 text-sm mb-4 text-center">Hesabƒ±na kayƒ±tlƒ± e-posta adresini gir. Sana bir sƒ±fƒ±rlama baƒülantƒ±sƒ± g√∂ndereceƒüiz.</p>
                
                <input type="email" id="reset-email-input" placeholder="E-posta adresin" 
                       class="w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-white mb-4 focus:border-indigo-500 focus:outline-none">
                
                <button id="send-reset-btn" class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg transition shadow-lg">
                    Sƒ±fƒ±rlama Linki G√∂nder
                </button>
                
                <div id="reset-status-msg" class="mt-3 text-center text-sm font-medium hidden"></div>
            </div>
        </div>

    </div>

    <div id="toast" class="toast"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-functions-compat.js"></script>
    
    <script type="module" src="js/main.js?v=3.1.1"></script> 
    

    <div id="quick-chat-menu" class="hidden absolute bottom-40 left-1/2 transform -translate-x-1/2 bg-gray-800 border border-gray-600 rounded-2xl shadow-2xl p-3 grid grid-cols-4 gap-3 z-[60]">
        <button class="chat-option text-3xl hover:scale-125 transition" data-msg="üçÄ">üçÄ</button>
        <button class="chat-option text-3xl hover:scale-125 transition" data-msg="üî•">üî•</button>
        <button class="chat-option text-3xl hover:scale-125 transition" data-msg="ü§¶‚Äç‚ôÇÔ∏è">ü§¶‚Äç‚ôÇÔ∏è</button>
        <button class="chat-option text-3xl hover:scale-125 transition" data-msg="üëè">üëè</button>
    </div>

    <div id="quests-modal" class="hidden fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-gray-800 border-2 border-gray-600 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]">
            
            <div class="bg-gradient-to-r from-pink-700 to-rose-700 p-4 flex justify-between items-center border-b border-gray-600">
                <div class="flex items-center gap-2">
                    <span class="text-2xl">üìú</span>
                    <h2 class="text-xl font-black text-white tracking-wide">G√úNL√úK G√ñREVLER</h2>
                </div>
                <button id="close-quests-modal-btn" class="bg-black/20 hover:bg-black/40 text-white rounded-full p-1 transition">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>

            <div class="bg-gray-900/50 p-3 text-center border-b border-gray-700">
                <p class="text-gray-400 text-xs">G√∂revler her gece 00:00'da yenilenir.</p>
                <p id="quests-countdown" class="text-pink-400 font-mono font-bold text-sm mt-1">Kalan S√ºre: --:--:--</p>
            </div>

            <div id="quests-list-container" class="flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar">
                <div class="text-center text-gray-500 py-8">Y√ºkleniyor...</div>
            </div>

        </div>
    </div>
    
</body>
</html>