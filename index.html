<!DOCTYPE html>
<html lang="tr"> 
<head>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='10'%20rx='32'%20fill='%23b45309'/%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='6'%20rx='32'%20fill='%23f59e0b'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dy='.1em'%20dominant-baseline='central'%20text-anchor='middle'%20font-size='110'%20font-family='Inter,%20sans-serif'%20font-weight='bold'%20fill='%23ffffff'%3EK%3C/text%3E%3C/svg%3E">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Kelime Oyunu - Ã‡ok Oyunculu</title>
    <meta name="theme-color" content="#111827"/>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg' viewBox='0%200%20192%20192'%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='10'%20rx='32'%20fill='%23b45309'/%3E%3Crect%20width='180'%20height='180'%20x='6'%20y='6'%20rx='32'%20fill='%23f59e0b'/%3E%3Ctext%20x='50%25'%20y='50%25'%20dy='.1em'%20dominant-baseline='central'%20text-anchor='middle'%20font-size='110'%20font-family='Inter,%20sans-serif'%20font-weight='bold'%20fill='%23ffffff'%3EK%3C/text%3E%3C/svg%3E">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        .back-button-hitbox {
            padding: 8px !important;
            margin-left: -8px !important;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        #leave-game-button, #main-menu-btn {
            cursor: pointer;
        }
        /* Ã–zel Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #1f2937; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #6b7280; }
    </style>
    
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-900 text-gray-200 overflow-hidden">
    
    <div id="app" class="w-full max-w-md mx-auto flex flex-col h-screen max-h-screen">
    
        <div id="main-menu-screen" class="hidden flex-1 flex flex-col p-2 space-y-4">
            <header class="flex justify-between items-center bg-gray-800 p-3 rounded-lg shadow">
                <div class="flex items-center gap-3">
                    <img id="main-menu-avatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%236B7280'/%3E%3C/svg%3E" class="w-10 h-10 rounded-full border-2 border-gray-600 cursor-pointer">
                    <div>
                        <p id="main-menu-username" class="font-extrabold text-lg">kullanici_adi</p>
                        <p id="main-menu-stats" class="text-xs text-gray-400">BaÅŸarÄ±: %0 | Seri: 0</p>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button id="stats-btn" class="p-2 bg-gray-700 rounded-full hover:bg-gray-600 transition"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></button>
                    <button id="logout-btn" class="text-red-400 hover:text-red-500 text-sm font-semibold">Ã‡Ä±kÄ±ÅŸ</button>
                </div>
            </header>
            
            <div class="flex-grow"></div>
            <div class="flex space-x-4 justify-center">
                <button id="new-game-btn" class="w-1/2 bg-green-600 hover:bg-green-700 rounded-lg py-5 text-2xl font-bold transition shadow-lg">Yeni Oyun</button>
                <button id="my-games-btn" class="w-1/2 bg-amber-600 hover:bg-amber-700 rounded-lg py-5 text-2xl font-bold transition shadow-lg">OyunlarÄ±m</button>
            </div>
            
            <div class="grid grid-cols-2 gap-4">
                <button id="kelimelig-btn" class="bg-purple-800 hover:bg-purple-700 rounded-lg py-5 text-xl font-bold transition shadow-md border border-purple-500/30">ğŸ† KelimeLÄ°G</button>
                <button id="daily-word-btn" class="bg-teal-600 hover:bg-teal-700 rounded-lg py-5 text-xl font-bold transition shadow-md">GÃ¼nÃ¼n Kelimesi</button>
            </div>

            <button id="market-btn" class="w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 rounded-lg py-4 text-xl font-bold transition shadow-lg flex items-center justify-center gap-2 border border-orange-400/30">
                <span class="text-2xl">âœï¸</span>
                <span>KIRTASÄ°YE</span>
            </button>

            <div class="grid grid-cols-2 gap-4">
                <button id="friends-btn" class="bg-blue-600 hover:bg-blue-700 rounded-lg py-4 text-lg font-bold transition shadow-md">ArkadaÅŸla Oyna</button>
                <button id="stats-btn-main" class="bg-gray-600 hover:bg-gray-500 rounded-lg py-4 text-lg font-bold transition shadow-md">Ä°statistik</button>
            </div>
            
            <div class="flex-grow"></div>
            <div class="flex justify-between items-center text-sm text-gray-400">
                <button id="how-to-play-btn" class="hover:text-white transition text-red-500 font-bold">NasÄ±l OynanÄ±r?</button>
                
                <button id="dictionary-menu-btn" class="hover:text-white transition text-amber-500 font-bold flex items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" />
                    </svg>
                    <span>SÃ¶zlÃ¼k</span>
                </button>
                <div class="flex items-center gap-2">
                    <span class="text-red-500 font-bold">Tema:</span>
                    <button id="theme-light-btn" class="w-6 h-6 rounded-full border-2 border-gray-500" style="background-color: #faedcd;"></button>
                    <button id="theme-dark-btn" class="w-6 h-6 rounded-full bg-gray-900 border-2 border-gray-500"></button>
                </div>
            </div>
        </div>

        <div id="new-game-screen" class="hidden flex-1 flex flex-col p-2 space-y-4">
            <header class="flex items-center">
                <button id="back-to-main-menu-btn" class="back-button-hitbox">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                </button>
                <h1 class="text-2xl font-bold text-center flex-grow -ml-10">Yeni Oyun</h1>
            </header>
            <div class="grid grid-cols-2 gap-4 flex-grow">
                <button id="random-game-btn" class="bg-gray-700 hover:bg-gray-600 transition rounded-lg p-4 flex flex-col items-center justify-center space-y-2"><svg class="w-16 h-16 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h5M5.52 9.48A8 8 0 112.63 7.01M20 20v-5h-5"></path></svg><span class="font-bold text-lg">GEVÅEK (12 saat)</span></button>
                <button id="series-game-btn" class="bg-gray-700 hover:bg-gray-600 transition rounded-lg p-4 flex flex-col items-center justify-center space-y-2"><svg class="w-16 h-16 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="font-bold text-lg">Seri Oyun</span></button>
                <button id="with-friends-btn" class="bg-gray-700 hover:bg-gray-600 transition rounded-lg p-4 flex flex-col items-center justify-center space-y-2"><svg class="w-16 h-16 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg><span class="font-bold text-lg">ArkadaÅŸÄ±nla</span></button>
                <button id="multiplayer-br-btn" class="bg-gray-700 hover:bg-gray-600 transition rounded-lg p-4 flex flex-col items-center justify-center space-y-2"><svg class="w-16 h-16 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"></path></svg><span class="font-bold text-lg">Ã‡oklu Oyuncu</span></button>
                <button id="vs-cpu-btn" class="bg-gray-700 hover:bg-gray-600 transition rounded-lg p-4 flex flex-col items-center justify-center space-y-2"><svg class="w-16 h-16 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2m-3 14v-2m0-16V3m-4 6H3m2 6H3m18-6h-2m2 6h-2M12 6V3m0 18v-3"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18a6 6 0 100-12 6 6 0 000 12z"></path></svg><span class="font-bold text-lg">Bilgisayara KarÅŸÄ±</span></button>
            </div>
        </div>
        
        <div id="my-games-screen" class="hidden flex-1 flex flex-col p-2">
             <header class="flex items-center mb-4">
                 <button id="back-to-main-menu-from-games-btn" class="back-button-hitbox">
                     <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                 </button>
                 <h1 class="text-2xl font-bold text-center flex-grow -ml-10">OyunlarÄ±m</h1>
             </header>
             <div class="flex border-b border-gray-600 mb-4">
                 <button id="show-active-games-tab-btn" class="flex-1 py-2 text-center text-white border-b-2 border-indigo-500">Aktif</button>
                 <button id="show-finished-games-tab-btn" class="flex-1 py-2 text-center text-gray-400">Biten</button>
                 <button id="show-invites-tab-btn" class="flex-1 py-2 text-center text-gray-400">Davetler <span id="game-invite-count" class="hidden bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 ml-1">0</span></button>
             </div>
             <div id="active-games-tab" class="flex-1 overflow-y-auto"><p class="text-center text-gray-400 mt-16">Aktif oyununuz bulunmuyor.</p></div>
             <div id="finished-games-tab" class="hidden flex-1 overflow-y-auto"><p class="text-center text-gray-400 mt-16">HenÃ¼z biten oyununuz yok.</p></div>
             <div id="invites-tab" class="hidden flex-1 overflow-y-auto"><p class="text-center text-gray-400 mt-16">Yeni davetiniz yok.</p></div>
        </div>

        <div id="login-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col justify-center">
            <h1 class="text-4xl font-bold text-center mb-6">Kelime YarÄ±ÅŸmasÄ±</h1>
            <div class="space-y-4">
                <input type="email" id="email-input" placeholder="E-posta Adresiniz" class="w-full p-3 border rounded-md bg-gray-700 border-gray-600 text-center text-white text-lg">
                <input type="password" id="password-input" placeholder="Åifreniz" class="w-full p-3 border rounded-md bg-gray-700 border-gray-600 text-center text-white text-lg">
                <button id="login-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-lg">GiriÅŸ Yap</button>
                <button id="go-to-register-btn" class="text-sm text-gray-400 hover:text-white mt-2">HesabÄ±n yok mu? KayÄ±t Ol</button>
            </div>
            <p id="auth-loading" class="text-gray-400 mt-4 hidden">Ä°ÅŸlem yapÄ±lÄ±yor...</p>
        </div>

        <div id="register-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col justify-center">
            <h1 class="text-3xl font-bold text-center mb-4">Yeni Hesap OluÅŸtur</h1>
            <div class="space-y-3">
                <input type="text" id="register-fullname" placeholder="Ad Soyad" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                <input type="text" id="register-username" placeholder="KullanÄ±cÄ± AdÄ±" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white" maxlength="12">
                <input type="email" id="register-email" placeholder="E-posta Adresi" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                
                <input type="tel" id="register-phone" placeholder="Telefon NumarasÄ±" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                <input type="password" id="register-password" placeholder="Åifre (en az 6 karakter)" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                <div class="flex gap-2">
                    <input type="number" id="register-age" placeholder="YaÅŸ" class="w-1/2 p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                    <input type="text" id="register-city" placeholder="Åehir" class="w-1/2 p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white">
                </div>
                <button id="register-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-lg">KaydÄ± Tamamla</button>
                <button id="back-to-login-btn" class="text-sm text-gray-400 hover:text-white mt-2">Zaten hesabÄ±m var</button>
            </div>
        </div>

        <div id="friends-screen" class="hidden bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col">
            <header class="flex items-center mb-4">
                 <button id="back-to-main-from-friends-btn" class="back-button-hitbox">
                     <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                 </button>
                 <h1 class="text-2xl font-bold text-center flex-grow -ml-10">ArkadaÅŸlar</h1>
             </header>
            <div class="flex border-b border-gray-600 mb-4">
                <button id="show-friends-tab-btn" class="flex-1 py-2 text-center text-white border-b-2 border-indigo-500">ArkadaÅŸlarÄ±m</button>
                <button id="show-requests-tab-btn" class="flex-1 py-2 text-center text-gray-400">Ä°stekler <span id="friend-request-count" class="hidden bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 ml-1">0</span></button>
                <button id="show-add-friend-tab-btn" class="flex-1 py-2 text-center text-gray-400">ArkadaÅŸ Ekle</button>
            </div>
            <div id="friends-tab" class="flex-1 overflow-y-auto"><p id="friends-list-placeholder" class="text-gray-500 text-center mt-8">HenÃ¼z hiÃ§ arkadaÅŸÄ±n yok.</p><div id="friends-list" class="space-y-2"></div></div>
            <div id="requests-tab" class="hidden flex-1 overflow-y-auto"><p id="friend-requests-placeholder" class="text-gray-500 text-center mt-8">Yeni arkadaÅŸlÄ±k isteÄŸi yok.</p><div id="friend-requests-list" class="space-y-2"></div></div>
            <div id="add-friend-tab" class="hidden flex-1">
                <div class="flex gap-2">
                    <input type="text" id="search-friend-input" placeholder="KullanÄ±cÄ± adÄ± veya e-posta" class="flex-grow p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                    <button id="search-friend-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg">Ara</button>
                </div>
                <div id="friend-search-results" class="mt-4 space-y-2"></div>
            </div>
        </div>

        <div id="multiplayer-setup-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex-col justify-center">
            <button id="back-to-mode-multi-btn" class="back-button-hitbox absolute top-4 left-4">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
            </button>
            <h1 class="text-3xl font-bold text-center mb-6" id="multiplayer-setup-title">Online Oyun Kurulumu</h1>
            <div class="mb-4">
                <button id="invite-friend-btn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg text-lg mb-4">ArkadaÅŸÄ±na Meydan Oku</button>
                <hr class="border-gray-600 my-4">
                <h2 class="text-2xl font-semibold mb-3">Oyun AyarlarÄ±</h2>
                <div class="grid grid-cols-3 gap-2">
                    <div>
                        <label for="word-length-select-multi" class="block text-sm font-medium text-gray-400">Harf</label>
                        <select id="word-length-select-multi" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                            <option value="4">4</option>
                            <option value="5" selected>5</option>
                            <option value="6">6</option>
                        </select>
                    </div>
                    <div>
                        <label for="time-select-multi" class="block text-sm font-medium text-gray-400">SÃ¼re</label>
                        <select id="time-select-multi" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                            <option value="45" selected>45 sn (Seri)</option>
                            <option value="43200">12 saat (GevÅŸek)</option>
                        </select>
                    </div>
                    <div>
                        <label for="match-length-select" class="block text-sm font-medium text-gray-400">Tur</label>
                        <select id="match-length-select" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-white">
                            <option value="1">1</option>
                            <option value="5" selected>5</option>
                            <option value="10">10</option>
                            <option value="15">15</option>
                            <option value="20">20</option>
                        </select>
                    </div>
                </div>
                <div class="mt-4 flex items-center justify-center">
                    <input id="hard-mode-checkbox-multi" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                    <label for="hard-mode-checkbox-multi" class="ml-2 block text-sm text-gray-300">Zor Mod</label>
                </div>
                <button id="create-game-btn" class="w-full mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Oyun Kur</button>
            </div>
            <hr class="my-4 border-gray-600">
            <div>
                <h2 class="text-2xl font-semibold mb-3">Oyuna KatÄ±l (ID ile)</h2>
                <input type="text" id="game-id-input" placeholder="Oyun ID'sini girin" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 mb-3 text-center uppercase text-white placeholder-gray-400">
                <button id="join-game-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Oyuna KatÄ±l</button>
            </div>
        </div>

        <div id="br-setup-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex-col justify-center">
            <button id="back-to-mode-br-btn" class="back-button-hitbox absolute top-4 left-4">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
            </button>
            <h1 class="text-3xl font-bold text-center mb-6">Battle Royale (4 KiÅŸilik)</h1>
            <p class="text-sm text-gray-400 mb-4">EÅŸ zamanlÄ± tahmin. Ä°lk Ã§Ã¶zen kazanÄ±r, 6 tahminde bulamazsan elenirsin.</p>
            <button id="create-br-game-btn" class="w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Oyun Kur (BR)</button>
            <hr class="my-4 border-gray-600">
            <div>
                <h2 class="text-2xl font-semibold mb-3">Oyuna KatÄ±l (BR ID ile)</h2>
                <input type="text" id="game-id-input-br" placeholder="Oyun ID'sini girin" class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 mb-3 text-center uppercase text-white placeholder-gray-400">
                <button id="join-br-game-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Oyuna KatÄ±l (BR)</button>
            </div>
            <p id="br-waiting-for-players" class="text-gray-400 mt-4 hidden">DiÄŸer oyuncular bekleniyor (1/4)</p>
        </div>

        <div id="profile-screen" class="hidden text-center bg-gray-800 p-4 rounded-lg shadow-lg flex-1 flex flex-col">
            <h2 class="text-3xl font-bold mb-4">Ä°statistikler</h2>
            
            <div class="flex border-b border-gray-600 mb-4">
                <button id="show-personal-stats-tab-btn" class="flex-1 py-2 text-center text-white border-b-2 border-indigo-500">KiÅŸisel</button>
                <button id="show-global-ranking-tab-btn" class="flex-1 py-2 text-center text-gray-400">Genel SÄ±ralama</button>
            </div>

            <div id="personal-stats-tab" class="flex-1 flex flex-col overflow-y-auto">
                <div class="grid grid-cols-4 gap-2 text-center mb-4">
                    <div> <p id="stats-played" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">Oynanan</p> </div>
                    <div> <p id="stats-win-percentage" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">Kazanma %</p> </div>
                    <div> <p id="stats-current-streak" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">Seri</p> </div>
                    <div> <p id="stats-max-streak" class="text-2xl font-bold">0</p> <p class="text-xs text-gray-400">En Ä°yi Seri</p> </div>
                </div>
                <h3 class="text-xl font-bold mb-2">Tahmin DaÄŸÄ±lÄ±mÄ±</h3>
                <div id="stats-guess-distribution" class="w-full max-w-xs mx-auto space-y-1 text-xs text-left"></div>
            </div>

            <div id="global-ranking-tab" class="hidden flex-1 overflow-y-auto">
                <p id="global-ranking-loading" class="text-gray-400 mt-16">SÄ±ralama yÃ¼kleniyor...</p>
                <div id="global-ranking-list" class="text-left">
                </div>
            </div>

            <button id="close-profile-btn" class="w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg flex-shrink-0">Kapat</button>
        </div>
        
        <div id="edit-profile-screen" class="hidden flex-1 flex flex-col p-4 bg-gray-800">
            <header class="flex items-center mb-4">
                <button id="back-to-main-from-edit-profile-btn" class="back-button-hitbox">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                </button>
                <h1 class="text-2xl font-bold text-center flex-grow -ml-10">Profili DÃ¼zenle</h1>
            </header>

            <div class="flex-1 flex flex-col items-center overflow-y-auto">
                <div class="mb-6 flex flex-col items-center">
                    <div class="relative mb-3">
                        <img id="profile-avatar-img" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%236B7280'/%3E%3C/svg%3E" 
                             class="w-24 h-24 rounded-full border-4 border-gray-600">
                        <button id="change-avatar-btn" class="absolute -bottom-2 -right-2 bg-indigo-600 hover:bg-indigo-700 p-2 rounded-full border-2 border-gray-800">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path></svg>
                        </button>
                    </div>
                </div>

                <div class="w-full max-w-xs space-y-3">
                    <div>
                        <label for="profile-username-input" class="block text-sm font-medium text-gray-400 text-left mb-1">KullanÄ±cÄ± AdÄ± (DeÄŸiÅŸtirilebilir)</label>
                        <input type="text" id="profile-username-input" placeholder="KullanÄ±cÄ± AdÄ±" 
                               class="w-full p-2 border rounded-md bg-gray-700 border-gray-600 text-center text-white" maxlength="12">
                    </div>
                    <button id="save-profile-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-md">
                        DeÄŸiÅŸiklikleri Kaydet
                    </button>
                    <hr class="border-gray-600">
                    <div>
                        <label for="profile-fullname-display" class="block text-sm font-medium text-gray-400 text-left mb-1">Ad Soyad</label>
                        <input type="text" id="profile-fullname-display" class="w-full p-2 border rounded-md bg-gray-600 border-gray-500 text-center text-gray-400" disabled>
                    </div>
                    <div>
                        <label for="profile-email-display" class="block text-sm font-medium text-gray-400 text-left mb-1">E-posta</label>
                        <input type="email" id="profile-email-display" class="w-full p-2 border rounded-md bg-gray-600 border-gray-500 text-center text-gray-400" disabled>
                    </div>
                </div>
            </div>
        </div>

        <div id="how-to-play-screen" class="hidden bg-gray-800 p-4 shadow-lg flex-1 flex flex-col text-left overflow-y-auto">
                <h2 class="text-3xl font-bold mb-4 text-center">NasÄ±l OynanÄ±r?</h2>
                <p class="text-center mb-4">Gizli kelimeyi 6 tahminde bulun.</p>
            <div class="tutorial-container">
                <div id="tutorial-grid" class="grid gap-1 w-full" style="margin: 0 auto; max-width: 260px; grid-template-columns: repeat(5, 1fr);">
                     <div class="tutorial-tile" id="t-0-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-0-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-1-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-2-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-3-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-4-4"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-0"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-1"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-2"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-3"><div class="front"></div><div class="back"></div></div>
                     <div class="tutorial-tile" id="t-5-4"><div class="front"></div><div class="back"></div></div>
                </div>

                <div id="tutorial-joker-container" class="joker-container" style="padding: 10px 0;">
                    <button id="tutorial-joker-present" class="joker-button">
                        <span class="joker-badge">x1</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m12.728 0l-.707.707M12 21v-1m-6.364-1.636l.707-.707M12 17a5 5 0 100-10 5 5 0 000 10z" /></svg>
                    </button>
                    <button id="tutorial-joker-correct" class="joker-button">
                        <span class="joker-badge">x1</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m12.728 0l-.707.707M12 21v-1m-6.364-1.636l.707-.707M12 17a5 5 0 100-10 5 5 0 000 10z" /></svg>
                    </button>
                    <button id="tutorial-joker-remove" class="joker-button">
                        <span class="joker-badge">x1</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 17l4 4 4-4m-4-10v14M3 8v8a2 2 0 002 2h14a2 2 0 002-2V8M3 10h18M7 15h1m4 0h1m4 0h1M7 12h1m4 0h1m4 0h1" /></svg>
                    </button>
                </div>
                <div id="tutorial-keyboard" class="w-full flex-shrink-0" style="padding: 8px 2px 2px 2px; box-sizing: border-box;">
                    <div class="tutorial-key-row" style="display: flex; justify-content: center; gap: 4px; margin-bottom: 4px;">
                        <button class="tutorial-key" data-key="E">E</button>
                        <button class="tutorial-key" data-key="R">R</button>
                        <button class="tutorial-key" data-key="T">T</button>
                        <button class="tutorial-key" data-key="Y">Y</button>
                        <button class="tutorial-key" data-key="U">U</button>
                        <button class="tutorial-key" data-key="I">I</button>
                        <button class="tutorial-key" data-key="O">O</button>
                        <button class="tutorial-key" data-key="P">P</button>
                        <button class="tutorial-key" data-key="Ä">Ä</button>
                        <button class="tutorial-key" data-key="Ãœ">Ãœ</button>
                    </div>
                    <div class="tutorial-key-row" style="display: flex; justify-content: center; gap: 4px; margin-bottom: 4px;">
                        <button class="tutorial-key" data-key="A">A</button>
                        <button class="tutorial-key" data-key="S">S</button>
                        <button class="tutorial-key" data-key="D">D</button>
                        <button class="tutorial-key" data-key="F">F</button>
                        <button class="tutorial-key" data-key="G">G</button>
                        <button class="tutorial-key" data-key="H">H</button>
                        <button class="tutorial-key" data-key="J">J</button>
                        <button class="tutorial-key" data-key="K">K</button>
                        <button class="tutorial-key" data-key="L">L</button>
                        <button class="tutorial-key" data-key="Å">Å</button>
                        <button class="tutorial-key" data-key="Ä°">Ä°</button>
                    </div>
                    <div class="tutorial-key-row" style="display: flex; justify-content: center; gap: 4px; margin-bottom: 4px;">
                        <button class="tutorial-key" data-key="Z">Z</button>
                        <button class="tutorial-key" data-key="C">C</button>
                        <button class="tutorial-key" data-key="V">V</button>
                        <button class="tutorial-key" data-key="B">B</button>
                        <button class="tutorial-key" data-key="N">N</button>
                        <button class="tutorial-key" data-key="M">M</button>
                        <button class="tutorial-key" data-key="Ã–">Ã–</button>
                        <button class="tutorial-key" data-key="Ã‡">Ã‡</button>
                    </div>
                </div>
            </div>

            <ul class="text-left space-y-3 mt-4" style="padding: 0 10px;">
                <li><span class="tutorial-tile-mini correct">Ã–</span> Harf kelimede var ve <strong>doÄŸru yerde</strong>.</li>
                <li><span class="tutorial-tile-mini present">N</span> Harf kelimede var ama <strong>yanlÄ±ÅŸ yerde</strong>.</li>
                <li><span class="tutorial-tile-mini absent">R</span> Harf kelimede <strong>yok</strong>.</li>
            </ul>
            <button id="close-how-to-play-btn" class="w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg text-lg">AnladÄ±m</button>
        </div>

        <div id="game-screen" class="hidden flex-1 flex flex-col items-center px-2">
            
            <div id="multiplayer-score-board" class="hidden w-full bg-gray-800 p-2 rounded-lg shadow flex-shrink-0 mb-2">
                <div class="grid grid-cols-5 gap-2 w-full items-center">
                    <div class="col-span-2 flex flex-col gap-2">
                        <div id="br-player-slot-0" class="bg-gray-700 p-2 rounded-lg shadow"><p class="font-bold text-sm truncate text-gray-500">---</p><p class="text-xs text-gray-500">BoÅŸ</p></div>
                        <div id="br-player-slot-1" class="bg-gray-700 p-2 rounded-lg shadow"><p class="font-bold text-sm truncate text-gray-500">---</p><p class="text-xs text-gray-500">BoÅŸ</p></div>
                    </div>
                    <div class="col-span-1 flex flex-col items-center justify-center">
                         <p id="br-round-counter" class="text-xs text-gray-400">Tur 1</p>
                         <p id="br-timer-display" class="font-bold text-4xl font-mono text-amber-400">60</p>
                         <p id="br-turn-display" class="font-bold text-sm text-center">Tahmin Yap!</p>
                    </div>
                    <div class="col-span-2 flex flex-col gap-2">
                        <div id="br-player-slot-2" class="bg-gray-700 p-2 rounded-lg shadow"><p class="font-bold text-sm truncate text-gray-500">---</p><p class="text-xs text-gray-500">BoÅŸ</p></div>
                        <div id="br-player-slot-3" class="bg-gray-700 p-2 rounded-lg shadow"><p class="font-bold text-sm truncate text-gray-500">---</p><p class="text-xs text-gray-500">BoÅŸ</p></div>
                    </div>
                </div>
            </div>
            
            <div class="w-full bg-gray-800 p-1 rounded-lg shadow flex items-center justify-between flex-shrink-0" id="sequential-game-info">
                <div id="player1-score" class="text-left w-2/5 truncate"></div>
                <div class="text-center w-1/5">
                    <p id="round-counter" class="text-xs text-gray-400"></p>
                    <p id="turn-display" class="font-bold text-md"></p>
                    <p id="timer-display" class="font-bold text-xl font-mono text-gray-300"></p>
                </div>
                <div id="player2-score" class="text-right w-2/5 truncate"></div>
            </div>
            
            <div id="game-info-bar" class="w-full text-center py-1 flex justify-between items-center px-2 flex-shrink-0">
                 <div class="flex items-center gap-2">
                     <p class="text-xs">Oyun ID: <strong id="game-id-display" class="text-indigo-400"></strong></p>
                     <button id="copy-game-id-btn" class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-0 px-2 rounded text-xs">Kopyala</button>
                     <button id="share-game-btn" class="hidden bg-blue-600 hover:bg-blue-500 text-white font-bold py-0 px-2 rounded text-xs flex items-center gap-1"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"></path></svg><span>PaylaÅŸ</span></button>
                 </div>
                 <button id="leave-game-button" class="bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-3 rounded text-sm">AyrÄ±l</button>
            </div>

            <div class="w-full flex-grow flex flex-col justify-center overflow-y-auto min-h-0">
                <div id="guess-grid" class="grid gap-1 w-full" style="margin: 0 auto;"></div>
            </div>
            
            <button id="start-game-btn" class="hidden w-full bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-4 rounded-lg text-lg my-1 flex-shrink-0">Oyunu BaÅŸlat</button>
            
            <div id="joker-container" class="joker-container">
                <button id="joker-present" class="joker-button">
                    <span class="joker-badge">x1</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m12.728 0l-.707.707M12 21v-1m-6.364-1.636l.707-.707M12 17a5 5 0 100-10 5 5 0 000 10z" /></svg>
                </button>
                
                <button id="joker-correct" class="joker-button">
                    <span class="joker-badge">x1</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m12.728 0l-.707.707M12 21v-1m-6.364-1.636l.707-.707M12 17a5 5 0 100-10 5 5 0 000 10z" /></svg>
                </button>
                
                <button id="joker-remove" class="joker-button">
                    <span class="joker-badge">x1</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 17l4 4 4-4m-4-10v14M3 8v8a2 2 0 002 2h14a2 2 0 002-2V8M3 10h18M7 15h1m4 0h1m4 0h1M7 12h1m4 0h1m4 0h1" /></svg>
                </button>
            </div>
            <div id="keyboard" class="w-full flex-shrink-0"></div>
        </div>

        <div id="scoreboard-screen" class="hidden flex-1 flex flex-col justify-center">
            <div class="text-center bg-gray-800 p-4 rounded-lg shadow-lg">
                <h2 id="round-winner-display" class="text-3xl font-bold mb-2"></h2>
                <h3 id="match-winner-display" class="text-2xl font-bold mb-4 text-yellow-400"></h3>
                
                <div id="daily-stats-container" class="hidden">
                </div>

                <div class="mb-4" id="default-word-display-container">
                    <p>DoÄŸru Kelime: <strong id="correct-word-display" class="text-green-400 text-xl"></strong></p>
                    <p id="word-meaning-display" class="text-sm text-gray-400 mt-2 italic"></p>
                    
                    <button id="btn-add-word-to-dict" class="hidden mt-3 text-xs bg-amber-600 hover:bg-amber-700 text-white py-2 px-4 rounded-full items-center gap-2 justify-center mx-auto transition shadow-md border border-amber-500/50">
                        <span>ğŸ“–</span> SÃ¶zlÃ¼ÄŸe Ekle
                    </button>
                    </div>
                
                <div id="final-scores" class="w-full max-w-xs mx-auto mb-6 text-left"></div>
                
                <div class="flex gap-2" id="default-round-buttons">
                <button id="new-round-btn" class="hidden w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg text-lg mb-3">Yeni Oyun</button>
    
                 <button id="new-word-rematch-btn" class="hidden w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-lg mb-3">
                Yeni Kelime (RÃ¶vanÅŸ)
                </button>
                <button id="share-results-btn" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-lg text-lg mb-3">Sonucu PaylaÅŸ</button>
                <button id="main-menu-btn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg text-lg">Ana MenÃ¼</button>
                </div>
            </div>
        </div>

        <div id="kelimelig-screen" class="hidden flex-1 flex flex-col p-4 bg-gray-800">
             <header class="flex items-center mb-4">
                 <button id="back-to-main-from-league-btn" class="back-button-hitbox">
                     <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                 </button>
                 <h1 class="text-2xl font-bold text-center flex-grow -ml-10 text-yellow-400">ğŸ† KELÄ°MELÄ°G</h1>
             </header>

             <div class="flex-1 flex flex-col items-center justify-center overflow-y-auto">
                
                <div id="league-intro-section" class="w-full max-w-md text-center">
                    <p class="text-gray-400 text-sm mb-6">HaftalÄ±k Puan MÃ¼cadelesi</p>
                    <div class="bg-gray-700 p-4 rounded-lg text-left text-sm text-gray-300 space-y-3 mb-6 shadow-lg border border-gray-600">
                        <p>ğŸ“… <strong>BaÅŸlangÄ±Ã§:</strong> Her Pazartesi 00:00</p>
                        <p>ğŸ <strong>BitiÅŸ:</strong> Her Pazar 23:00</p>
                        <p>âš”ï¸ <strong>Format:</strong> Lige katÄ±lan herkesle 1 maÃ§.</p>
                        <p>â±ï¸ <strong>SÃ¼re:</strong> Her maÃ§ 120 saniye, 6 hak.</p>
                        <div class="border-t border-gray-600 pt-2 mt-2">
                            <p class="text-yellow-400 font-bold">ğŸ… Puanlama:</p>
                            <ul class="list-disc list-inside pl-2 text-xs">
                                <li>Kazanma (Az Tahmin): <span class="text-green-400">3 Puan</span></li>
                                <li>Beraberlik (EÅŸit Tahmin): <span class="text-blue-300">1 Puan</span></li>
                                <li>Kaybetme / Oynamama: <span class="text-red-400">0 Puan</span></li>
                            </ul>
                        </div>
                    </div>
                    <button id="join-league-btn" class="w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white font-bold py-4 rounded-lg text-xl shadow-lg transform transition active:scale-95">
                        LÄ°GE KATIL âœï¸
                    </button>
                    <p id="league-join-status" class="mt-4 text-green-400 font-bold hidden bg-gray-900 p-2 rounded border border-green-500/30">
                        âœ… KaydÄ±n alÄ±ndÄ±! Pazartesi 00:00'da maÃ§lar baÅŸlayacak.
                    </p>
                </div>

                <div id="league-dashboard-section" class="hidden w-full max-w-md flex flex-col h-full">
                    
                    <div class="flex justify-between items-center mb-4 bg-gray-900 p-4 rounded-lg border border-yellow-500/30 shadow-lg">
                        <div class="text-left">
                            <p class="text-xs text-gray-400 uppercase">Senin PuanÄ±n</p>
                            <span id="league-total-score" class="text-3xl font-black text-yellow-400 drop-shadow-md">0</span>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-400 uppercase">Hafta</p>
                            <span id="league-week-display" class="text-xl font-bold text-white">1</span>
                        </div>
                    </div>
                    
                    <div class="flex border-b border-gray-600 mb-4">
                        <button id="btn-show-fixtures" class="flex-1 py-2 text-center text-white border-b-2 border-yellow-500 transition-colors font-bold">
                            ğŸ“… FikstÃ¼r
                        </button>
                        <button id="btn-show-standings" class="flex-1 py-2 text-center text-gray-400 hover:text-white transition-colors font-bold">
                            ğŸ† Puan Durumu
                        </button>
                    </div>

                    <div id="tab-league-fixtures" class="flex-1 flex flex-col overflow-hidden">
                        <div id="league-matches-list" class="space-y-3 overflow-y-auto flex-1 pr-1 pb-4 custom-scrollbar">
                            </div>
                    </div>

                    <div id="tab-league-standings" class="hidden flex-1 flex flex-col overflow-hidden">
                        <div class="overflow-y-auto custom-scrollbar pr-1 pb-4">
                            <table class="w-full text-sm text-left text-gray-300">
                                <thead class="text-xs text-gray-400 uppercase bg-gray-700 sticky top-0">
                                    <tr>
                                        <th scope="col" class="px-3 py-2 rounded-tl-lg">Oyuncu</th>
                                        <th scope="col" class="px-2 py-2 text-center">O</th>
                                        <th scope="col" class="px-2 py-2 text-center">G</th>
                                        <th scope="col" class="px-2 py-2 text-center">B</th>
                                        <th scope="col" class="px-2 py-2 text-center">M</th>
                                        <th scope="col" class="px-3 py-2 text-center text-yellow-400 rounded-tr-lg">P</th>
                                    </tr>
                                </thead>
                                <tbody id="league-standings-body" class="bg-gray-800">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>

             </div>
        </div>

        <div id="kirtasiye-screen" class="hidden flex-1 flex flex-col p-4 bg-gray-900">
            <header class="flex items-center mb-6 border-b border-gray-700 pb-4">
                <button id="back-to-main-from-market-btn" class="back-button-hitbox">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                </button>
                <h1 class="text-3xl font-black text-center flex-grow -ml-10 text-amber-500 tracking-wider flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor"><path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" /></svg>
                    KIRTASÄ°YE
                </h1>
            </header>

            <div class="bg-gray-800 rounded-xl p-4 mb-6 flex justify-between items-center shadow-lg border border-amber-500/30">
                <div>
                    <p class="text-gray-400 text-xs uppercase font-bold">CÃ¼zdanÄ±m</p>
                    <p class="text-white text-lg font-medium">HoÅŸgeldin!</p>
                </div>
                <div class="flex items-center gap-2 bg-gray-900 px-4 py-2 rounded-full border border-yellow-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" /><path d="M10 2a8 8 0 100 16 8 8 0 000-16z" /><path fill-rule="evenodd" d="M10 4a6 6 0 100 12 6 6 0 000-12zm0 10a4 4 0 100-8 4 4 0 000 8z" clip-rule="evenodd" /></svg>
                    <span id="user-gold-display" class="text-2xl font-bold text-yellow-400">0</span>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto space-y-8 custom-scrollbar pr-2">
                
                <div>
                    <h2 class="text-xl font-bold text-white mb-3 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>
                        Jokerler
                    </h2>
                    <div class="grid grid-cols-1 gap-3">
                        
                        <div class="bg-gray-800 p-3 rounded-lg flex items-center justify-between border border-gray-700">
                            <div class="flex items-center gap-3">
                                <div class="bg-yellow-500 w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg">?</div>
                                <div>
                                    <h3 class="font-bold text-white">Harf Ä°pucu</h3>
                                    <p class="text-xs text-gray-400">Rastgele bir harf gÃ¶sterir.</p>
                                    <p class="text-xs text-indigo-400 mt-1">Stok: <span id="stock-present">0</span></p>
                                </div>
                            </div>
                            <button class="buy-item-btn bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow flex flex-col items-center min-w-[80px]" data-type="joker" data-item="present" data-price="100">
                                <span>100 ğŸª™</span>
                                <span class="text-[10px] font-normal opacity-80">SatÄ±n Al</span>
                            </button>
                        </div>

                        <div class="bg-gray-800 p-3 rounded-lg flex items-center justify-between border border-gray-700">
                            <div class="flex items-center gap-3">
                                <div class="bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg">âœ“</div>
                                <div>
                                    <h3 class="font-bold text-white">Kesin Harf</h3>
                                    <p class="text-xs text-gray-400">Harfi yerine yerleÅŸtirir.</p>
                                    <p class="text-xs text-indigo-400 mt-1">Stok: <span id="stock-correct">0</span></p>
                                </div>
                            </div>
                            <button class="buy-item-btn bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow flex flex-col items-center min-w-[80px]" data-type="joker" data-item="correct" data-price="250">
                                <span>250 ğŸª™</span>
                                <span class="text-[10px] font-normal opacity-80">SatÄ±n Al</span>
                            </button>
                        </div>

                        <div class="bg-gray-800 p-3 rounded-lg flex items-center justify-between border border-gray-700">
                            <div class="flex items-center gap-3">
                                <div class="bg-gray-500 w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg">âœ•</div>
                                <div>
                                    <h3 class="font-bold text-white">Harf Elet</h3>
                                    <p class="text-xs text-gray-400">Gereksiz harfleri siler.</p>
                                    <p class="text-xs text-indigo-400 mt-1">Stok: <span id="stock-remove">0</span></p>
                                </div>
                            </div>
                            <button class="buy-item-btn bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg text-sm shadow flex flex-col items-center min-w-[80px]" data-type="joker" data-item="remove" data-price="150">
                                <span>150 ğŸª™</span>
                                <span class="text-[10px] font-normal opacity-80">SatÄ±n Al</span>
                            </button>
                        </div>

                    </div>
                </div>

                <div>
                    <h2 class="text-xl font-bold text-white mb-3 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        AltÄ±n KasasÄ±
                    </h2>
                    <div class="grid grid-cols-2 gap-3">
                        <button class="buy-gold-btn bg-gray-800 hover:bg-gray-700 border border-yellow-600 p-4 rounded-xl flex flex-col items-center transition transform active:scale-95" data-amount="500">
                            <span class="text-3xl mb-2">ğŸª™</span>
                            <span class="font-bold text-white text-lg">500 AltÄ±n</span>
                            <span class="text-green-400 text-sm mt-1">ÃœCRETSÄ°Z (Reklam)</span>
                        </button>
                        <button class="buy-gold-btn bg-gray-800 hover:bg-gray-700 border border-yellow-600 p-4 rounded-xl flex flex-col items-center transition transform active:scale-95" data-amount="2000">
                            <span class="text-3xl mb-2">ğŸ’°</span>
                            <span class="font-bold text-white text-lg">2.000 AltÄ±n</span>
                            <span class="text-gray-400 text-sm mt-1 line-through">20â‚º</span>
                            <span class="text-green-400 text-sm font-bold">BEDAVA (Beta)</span>
                        </button>
                    </div>
                </div>

            </div>
        </div> 

        <div id="dictionary-screen" class="hidden flex-1 flex flex-col p-4 bg-gray-800">
            <header class="flex items-center mb-4 border-b border-gray-700 pb-3">
                <button id="back-to-main-from-dictionary-btn" class="back-button-hitbox">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                </button>
                <h1 class="text-2xl font-bold text-center flex-grow -ml-10 text-amber-500 flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" />
                    </svg>
                    SÃ–ZLÃœÄÃœM
                </h1>
            </header>

            <div class="text-center mb-4">
                <p class="text-gray-400 text-sm">Oyunda ilgini Ã§eken kelimeleri buraya kaydedebilirsin.</p>
            </div>

            <div id="dictionary-list-container" class="flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-1">
                <p id="dictionary-empty-msg" class="text-gray-500 text-center mt-10 italic">SÃ¶zlÃ¼ÄŸÃ¼n henÃ¼z boÅŸ.</p>
            </div>
        </div>
        <div id="avatar-selection-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md">
            <h3 class="text-2xl font-bold text-white mb-4">Avatar SeÃ§</h3>
            
            <div id="avatar-grid" class="grid grid-cols-4 gap-4 mb-4">
                </div>
            
            <button id="close-avatar-modal-btn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg">
                Kapat
            </button>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-functions-compat.js"></script>
    
    <script type="module" src="js/main.js?v=3.0.0"></script> 
</body>
</html>